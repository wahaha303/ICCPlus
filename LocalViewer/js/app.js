!function(){"use strict";var e=document.createElement("style");e.textContent='html{-webkit-text-size-adjust:100%;box-sizing:border-box;-moz-tab-size:4;tab-size:4;word-break:normal}*,:after,:before{background-repeat:no-repeat;box-sizing:inherit}:after,:before{text-decoration:inherit;vertical-align:inherit}*{margin:0;padding:0}hr{color:inherit;height:0;overflow:visible}details,main{display:block}summary{display:list-item}small{font-size:80%}[hidden]{display:none}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}a{background-color:transparent}a:active,a:hover{outline-width:0}code,kbd,pre,samp{font-family:monospace,monospace}pre{font-size:1em}b,strong{font-weight:bolder}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-color:inherit;text-indent:0}iframe{border-style:none}input{border-radius:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}textarea{overflow:auto;resize:vertical}button,input,optgroup,select,textarea{font:inherit}optgroup{font-weight:700}button{overflow:visible}button,select{text-transform:none}[role=button],[type=button],[type=reset],[type=submit],button{cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button:-moz-focusring{outline:1px dotted ButtonText}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}button,input,select,textarea{background-color:transparent;border-style:none}a:focus,button:focus,input:focus,select:focus,textarea:focus{outline-width:0}select{-moz-appearance:none;-webkit-appearance:none}select::-ms-expand{display:none}select::-ms-value{color:currentColor}legend{border:0;color:inherit;display:table;max-width:100%;white-space:normal}::-webkit-file-upload-button{-webkit-appearance:button;color:inherit;font:inherit}[disabled]{cursor:default}img{border-style:none}progress{vertical-align:baseline}[aria-busy=true]{cursor:progress}[aria-controls]{cursor:pointer}[aria-disabled=true]{cursor:default}html,body{height:100%}p{margin-bottom:0}#app,#lm{height:100%}#backpackDialog{max-height:100%}img{padding-right:0!important;padding-left:0!important;width:100%}.fadeOverlay{position:fixed;top:0;left:0;width:100%;height:100%;opacity:0;pointer-events:none;z-index:10000}.ab-0{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-backface-visibility:hidden;backface-visibility:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-height:100%;max-width:100%;position:relative;background-position:center;background-attachment:fixed}.s-main{height:100%}.m-half{margin:.125rem!important}.mt-half{margin-top:.125rem!important}.ml-half{margin-left:.125rem!important}.mr-half{margin-right:.125rem!important}.mb-half{margin-bottom:.125rem!important}.m-n1{margin:-.25rem!important}.m-n2{margin:-.5rem!important}.m-n3{margin:-1rem!important}.m-n4{margin:-1.5rem!important}.m-n5{margin:-3rem!important}.mt-n1{margin-top:-.25rem!important}.mt-n2{margin-top:-.5rem!important}.mt-n3{margin-top:-1rem!important}.mt-n4{margin-top:-1.5rem!important}.mt-n5{margin-top:-3rem!important}.ml-n1{margin-left:-.25rem!important}.ml-n2{margin-left:-.5rem!important}.ml-n3{margin-left:-1rem!important}.ml-n4{margin-left:-1.5rem!important}.ml-n5{margin-left:-3rem!important}.mr-n1{margin-right:-.25rem!important}.mr-n2{margin-right:-.5rem!important}.mr-n3{margin-right:-1rem!important}.mr-n4{margin-right:-1.5rem!important}.mr-n5{margin-right:-3rem!important}.mb-n1{margin-bottom:-.25rem!important}.mb-n2{margin-bottom:-.5rem!important}.mb-n3{margin-bottom:-1rem!important}.mb-n4{margin-bottom:-1.5rem!important}.mb-n5{margin-bottom:-3rem!important}.h-100{height:100%!important}.w-auto{width:auto!important}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.align-center{align-items:center}.list-text{font-size:.8125rem;font-weight:500;line-height:1rem}.dialog-title{font-size:1.5rem}.d-column{display:flex;flex-direction:column}.d-row{display:flex;flex-direction:row}.justify-start{justify-content:flex-start}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.justify-space-around{justify-content:space-around}.justify-space-between{justify-content:space-between}.dialog-actions--btn{color:#43a047}.mdc-dialog__title:focus{outline:none}.mdc-dialog__content{max-height:810px;font-size:.875rem;font-weight:400;line-height:1.375rem;letter-spacing:.0071428571em}.mdc-dialog__actions{padding:4px}.backpack-wrapper{font-size:.875rem;font-weight:400;line-height:1.375rem;letter-spacing:.0071428571em}.mdc-text-field,.mdc-button{width:100%}.mdc-floating-label{font-size:.9125rem}.mdc-select{width:100%}.mdc-snackbar{top:0;bottom:auto}.no-shadow{box-shadow:none}.mdc-form-field{font-size:1rem}.mdc-form-field>label{cursor:pointer}.mdc-tooltip{pointer-events:none}.smui-autocomplete__menu{max-width:100%}.toolbar{width:100%;font-size:24px;display:flex;flex-direction:row;align-items:center;overflow:auto}.toolbar__dialog{font-size:.875rem}.toolbar__title{font-family:Roboto,sans-serif;font-size:1.25rem;line-height:1.5}.toolbar__title p{display:inline}.toolbar__title p:not(:last-child){margin-right:4px}.req p{display:inline}.req p:not(:last-child){margin-right:4px}.point-slot{border-radius:4px}.disabled{pointer-events:none;opacity:.5}.hidden{display:none!important}.transparent{pointer-events:none;opacity:0}.preview-image{cursor:pointer}.mdc-deprecated-list-divider{border-bottom-color:currentColor}.btn--image-background{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;background:none;font:inherit;color:inherit;width:100%}.btn--image{width:100%;height:auto;object-fit:contain;object-position:center}.pointBar{height:56px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mdc-drawer--mini{position:fixed;width:56px;transition:width .2s}.mdc-drawer--mini:hover{width:256px}.navigation-drawer{display:flex;flex-direction:column;justify-content:space-between}.pointbar-icons{font-size:32px;padding:0}.pointbar-center--viewer{flex:1 0 auto!important;max-width:calc(90vw - 96px);overflow-x:auto;overflow-y:hidden;white-space:nowrap;padding:0;justify-content:space-around}.counter-icons{width:36px;height:36px;font-size:.875rem;overflow:hidden}.button-icons{font-size:24px!important}.mdc-chip--small{font-size:12px;border-radius:12px;height:24px}.mdi--small{font-size:12px!important}.mdi--normal{font-size:18px!important}.mdi--big{font-size:24px!important}.smui-chip-input__container{padding-top:20px!important;padding-left:12px!important;padding-right:12px!important}.mdi{font-family:Material Design Icons;line-height:1}.mdc-deprecated-list-item__graphic{font-size:24px}.switch-scale{--mdc-ripple-fg-scale: 1.45 !important;margin:8px}.check-scale{--mdc-checkbox-touch-target-size: 32px}.b-line{border-bottom:1px solid #e9ecef}.floating-button-container{position:relative;width:100%}.floating-button{position:absolute;z-index:1;top:50%;right:5px;transform:translateY(-50%)}.spacer{margin-left:auto}.hide-file-ui input[type=file]::file-selector-button{display:none}.hide-file-ui input[type=file]:not(.mdc-text-field--label-floating){color:transparent}.line-default{line-height:1}.row-cm{margin:0 1% 25px}.fullHeight{display:flex;height:100%;align-content:start}.w-20{-webkit-box-flex:0;-ms-flex:0 0 20%!important;flex:0 0 20%!important;max-width:20%}.w-14{-webkit-box-flex:0;-ms-flex:0 0 14.28%!important;flex:0 0 calc(100% / 7)!important;max-width:calc(100% / 7)}.w-12{-webkit-box-flex:0;-ms-flex:0 0 12.5%!important;flex:0 0 12.5%!important;max-width:12.5%}.w-11{-webkit-box-flex:0;-ms-flex:0 0 11.11%!important;flex:0 0 calc(100% / 9)!important;max-width:calc(100% / 9)}.w-10{-webkit-box-flex:0;-ms-flex:0 0 10%!important;flex:0 0 10%!important;max-width:10%}.w-9{-webkit-box-flex:0;-ms-flex:0 0 9.09%!important;flex:0 0 calc(100% / 11)!important;max-width:calc(100% / 11)}.bordered-panel{border-top-width:1px!important;margin:0!important}.mdc-form-field>label{width:100%}.bg-overlay{background-blend-mode:overlay}.on-top{z-index:99999!important}.create-box{display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer;color:gray;border:2px grey dashed;border-radius:10px;height:100%}.save-slot{border:1px grey solid}.textbox-mini{height:40px}.textbox-mini:before{height:24px}.panel--active,.mdc-tab--active .mdc-tab__text-label{color:#1976d2}.mdc-tab-indicator--active .mdc-tab-indicator__content--underline{border-color:#1976d2}.slider{max-width:104px;width:100%;height:32px}.mdc-slider,.mdc-slider .mdc-slider__thumb{height:32px}.mdc-slider .mdc-slider__thumb-knob{border:none;width:12px;height:12px}.mdc-slider .mdc-slider__track,.mdc-slider .mdc-slider__track--inactive{height:2px}.mdc-slider .mdc-slider__track--active{top:0;height:2px}.music-player{top:0;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;font-family:Roboto,sans-serif}.music-player--row{height:32px}.music-player--button{font-size:24px!important}.scrolling-text{display:inline-block;white-space:nowrap;min-width:150px;animation:scrollText 10s linear infinite}.viewer-menu{height:48px}.picture-input{width:100%;margin:0 auto;text-align:center}.preview-container{width:100%;box-sizing:border-box;margin:0 auto;cursor:pointer;overflow:hidden;transform:translateZ(0)}.picture-preview{width:100%;height:100%;position:relative;z-index:10001;box-sizing:border-box;background-color:#c8c8c840}.picture-preview.dragging-over{filter:brightness(.5)}.picture-inner{position:relative;z-index:10002;pointer-events:none;box-sizing:border-box;margin:1em auto;padding:.5em;border:.3em dashed rgba(66,66,66,.15);border-radius:8px;width:calc(100% - 2.5em);height:calc(100% - 2.5em);display:table}.picture-inner .picture-inner-text{display:table-cell;vertical-align:middle;text-align:center;font-size:2em;line-height:1.5}.picture-input input[type=file]{display:none}.text-prewrap{white-space:pre-wrap}@keyframes scrollText{0%{transform:translate(150px)}to{transform:translate(-100%)}}/*!\n* Cropper.js v1.6.2\n* https://fengyuanchen.github.io/cropperjs\n*\n* Copyright 2015-present Chen Fengyuan\n* Released under the MIT license\n*\n* Date: 2024-04-21T07:43:02.731Z\n*/.cropper-container{-webkit-touch-callout:none;direction:ltr;font-size:0;line-height:0;position:relative;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cropper-container img{backface-visibility:hidden;display:block;height:100%;image-orientation:0deg;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-canvas,.cropper-crop-box,.cropper-drag-box,.cropper-modal,.cropper-wrap-box{inset:0;position:absolute}.cropper-canvas,.cropper-wrap-box{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline:1px solid #39f;outline-color:#3399ffbf;overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:33.33333%;left:0;top:33.33333%;width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:33.33333%;top:0;width:33.33333%}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:after,.cropper-center:before{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:ns-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:ew-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:ns-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:ns-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:ew-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:nesw-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nwse-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:nesw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:nwse-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width:768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width:992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width:1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC)}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}\n/*$vite$:1*/',document.head.appendChild(e);const t=!1;var i=Array.isArray,n=Array.prototype.indexOf,o=Array.from,r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyDescriptors,l=Object.prototype,c=Array.prototype,d=Object.getPrototypeOf,u=Object.isExtensible;function p(e){return"function"==typeof e}const h=()=>{};function f(e){for(var t=0;t<e.length;t++)e[t]()}const m=16,g=32,v=64,b=256,y=512,T=1024,w=2048,I=4096,S=8192,C=16384,x=32768,A=65536,O=1<<17,E=1<<19,_=1<<21,k=1<<22,R=1<<23,M=Symbol("$state"),D=Symbol("legacy props"),$=Symbol(""),B=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function F(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}const L=Symbol();function N(e){return e===this.v}function P(e,t){return e!=e?t==t:e!==t||null!==e&&"object"==typeof e||"function"==typeof e}function j(e,t){return e!==t}function V(e){return!P(e,this.v)}let U=null;function H(e){U=e}function W(e){return X().get(e)}function z(e,t){return X().set(e,t),t}function q(e,t=!1,i){U={p:U,c:null,e:null,s:e,x:null,l:null}}function G(e){var t=U,i=t.e;if(null!==i)for(var n of(t.e=null,i))ot(n);return void 0!==e&&(t.x=e),U=t.p,e??{}}function X(e){return null===U&&F(),U.c??=new Map(function(e){let t=e.p;for(;null!==t;){const e=t.c;if(null!==e)return e;t=t.p}return null}(U)||void 0)}const K=new WeakMap;function Z(e,t){for(;null!==t;){if(128&t.f)try{return void t.b.error(e)}catch(Pd){e=Pd}t=t.parent}throw e instanceof Error&&Y(e),e}function Y(e){const t=K.get(e);t&&(r(e,"message",{value:t.message}),r(e,"stack",{value:t.stack}))}let Q=[],J=[];function ee(){var e=Q;Q=[],f(e)}function te(){return Q.length>0||J.length>0}function ie(e){if(0===Q.length&&!we){var t=Q;queueMicrotask(()=>{t===Q&&ee()})}Q.push(e)}function ne(){var e;Q.length>0&&ee(),J.length>0&&(e=J,J=[],f(e))}function oe(){const e=Ot.b;return null===e&&function(){throw new Error("https://svelte.dev/e/await_outside_boundary")}(),e}function re(e){var t=2050,i=null!==Ct&&2&Ct.f?Ct:null;null===Ot||null!==i&&0!==(i.f&b)?t|=b:Ot.f|=E;return{ctx:U,deps:null,effects:null,equals:N,f:t,fn:e,reactions:null,rv:0,v:L,wv:0,parent:i??Ot,ac:null}}function ae(e,t){let i=Ot;null===i&&function(){throw new Error("https://svelte.dev/e/async_derived_orphan")}();var n=i.b,o=void 0,r=_e(L),a=null,s=!Ct;return function(e){tt(4718592,e,!0)}(()=>{try{var t=e();a&&Promise.resolve(t).catch(()=>{})}catch(u){t=Promise.reject(u)}var i=()=>t;o=a?.then(i,i)??Promise.resolve(t),a=o;var l=me,c=n.is_pending();s&&(n.update_pending_count(1),c||l.increment());const d=(e,t=void 0)=>{a=null,c||l.activate(),t?t!==B&&(r.f|=R,De(r,t)):(0!==(r.f&R)&&(r.f^=R),De(r,e)),s&&(n.update_pending_count(-1),c||l.decrement()),he()};if(o.then(d,e=>d(null,e||"unknown")),l)return()=>{queueMicrotask(()=>l.neuter())}}),new Promise(e=>{!function t(i){function n(){i===o?e(r):t(o)}i.then(n,n)}(o)})}function se(e){const t=re(e);return kt(t),t}function le(e){const t=re(e);return t.equals=V,t}function ce(e){var t=e.effects;if(null!==t){e.effects=null;for(var i=0;i<t.length;i+=1)pt(t[i])}}function de(e){var t,i=Ot;Et(function(e){for(var t=e.parent;null!==t;){if(!(2&t.f))return t;t=t.parent}return null}(e));try{ce(e),t=Ut(e)}finally{Et(i)}return t}function ue(e){var t=de(e);(e.equals(t)||(e.v=t,e.wv=Pt()),It)||Yt(e,!Nt&&0===(e.f&b)||null===e.deps?T:I)}function pe(e,t,i){const n=re;if(0!==t.length){var o,r,a,s,l=me,c=Ot,d=(o=Ot,r=Ct,a=U,s=me,function(){Et(o),At(r),H(a),s?.activate()}),u=oe();Promise.all(t.map(e=>ae(e))).then(t=>{l?.activate(),d();try{i([...e.map(n),...t])}catch(o){0===(c.f&C)&&Z(o,c)}l?.deactivate(),he()}).catch(e=>{u.error(e)})}else i(e.map(n))}function he(){Et(null),At(null),H(null)}const fe=new Set;let me=null,ge=null,ve=new Set,be=[],ye=null,Te=!1,we=!1;class Ie{current=new Map;#e=new Map;#t=new Set;#i=0;#n=null;#o=!1;#r=[];#a=[];#s=[];#l=[];#c=[];#d=[];#u=[];skipped_effects=new Set;process(e){be=[],ge=null;for(const n of e)this.#p(n);if(0===this.#r.length&&0===this.#i){this.#h();var t=this.#s,i=this.#l;this.#s=[],this.#l=[],this.#c=[],ge=me,me=null,Ae(t),Ae(i),null===me?me=this:fe.delete(this),this.#n?.resolve()}else this.#f(this.#s),this.#f(this.#l),this.#f(this.#c);for(const n of this.#r)zt(n);for(const n of this.#a)zt(n);this.#r=[],this.#a=[]}#p(e){e.f^=T;for(var t=e.first;null!==t;){var i=t.f,n=!!(96&i);if(!(n&&0!==(i&T)||0!==(i&S)||this.skipped_effects.has(t))&&null!==t.fn){if(n)t.f^=T;else if(4&i)this.#l.push(t);else if(0===(i&T)){if(0!==(i&k))(t.b?.is_pending()?this.#a:this.#r).push(t);else jt(t)&&(0!==(t.f&m)&&this.#c.push(t),zt(t))}var o=t.first;if(null!==o){t=o;continue}}var r=t.parent;for(t=t.next;null===t&&null!==r;)t=r.next,r=r.parent}}#f(e){for(const t of e){(0!==(t.f&w)?this.#d:this.#u).push(t),Yt(t,T)}e.length=0}capture(e,t){this.#e.has(e)||this.#e.set(e,t),this.current.set(e,e.v)}activate(){me=this}deactivate(){me=null,ge=null;for(const e of ve)if(ve.delete(e),e(),null!==me)break}neuter(){this.#o=!0}flush(){be.length>0?Se():this.#h(),me===this&&(0===this.#i&&fe.delete(this),this.deactivate())}#h(){if(!this.#o)for(const e of this.#t)e();this.#t.clear()}increment(){this.#i+=1}decrement(){if(this.#i-=1,0===this.#i){for(const e of this.#d)Yt(e,w),Oe(e);for(const e of this.#u)Yt(e,I),Oe(e);this.#s=[],this.#l=[],this.flush()}else this.deactivate()}add_callback(e){this.#t.add(e)}settled(){return(this.#n??={promise:new Promise((i,n)=>{e=i,t=n}),resolve:e,reject:t}).promise;var e,t}static ensure(){if(null===me){const e=me=new Ie;fe.add(me),we||Ie.enqueue(()=>{me===e&&e.flush()})}return me}static enqueue(e){ie(e)}}function Se(){var e=Tt;Te=!0;try{var i=0;for(wt(!0);be.length>0;){var n=Ie.ensure();if(i++>1e3)t,Ce();n.process(be),Ee.clear()}}finally{Te=!1,wt(e),ye=null}}function Ce(){try{!function(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}()}catch(e){Z(e,ye)}}let xe=null;function Ae(e){var t=e.length;if(0!==t){for(var i=0;i<t;){var n=e[i++];if(!(24576&n.f)&&jt(n)&&(xe=[],zt(n),null===n.deps&&null===n.first&&null===n.nodes_start&&(null===n.teardown&&null===n.ac?ft(n):n.fn=null),xe?.length>0)){Ee.clear();for(const e of xe)zt(e);xe=[]}}xe=null}}function Oe(e){for(var t=ye=e;null!==t.parent;){var i=(t=t.parent).f;if(Te&&t===Ot&&0!==(i&m))return;if(96&i){if(0===(i&T))return;t.f^=T}}be.push(t)}const Ee=new Map;function _e(e,t){return{f:0,v:e,reactions:null,equals:N,rv:0,wv:0}}function ke(e,t){const i=_e(e);return kt(i),i}function Re(e,t=!1,i=!0){const n=_e(e);return t||(n.equals=V),n}function Me(e,t,i=!1){return null===Ct||xt&&0===(Ct.f&O)||!(4325394&Ct.f)||_t?.includes(e)||function(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}(),De(e,i?Fe(t):t)}function De(e,t){if(!e.equals(t)){var i=e.v;It?Ee.set(e,t):Ee.set(e,i),e.v=t,Ie.ensure().capture(e,i),2&e.f&&(0!==(e.f&w)&&de(e),Yt(e,0===(e.f&b)?T:I)),e.wv=Pt(),Be(e,w),null===Ot||0===(Ot.f&T)||96&Ot.f||(null===Dt?function(e){Dt=e}([e]):Dt.push(e))}return t}function $e(e){Me(e,e.v+1)}function Be(e,t){var i=e.reactions;if(null!==i)for(var n=i.length,o=0;o<n;o++){var r=i[o],a=r.f,s=0===(a&w);s&&Yt(r,t),2&a?Be(r,I):s&&(0!==(a&m)&&null!==xe&&xe.push(r),Oe(r))}}function Fe(e){if("object"!=typeof e||null===e||M in e)return e;const t=d(e);if(t!==l&&t!==c)return e;var n=new Map,o=i(e),r=ke(0),s=Ft,u=e=>{if(Ft===s)return e();var t=Ct,i=Ft;At(null),Lt(s);var n=e();return At(t),Lt(i),n};return o&&n.set("length",ke(e.length)),new Proxy(e,{defineProperty(e,t,i){"value"in i&&!1!==i.configurable&&!1!==i.enumerable&&!1!==i.writable||function(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}();var o=n.get(t);return void 0===o?o=u(()=>{var e=ke(i.value);return n.set(t,e),e}):Me(o,i.value,!0),!0},deleteProperty(e,t){var i=n.get(t);if(void 0===i){if(t in e){const e=u(()=>ke(L));n.set(t,e),$e(r)}}else Me(i,L),$e(r);return!0},get(t,i,o){if(i===M)return e;var r=n.get(i),s=i in t;if(void 0!==r||s&&!a(t,i)?.writable||(r=u(()=>ke(Fe(s?t[i]:L))),n.set(i,r)),void 0!==r){var l=Gt(r);return l===L?void 0:l}return Reflect.get(t,i,o)},getOwnPropertyDescriptor(e,t){var i=Reflect.getOwnPropertyDescriptor(e,t);if(i&&"value"in i){var o=n.get(t);o&&(i.value=Gt(o))}else if(void 0===i){var r=n.get(t),a=r?.v;if(void 0!==r&&a!==L)return{enumerable:!0,configurable:!0,value:a,writable:!0}}return i},has(e,t){if(t===M)return!0;var i=n.get(t),o=void 0!==i&&i.v!==L||Reflect.has(e,t);if((void 0!==i||null!==Ot&&(!o||a(e,t)?.writable))&&(void 0===i&&(i=u(()=>ke(o?Fe(e[t]):L)),n.set(t,i)),Gt(i)===L))return!1;return o},set(e,t,i,s){var l=n.get(t),c=t in e;if(o&&"length"===t)for(var d=i;d<l.v;d+=1){var p=n.get(d+"");void 0!==p?Me(p,L):d in e&&(p=u(()=>ke(L)),n.set(d+"",p))}void 0===l?c&&!a(e,t)?.writable||(Me(l=u(()=>ke(void 0)),Fe(i)),n.set(t,l)):(c=l.v!==L,Me(l,u(()=>Fe(i))));var h=Reflect.getOwnPropertyDescriptor(e,t);if(h?.set&&h.set.call(s,i),!c){if(o&&"string"==typeof t){var f=n.get("length"),m=Number(t);Number.isInteger(m)&&m>=f.v&&Me(f,m+1)}$e(r)}return!0},ownKeys(e){Gt(r);var t=Reflect.ownKeys(e).filter(e=>{var t=n.get(e);return void 0===t||t.v!==L});for(var[i,o]of n)o.v===L||i in e||t.push(i);return t},setPrototypeOf(){!function(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}()}})}function Le(e){try{if(null!==e&&"object"==typeof e&&M in e)return e[M]}catch{}return e}function Ne(e,t){return Object.is(Le(e),Le(t))}var Pe,je,Ve,Ue,He;function We(e=""){return document.createTextNode(e)}function ze(e){return Ue.call(e)}function qe(e){return He.call(e)}function Ge(e,t){return ze(e)}function Xe(e,t){var i=ze(e);return i instanceof Comment&&""===i.data?qe(i):i}function Ke(e,t=1,i=!1){let n=e;for(;t--;)n=qe(n);return n}function Ze(e,t){if(t){const t=document.body;e.autofocus=!0,ie(()=>{document.activeElement===t&&e.focus()})}}let Ye=!1;function Qe(e){var t=Ct,i=Ot;At(null),Et(null);try{return e()}finally{At(t),Et(i)}}function Je(e,t,i,n=i){e.addEventListener(t,()=>Qe(i));const o=e.__on_r;e.__on_r=o?()=>{o(),n(!0)}:()=>n(!0),Ye||(Ye=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function et(e){null===Ot&&null===Ct&&function(){throw new Error("https://svelte.dev/e/effect_orphan")}(),null!==Ct&&0!==(Ct.f&b)&&null===Ot&&function(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}(),It&&function(){throw new Error("https://svelte.dev/e/effect_in_teardown")}()}function tt(e,t,i,n=!0){var o=Ot;null!==o&&0!==(o.f&S)&&(e|=S);var r={ctx:U,deps:null,nodes_start:null,nodes_end:null,f:e|w,first:null,fn:t,last:null,next:null,parent:o,b:o&&o.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(i)try{zt(r),r.f|=x}catch(l){throw pt(r),l}else null!==t&&Oe(r);if(n){var a=r;if(i&&null===a.deps&&null===a.teardown&&null===a.nodes_start&&a.first===a.last&&0===(a.f&E)&&(a=a.first),null!==a&&(a.parent=o,null!==o&&function(e,t){var i=t.last;null===i?t.last=t.first=e:(i.next=e,e.prev=i,t.last=e)}(a,o),null!==Ct&&2&Ct.f&&0===(e&v))){var s=Ct;(s.effects??=[]).push(a)}}return r}function it(e){const t=tt(8,null,!1);return Yt(t,T),t.teardown=e,t}function nt(e){et();var t=Ot.f;if(!(!Ct&&0!==(t&g)&&0===(t&x)))return ot(e);var i=U;(i.e??=[]).push(e)}function ot(e){return tt(1048580,e,!1)}function rt(e){return tt(4,e,!1)}function at(e,t=0){return tt(8|t,e,!0)}function st(e,t=[],i=[]){pe(t,i,t=>{tt(8,()=>e(...t.map(Gt)),!0)})}function lt(e,t=0){return tt(m|t,e,!0)}function ct(e,t=!0){return tt(524320,e,!0,t)}function dt(e){var t=e.teardown;if(null!==t){const e=It,i=Ct;St(!0),At(null);try{t.call(null)}finally{St(e),At(i)}}}function ut(e,t=!1){var i=e.first;for(e.first=e.last=null;null!==i;){const e=i.ac;null!==e&&Qe(()=>{e.abort(B)});var n=i.next;0!==(i.f&v)?i.parent=null:pt(i,t),i=n}}function pt(e,t=!0){var i=!1;(t||262144&e.f)&&null!==e.nodes_start&&null!==e.nodes_end&&(ht(e.nodes_start,e.nodes_end),i=!0),ut(e,t&&!i),Wt(e,0),Yt(e,C);var n=e.transitions;if(null!==n)for(const r of n)r.stop();dt(e);var o=e.parent;null!==o&&null!==o.first&&ft(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ht(e,t){for(;null!==e;){var i=e===t?null:qe(e);e.remove(),e=i}}function ft(e){var t=e.parent,i=e.prev,n=e.next;null!==i&&(i.next=n),null!==n&&(n.prev=i),null!==t&&(t.first===e&&(t.first=n),t.last===e&&(t.last=i))}function mt(e,t){var i=[];vt(e,i,!0),gt(i,()=>{pt(e),t&&t()})}function gt(e,t){var i=e.length;if(i>0){var n=()=>--i||t();for(var o of e)o.out(n)}else t()}function vt(e,t,i){if(0===(e.f&S)){if(e.f^=S,null!==e.transitions)for(const n of e.transitions)(n.is_global||i)&&t.push(n);for(var n=e.first;null!==n;){var o=n.next;vt(n,t,!!(0!==(n.f&A)||0!==(n.f&g))&&i),n=o}}}function bt(e){yt(e,!0)}function yt(e,t){if(0!==(e.f&S)){e.f^=S,0===(e.f&T)&&(Yt(e,w),Oe(e));for(var i=e.first;null!==i;){var n=i.next;yt(i,!!(0!==(i.f&A)||0!==(i.f&g))&&t),i=n}if(null!==e.transitions)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let Tt=!1;function wt(e){Tt=e}let It=!1;function St(e){It=e}let Ct=null,xt=!1;function At(e){Ct=e}let Ot=null;function Et(e){Ot=e}let _t=null;function kt(e){null!==Ct&&(null===_t?_t=[e]:_t.push(e))}let Rt=null,Mt=0,Dt=null;let $t=1,Bt=0,Ft=Bt;function Lt(e){Ft=e}let Nt=!1;function Pt(){return++$t}function jt(e){var t=e.f;if(0!==(t&w))return!0;if(0!==(t&I)){var i=e.deps,n=0!==(t&b);if(null!==i){var o,r,a=0!==(t&y),s=n&&null!==Ot&&!Nt,l=i.length;if((a||s)&&(null===Ot||0===(Ot.f&C))){var c=e,d=c.parent;for(o=0;o<l;o++)r=i[o],!a&&r?.reactions?.includes(c)||(r.reactions??=[]).push(c);a&&(c.f^=y),s&&null!==d&&0===(d.f&b)&&(c.f^=b)}for(o=0;o<l;o++)if(jt(r=i[o])&&ue(r),r.wv>e.wv)return!0}n&&(null===Ot||Nt)||Yt(e,T)}return!1}function Vt(e,t,i=!0){var n=e.reactions;if(null!==n&&!_t?.includes(e))for(var o=0;o<n.length;o++){var r=n[o];2&r.f?Vt(r,t,!1):t===r&&(i?Yt(r,w):0!==(r.f&T)&&Yt(r,I),Oe(r))}}function Ut(e){var t=Rt,i=Mt,n=Dt,o=Ct,r=Nt,a=_t,s=U,l=xt,c=Ft,d=e.f;Rt=null,Mt=0,Dt=null,Nt=0!==(d&b)&&(xt||!Tt||null===Ct),Ct=96&d?null:e,_t=null,H(e.ctx),xt=!1,Ft=++Bt,null!==e.ac&&(Qe(()=>{e.ac.abort(B)}),e.ac=null);try{e.f|=_;var u=(0,e.fn)(),p=e.deps;if(null!==Rt){var h;if(Wt(e,Mt),null!==p&&Mt>0)for(p.length=Mt+Rt.length,h=0;h<Rt.length;h++)p[Mt+h]=Rt[h];else e.deps=p=Rt;if(!Nt||2&d&&null!==e.reactions)for(h=Mt;h<p.length;h++)(p[h].reactions??=[]).push(e)}else null!==p&&Mt<p.length&&(Wt(e,Mt),p.length=Mt);if(!(null===Dt||xt||null===p||6146&e.f))for(h=0;h<Dt.length;h++)Vt(Dt[h],e);return null!==o&&o!==e&&(Bt++,null!==Dt&&(null===n?n=Dt:n.push(...Dt))),0!==(e.f&R)&&(e.f^=R),u}catch(f){return function(e){var t=Ot;if(null===t)return Ct.f|=R,e;if(0===(t.f&x)){if(!(128&t.f))throw!t.parent&&e instanceof Error&&Y(e),e;t.b.error(e)}else Z(e,t)}(f)}finally{e.f^=_,Rt=t,Mt=i,Dt=n,Ct=o,Nt=r,_t=a,H(s),xt=l,Ft=c}}function Ht(e,t){let i=t.reactions;if(null!==i){var o=n.call(i,e);if(-1!==o){var r=i.length-1;0===r?i=t.reactions=null:(i[o]=i[r],i.pop())}}null===i&&2&t.f&&(null===Rt||!Rt.includes(t))&&(Yt(t,I),768&t.f||(t.f^=y),ce(t),Wt(t,0))}function Wt(e,t){var i=e.deps;if(null!==i)for(var n=t;n<i.length;n++)Ht(e,i[n])}function zt(e){var t=e.f;if(0===(t&C)){Yt(e,T);var i=Ot,n=Tt;Ot=e,Tt=!0;try{0!==(t&m)?function(e){for(var t=e.first;null!==t;){var i=t.next;0===(t.f&g)&&pt(t),t=i}}(e):ut(e),dt(e);var o=Ut(e);e.teardown="function"==typeof o?o:null,e.wv=$t}finally{Tt=n,Ot=i}}}async function qt(){await Promise.resolve(),function(){var e=we;we=!0;try{for(;;){if(ne(),0===be.length&&!te()&&(me?.flush(),0===be.length))return void(ye=null);Se()}}finally{we=e}}()}function Gt(e){var t=!!(2&e.f);if(null===Ct||xt){if(t&&null===e.deps&&null===e.effects){var i=e,n=i.parent;null!==n&&0===(n.f&b)&&(i.f^=b)}}else if(!(null!==Ot&&0!==(Ot.f&C))&&!_t?.includes(e)){var o=Ct.deps;if(0!==(Ct.f&_))e.rv<Bt&&(e.rv=Bt,null===Rt&&null!==o&&o[Mt]===e?Mt++:null===Rt?Rt=[e]:Nt&&Rt.includes(e)||Rt.push(e));else{(Ct.deps??=[]).push(e);var r=e.reactions;null===r?e.reactions=[Ct]:r.includes(Ct)||r.push(Ct)}}if(It){if(Ee.has(e))return Ee.get(e);if(t){var a=(i=e).v;return(0===(i.f&T)&&null!==i.reactions||Xt(i))&&(a=de(i)),Ee.set(i,a),a}}else t&&jt(i=e)&&ue(i);if(0!==(e.f&R))throw e.v;return e.v}function Xt(e){if(e.v===L)return!0;if(null===e.deps)return!1;for(const t of e.deps){if(Ee.has(t))return!0;if(2&t.f&&Xt(t))return!0}return!1}function Kt(e){var t=xt;try{return xt=!0,e()}finally{xt=t}}const Zt=-7169;function Yt(e,t){e.f=e.f&Zt|t}function Qt(e,t=new Set){if(!("object"!=typeof e||null===e||e instanceof EventTarget||t.has(e))){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{Qt(e[n],t)}catch(Pd){}const i=d(e);if(i!==Object.prototype&&i!==Array.prototype&&i!==Map.prototype&&i!==Set.prototype&&i!==Date.prototype){const t=s(i);for(let i in t){const n=t[i].get;if(n)try{n.call(e)}catch(Pd){}}}}}function Jt(e){return e.endsWith("capture")&&"gotpointercapture"!==e&&"lostpointercapture"!==e}const ei=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function ti(e){return ei.includes(e)}const ii={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function ni(e){return e=e.toLowerCase(),ii[e]??e}const oi=["touchstart","touchmove"];function ri(e){return oi.includes(e)}const ai=new Set,si=new Set;function li(e,t,i,n={}){function o(e){if(n.capture||pi.call(t,e),!e.cancelBubble)return Qe(()=>i?.call(this,e))}return e.startsWith("pointer")||e.startsWith("touch")||"wheel"===e?ie(()=>{t.addEventListener(e,o,n)}):t.addEventListener(e,o,n),o}function ci(e,t,i,n,o){var r={capture:n,passive:o},a=li(e,t,i,r);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&it(()=>{t.removeEventListener(e,a,r)})}function di(e){for(var t=0;t<e.length;t++)ai.add(e[t]);for(var i of si)i(e)}let ui=null;function pi(e){var t=this,n=t.ownerDocument,o=e.type,a=e.composedPath?.()||[],s=a[0]||e.target;ui=e;var l=0,c=ui===e&&e.__root;if(c){var d=a.indexOf(c);if(-1!==d&&(t===document||t===window))return void(e.__root=t);var u=a.indexOf(t);if(-1===u)return;d<=u&&(l=d)}if((s=a[l]||e.target)!==t){r(e,"currentTarget",{configurable:!0,get:()=>s||n});var p=Ct,h=Ot;At(null),Et(null);try{for(var f,m=[];null!==s;){var g=s.assignedSlot||s.parentNode||s.host||null;try{var v=s["__"+o];if(null!=v&&(!s.disabled||e.target===s))if(i(v)){var[b,...y]=v;b.apply(s,[e,...y])}else v.call(s,e)}catch(T){f?m.push(T):f=T}if(e.cancelBubble||g===t||null===g)break;s=g}if(f){for(let e of m)queueMicrotask(()=>{throw e});throw f}}finally{e.__root=t,delete e.currentTarget,At(p),Et(h)}}}function hi(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","\x3c!----\x3e"),t.content}function fi(e,t){var i=Ot;null===i.nodes_start&&(i.nodes_start=e,i.nodes_end=t)}function mi(e,t){var i,n=!!(1&t),o=!!(2&t),r=!e.startsWith("<!>");return()=>{void 0===i&&(i=hi(r?e:"<!>"+e),n||(i=ze(i)));var t=o||Ve?document.importNode(i,!0):i.cloneNode(!0);n?fi(ze(t),t.lastChild):fi(t,t);return t}}function gi(e,t,i="svg"){var n,o=`<${i}>${!e.startsWith("<!>")?e:"<!>"+e}</${i}>`;return()=>{if(!n){var e=hi(o);n=ze(ze(e))}var t=n.cloneNode(!0);return fi(t,t),t}}function vi(e,t){return gi(e,0,"svg")}function bi(e=""){var t=We(e+"");return fi(t,t),t}function yi(){var e=document.createDocumentFragment(),t=document.createComment(""),i=We();return e.append(t,i),fi(t,i),e}function Ti(e,t){null!==e&&e.before(t)}function wi(e,t){var i=null==t?"":"object"==typeof t?t+"":t;i!==(e.__t??=e.nodeValue)&&(e.__t=i,e.nodeValue=i+"")}const Ii=new Map;let Si=new WeakMap;function Ci(e,t,i=!1){var n=e,o=null,r=null,a=L,s=!1;const l=(e,t=!0)=>{s=!0,u(t,e)};var c=null;function d(){null!==c&&(c.lastChild.remove(),n.before(c),c=null);var e=a?o:r,t=a?r:o;e&&bt(e),t&&mt(t,()=>{a?r=null:o=null})}const u=(e,t)=>{if(a!==(a=e)){var i=!1,s=n;i,a?o??=t&&ct(()=>t(s)):r??=t&&ct(()=>t(s)),d()}};lt(()=>{s=!1,t(l),s||u(null,null)},i?A:0)}function xi(e,t,i){var n,o,r=e,a=L,s=null,l=j;function c(){n&&mt(n),null!==s&&(s.lastChild.remove(),r.before(s),s=null),n=o}lt(()=>{if(l(a,a=t())){var e=r,n=!1;n,o=ct(()=>i(e)),c()}})}function Ai(e,t){return t}function Oi(e,t,n,r,a,s=null){var l=e,c={flags:t,items:new Map,first:null};!(4&t)||(l=e.appendChild(We()));var d,u,p=null,h=!1,f=new Map,m=le(()=>{var e=n();return i(e)?e:null==e?[]:o(e)});function g(){!function(e,t,i,n,r,a,s,l,c){var d,u,p,h,f,m,g=!!(8&s),v=!!(3&s),b=t.length,y=i.items,T=i.first,w=T,I=null,C=[],x=[];if(g)for(m=0;m<b;m+=1)h=l(p=t[m],m),void 0!==(f=y.get(h))&&(f.a?.measure(),(u??=new Set).add(f));for(m=0;m<b;m+=1)if(h=l(p=t[m],m),void 0!==(f=y.get(h))){if(v&&Ei(f,p,m,s),0!==(f.e.f&S)&&(bt(f.e),g&&(f.a?.unfix(),(u??=new Set).delete(f))),f!==w){if(void 0!==d&&d.has(f)){if(C.length<x.length){var A,O=x[0];I=O.prev;var E=C[0],_=C[C.length-1];for(A=0;A<C.length;A+=1)ki(C[A],O,r);for(A=0;A<x.length;A+=1)d.delete(x[A]);Ri(i,E.prev,_.next),Ri(i,I,E),Ri(i,_,O),w=O,I=_,m-=1,C=[],x=[]}else d.delete(f),ki(f,w,r),Ri(i,f.prev,f.next),Ri(i,f,null===I?i.first:I.next),Ri(i,I,f),I=f;continue}for(C=[],x=[];null!==w&&w.k!==h;)0===(w.e.f&S)&&(d??=new Set).add(w),x.push(w),w=w.next;if(null===w)continue;f=w}C.push(f),I=f,w=f.next}else{var k=n.get(h);if(void 0!==k){n.delete(h),y.set(h,k);var R=I?I.next:w;Ri(i,I,k),Ri(i,k,R),ki(k,R,r),I=k}else{I=_i(w?w.e.nodes_start:r,i,I,null===I?i.first:I.next,p,h,m,a,s,c)}y.set(h,I),C=[],x=[],w=I.next}if(null!==w||void 0!==d){for(var M=void 0===d?[]:o(d);null!==w;)0===(w.e.f&S)&&M.push(w),w=w.next;var D=M.length;if(D>0){var $=4&s&&0===b?r:null;if(g){for(m=0;m<D;m+=1)M[m].a?.measure();for(m=0;m<D;m+=1)M[m].a?.fix()}!function(e,t,i){for(var n=e.items,o=[],r=t.length,a=0;a<r;a++)vt(t[a].e,o,!0);var s=r>0&&0===o.length&&null!==i;if(s){var l=i.parentNode;l.textContent="",l.append(i),n.clear(),Ri(e,t[0].prev,t[r-1].next)}gt(o,()=>{for(var i=0;i<r;i++){var o=t[i];s||(n.delete(o.k),Ri(e,o.prev,o.next)),pt(o.e,!s)}})}(i,M,$)}}g&&ie(()=>{if(void 0!==u)for(f of u)f.a?.apply()});for(var B of(e.first=i.first&&i.first.e,e.last=I&&I.e,n.values()))pt(B.e);n.clear()}(u,d,c,f,l,a,t,r,n),null!==s&&(0===d.length?p?bt(p):p=ct(()=>s(l)):null!==p&&mt(p,()=>{p=null}))}lt(()=>{u??=Ot;var e=(d=Gt(m)).length;h&&0===e||(h=0===e,g(),Gt(m))})}function Ei(e,t,i,n){1&n&&De(e.v,t),2&n?De(e.i,i):e.i=i}function _i(e,t,i,n,o,r,a,s,l,c,d){var u=!!(1&l)?!(16&l)?Re(o,!1,!1):_e(o):o,p=2&l?_e(a):a,h={i:p,v:u,k:r,a:null,e:null,prev:i,next:n};try{if(null===e)document.createDocumentFragment().append(e=We());return h.e=ct(()=>s(e,u,p,c),false),h.e.prev=i&&i.e,h.e.next=n&&n.e,null===i?d||(t.first=h):(i.next=h,i.e.next=h.e),null!==n&&(n.prev=h,n.e.prev=h.e),h}finally{}}function ki(e,t,i){for(var n=e.next?e.next.e.nodes_start:i,o=t?t.e.nodes_start:i,r=e.e.nodes_start;null!==r&&r!==n;){var a=qe(r);o.before(r),r=a}}function Ri(e,t,i){null===t?e.first=i:(t.next=i,t.e.next=i&&i.e),null!==i&&(i.prev=t,i.e.prev=t&&t.e)}function Mi(e,t,i=!1,n=!1,o=!1){var r=e,a="";st(()=>{var e=Ot;if(a!==(a=t()??"")&&(null!==e.nodes_start&&(ht(e.nodes_start,e.nodes_end),e.nodes_start=e.nodes_end=null),""!==a)){var o=a+"";i?o=`<svg>${o}</svg>`:n&&(o=`<math>${o}</math>`);var s=hi(o);if((i||n)&&(s=ze(s)),fi(ze(s),s.lastChild),i||n)for(;ze(s);)r.before(ze(s));else r.before(s)}})}function Di(e,t,...i){var n,o=e,r=h;lt(()=>{r!==(r=t())&&(n&&(pt(n),n=null),n=ct(()=>r(o,...i)))},A)}function $i(e,t,i){var n,o,r=e,a=null,s=null;function l(){o&&(mt(o),o=null),a&&(a.lastChild.remove(),r.before(a),a=null),o=s,s=null}lt(()=>{if(n!==(n=t())){var e=!1;if(n){var o=r;e,s=ct(()=>i(o,n))}l()}},A)}function Bi(e,t,i,n,o,r){var a,s,l,c=null,d=e;lt(()=>{const e=t()||null;var i="svg"===e?"http://www.w3.org/2000/svg":null;e!==a&&(l&&(null===e?mt(l,()=>{l=null,s=null}):e===s?bt(l):pt(l)),e&&e!==s&&(l=ct(()=>{if(fi(c=i?document.createElementNS(i,e):document.createElement(e),c),n){var t=c.appendChild(We());n(c,t)}Ot.nodes_end=c,d.before(c)})),(a=e)&&(s=a))},A)}function Fi(e,t,i){rt(()=>{var n=Kt(()=>t(e,i?.())||{});if(i&&n?.update){var o=!1,r={};at(()=>{var e=i();!function(e){if("object"==typeof e&&e&&!(e instanceof EventTarget))if(M in e)Qt(e);else if(!Array.isArray(e))for(let t in e){const i=e[t];"object"==typeof i&&i&&M in i&&Qt(i)}}(e),o&&P(r,e)&&(r=e,n.update(e))}),o=!0}if(n?.destroy)return()=>n.destroy()})}function Li(e,t){var i,n=void 0;lt(()=>{n!==(n=t())&&(i&&(pt(i),i=null),n&&(i=ct(()=>{rt(()=>n(e))})))})}function Ni(e){var t,i,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(i=Ni(e[t]))&&(n&&(n+=" "),n+=i)}else for(i in e)e[i]&&(n&&(n+=" "),n+=i);return n}function Pi(e){return"object"==typeof e?function(){for(var e,t,i=0,n="",o=arguments.length;i<o;i++)(e=arguments[i])&&(t=Ni(e))&&(n&&(n+=" "),n+=t);return n}(e):e??""}const ji=[..." \t\n\r\fÂ \v\ufeff"];function Vi(e,t=!1){var i=t?" !important;":";",n="";for(var o in e){var r=e[o];null!=r&&""!==r&&(n+=" "+o+": "+r+i)}return n}function Ui(e){return"-"!==e[0]||"-"!==e[1]?e.toLowerCase():e}function Hi(e,t,i,n,o,r){var a=e.__className;if(a!==i||void 0===a){var s=function(e,t,i){var n=null==e?"":""+e;if(t&&(n=n?n+" "+t:t),i)for(var o in i)if(i[o])n=n?n+" "+o:o;else if(n.length)for(var r=o.length,a=0;(a=n.indexOf(o,a))>=0;){var s=a+r;0!==a&&!ji.includes(n[a-1])||s!==n.length&&!ji.includes(n[s])?a=s:n=(0===a?"":n.substring(0,a))+n.substring(s+1)}return""===n?null:n}(i,n,r);null==s?e.removeAttribute("class"):t?e.className=s:e.setAttribute("class",s),e.__className=i}else if(r&&o!==r)for(var l in r){var c=!!r[l];null!=o&&c===!!o[l]||e.classList.toggle(l,c)}return r}function Wi(e,t={},i,n){for(var o in i){var r=i[o];t[o]!==r&&(null==i[o]?e.style.removeProperty(o):e.style.setProperty(o,r,n))}}function zi(e,t,i,n){if(e.__style!==t){var o=function(e,t){if(t){var i,n,o="";if(Array.isArray(t)?(i=t[0],n=t[1]):i=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var r=!1,a=0,s=!1,l=[];i&&l.push(...Object.keys(i).map(Ui)),n&&l.push(...Object.keys(n).map(Ui));var c=0,d=-1;const t=e.length;for(var u=0;u<t;u++){var p=e[u];if(s?"/"===p&&"*"===e[u-1]&&(s=!1):r?r===p&&(r=!1):"/"===p&&"*"===e[u+1]?s=!0:'"'===p||"'"===p?r=p:"("===p?a++:")"===p&&a--,!s&&!1===r&&0===a)if(":"===p&&-1===d)d=u;else if(";"===p||u===t-1){if(-1!==d){var h=Ui(e.substring(c,d).trim());l.includes(h)||(";"!==p&&u++,o+=" "+e.substring(c,u).trim()+";")}c=u+1,d=-1}}}return i&&(o+=Vi(i)),n&&(o+=Vi(n,!0)),""===(o=o.trim())?null:o}return null==e?null:String(e)}(t,n);null==o?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}else n&&(Array.isArray(n)?(Wi(e,i?.[0],n[0]),Wi(e,i?.[1],n[1],"important")):Wi(e,i,n));return n}function qi(e,t,n=!1){if(e.multiple){if(null==t)return;if(!i(t))return void console.warn("https://svelte.dev/e/select_multiple_invalid_value");for(var o of e.options)o.selected=t.includes(Gi(o))}else{for(o of e.options){if(Ne(Gi(o),t))return void(o.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}}function Gi(e){return"__value"in e?e.__value:e.value}const Xi=Symbol("class"),Ki=Symbol("style"),Zi=Symbol("is custom element"),Yi=Symbol("is html");function Qi(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Ji(e,t,i,n){var o=tn(e);o[t]!==(o[t]=i)&&("loading"===t&&(e[$]=i),null==i?e.removeAttribute(t):"string"!=typeof i&&on(e).includes(t)?e[t]=i:e.setAttribute(t,i))}function en(e,t,i=[],n=[],o,r=!1,a=!1){pe(i,n,i=>{var n=void 0,s={},l="SELECT"===e.nodeName,c=!1;if(lt(()=>{var d=t(...i.map(Gt)),u=function(e,t,i,n){var o=tn(e),r=o[Zi],a=!o[Yi],s=t||{},l="OPTION"===e.tagName;for(var c in t)c in i||(i[c]=null);i.class?i.class=Pi(i.class):i[Xi]&&(i.class=null),i[Ki]&&(i.style??=null);var d=on(e);for(const g in i){let c=i[g];if(l&&"value"===g&&null==c)e.value=e.__value="",s[g]=c;else if("class"!==g)if("style"!==g){var u=s[g];if(c!==u||void 0===c&&e.hasAttribute(g)){s[g]=c;var p=g[0]+g[1];if("$$"!==p)if("on"===p){const t={},i="$$"+g;let n=g.slice(2);var h=ti(n);if(Jt(n)&&(n=n.slice(0,-7),t.capture=!0),!h&&u){if(null!=c)continue;e.removeEventListener(n,s[i],t),s[i]=null}if(null!=c)if(h)e[`__${n}`]=c,di([n]);else{let o=function(e){s[g].call(this,e)};s[i]=li(n,e,o,t)}else h&&(e[`__${n}`]=void 0)}else if("style"===g)Ji(e,g,c);else if("autofocus"===g)Ze(e,Boolean(c));else if(r||"__value"!==g&&("value"!==g||null==c))if("selected"===g&&l)Qi(e,c);else{var f=g;a||(f=ni(f));var m="defaultValue"===f||"defaultChecked"===f;if(null!=c||r||m)m||d.includes(f)&&(r||"string"!=typeof c)?(e[f]=c,f in o&&(o[f]=L)):"function"!=typeof c&&Ji(e,f,c);else if(o[g]=null,"value"===f||"checked"===f){let i=e;const n=void 0===t;if("value"===f){let e=i.defaultValue;i.removeAttribute(f),i.defaultValue=e,i.value=i.__value=n?e:null}else{let e=i.defaultChecked;i.removeAttribute(f),i.defaultChecked=e,i.checked=!!n&&e}}else e.removeAttribute(g)}else e.value=e.__value=c}}else zi(e,c,t?.[Ki],i[Ki]),s[g]=c,s[Ki]=i[Ki];else Hi(e,"http://www.w3.org/1999/xhtml"===e.namespaceURI,c,n,t?.[Xi],i[Xi]),s[g]=c,s[Xi]=i[Xi]}return s}(e,n,d,o,r,a);c&&l&&"value"in d&&qi(e,d.value);for(let e of Object.getOwnPropertySymbols(s))d[e]||pt(s[e]);for(let t of Object.getOwnPropertySymbols(d)){var p=d[t];"@attach"!==t.description||n&&p===n[t]||(s[t]&&pt(s[t]),s[t]=ct(()=>Li(e,()=>p))),u[t]=p}n=u}),l){var d=e;rt(()=>{qi(d,n.value,!0),function(e){var t=new MutationObserver(()=>{qi(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),it(()=>{t.disconnect()})}(d)})}c=!0})}function tn(e){return e.__attributes??={[Zi]:e.nodeName.includes("-"),[Yi]:"http://www.w3.org/1999/xhtml"===e.namespaceURI}}var nn=new Map;function on(e){var t,i=e.getAttribute("is")||e.nodeName,n=nn.get(i);if(n)return n;nn.set(i,n=[]);for(var o=e,r=Element.prototype;r!==o;){for(var a in t=s(o))t[a].set&&n.push(a);o=d(o)}return n}function rn(e,t,i=t){var n=new WeakSet;Je(e,"input",async o=>{var r=o?e.defaultValue:e.value;if(r=an(e)?sn(r):r,i(r),null!==me&&n.add(me),await qt(),r!==(r=t())){var a=e.selectionStart,s=e.selectionEnd;e.value=r??"",null!==s&&(e.selectionStart=a,e.selectionEnd=Math.min(s,e.value.length))}}),null==Kt(t)&&e.value&&(i(an(e)?sn(e.value):e.value),null!==me&&n.add(me)),at(()=>{var i=t();if(e===document.activeElement){var o=ge??me;if(n.has(o))return}an(e)&&i===sn(e.value)||("date"!==e.type||i||e.value)&&i!==e.value&&(e.value=i??"")})}function an(e){var t=e.type;return"number"===t||"range"===t}function sn(e){return""===e?null:+e}class ln{#m=new WeakMap;#g;#v;static entries=new WeakMap;constructor(e){this.#v=e}observe(e,t){var i=this.#m.get(e)||new Set;return i.add(t),this.#m.set(e,i),this.#b().observe(e,this.#v),()=>{var i=this.#m.get(e);i.delete(t),0===i.size&&(this.#m.delete(e),this.#g.unobserve(e))}}#b(){return this.#g??(this.#g=new ResizeObserver(e=>{for(var t of e)for(var i of(ln.entries.set(t.target,t),this.#m.get(t.target)||[]))i(t)}))}}var cn=new ln({box:"border-box"});function dn(e,t,i){var n=cn.observe(e,()=>i(e[t]));rt(()=>(Kt(()=>i(e[t])),n))}function un(e,t){return e===t||e?.[M]===t}function pn(e={},t,i,n){return rt(()=>{var n,o;return at(()=>{n=o,o=[],Kt(()=>{e!==i(...o)&&(t(e,...o),n&&un(i(...n),e)&&t(null,...n))})}),()=>{ie(()=>{o&&un(i(...o),e)&&t(null,...o)})}}),e}function hn(e,t,i){if(null==e)return t(void 0),h;const n=Kt(()=>e.subscribe(t,i));return n.unsubscribe?()=>n.unsubscribe():n}const fn=[];function mn(e,t){return{subscribe:gn(e,t).subscribe}}function gn(e,t=h){let i=null;const n=new Set;function o(t){if(P(e,t)&&(e=t,i)){const t=!fn.length;for(const i of n)i[1](),fn.push(i,e);if(t){for(let e=0;e<fn.length;e+=2)fn[e][0](fn[e+1]);fn.length=0}}}function r(t){o(t(e))}return{set:o,update:r,subscribe:function(a,s=h){const l=[a,s];return n.add(l),1===n.size&&(i=t(o,r)||h),a(e),()=>{n.delete(l),0===n.size&&i&&(i(),i=null)}}}}function vn(e){let t;return hn(e,e=>t=e)(),t}let bn=!1,yn=Symbol();function Tn(e,t,i){const n=i[t]??={store:null,source:Re(void 0),unsubscribe:h};if(n.store!==e&&!(yn in i))if(n.unsubscribe(),n.store=e??null,null==e)n.source.v=void 0,n.unsubscribe=h;else{var o=!0;n.unsubscribe=hn(e,e=>{o?n.source.v=e:Me(n.source,e)}),o=!1}return e&&yn in i?vn(e):Gt(n.source)}function wn(e,t){return e.set(t),t}function In(){const e={};return[e,function(){it(()=>{for(var t in e){e[t].unsubscribe()}r(e,yn,{enumerable:!1,value:!0})})}]}const Sn={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set:(e,t)=>!1,getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t))return t in e.props?{enumerable:!0,configurable:!0,value:e.props[t]}:void 0},has:(e,t)=>!e.exclude.includes(t)&&t in e.props,ownKeys:e=>Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))};function Cn(e,t,i){return new Proxy({props:e,exclude:t},Sn)}const xn={get(e,t){let i=e.props.length;for(;i--;){let n=e.props[i];if(p(n)&&(n=n()),"object"==typeof n&&null!==n&&t in n)return n[t]}},set(e,t,i){let n=e.props.length;for(;n--;){let o=e.props[n];p(o)&&(o=o());const r=a(o,t);if(r&&r.set)return r.set(i),!0}return!1},getOwnPropertyDescriptor(e,t){let i=e.props.length;for(;i--;){let n=e.props[i];if(p(n)&&(n=n()),"object"==typeof n&&null!==n&&t in n){const e=a(n,t);return e&&!e.configurable&&(e.configurable=!0),e}}},has(e,t){if(t===M||t===D)return!1;for(let i of e.props)if(p(i)&&(i=i()),null!=i&&t in i)return!0;return!1},ownKeys(e){const t=[];for(let i of e.props)if(p(i)&&(i=i()),i){for(const e in i)t.includes(e)||t.push(e);for(const e of Object.getOwnPropertySymbols(i))t.includes(e)||t.push(e)}return t}};function An(...e){return new Proxy({props:e},xn)}function On(e,t,i,n){var o,r,s=!!(8&i),l=!!(16&i),c=n,d=!0,u=()=>(d&&(d=!1,c=l?Kt(n):n),c);if(s){var p=M in e||D in e;o=a(e,t)?.set??(p&&t in e?i=>e[t]=i:void 0)}var h,f=!1;if(s?[r,f]=function(e){var t=bn;try{return bn=!1,[e(),bn]}finally{bn=t}}(()=>e[t]):r=e[t],void 0===r&&void 0!==n&&(r=u(),o&&(!function(){throw new Error("https://svelte.dev/e/props_invalid_value")}(),o(r))),h=()=>{var i=e[t];return void 0===i?u():(d=!0,i)},!(4&i))return h;if(o){var m=e.$$legacy;return function(e,t){return arguments.length>0?((!t||m||f)&&o(t?h():e),e):h()}}var g=!1,v=(1&i?re:le)(()=>(g=!1,h()));s&&Gt(v);var b=Ot;return function(e,t){if(arguments.length>0){const i=t?Gt(v):s?Fe(e):e;return Me(v,i),g=!0,void 0!==c&&(c=i),e}return It&&g||0!==(b.f&C)?v.v:Gt(v)}}function En(e){null===U&&F(),nt(()=>{const t=Kt(e);if("function"==typeof t)return t})}function _n(e){null===U&&F(),En(()=>()=>Kt(e))}"undefined"!=typeof window&&((window.__svelte??={}).v??=new Set).add("5")
/**
   * @license
   * Copyright 2018 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */;var kn={CLOSING:"mdc-snackbar--closing",OPEN:"mdc-snackbar--open",OPENING:"mdc-snackbar--opening"},Rn={ACTION_SELECTOR:".mdc-snackbar__action",ARIA_LIVE_LABEL_TEXT_ATTR:"data-mdc-snackbar-label-text",CLOSED_EVENT:"MDCSnackbar:closed",CLOSING_EVENT:"MDCSnackbar:closing",DISMISS_SELECTOR:".mdc-snackbar__dismiss",LABEL_SELECTOR:".mdc-snackbar__label",OPENED_EVENT:"MDCSnackbar:opened",OPENING_EVENT:"MDCSnackbar:opening",REASON_ACTION:"action",REASON_DISMISS:"dismiss",SURFACE_SELECTOR:".mdc-snackbar__surface"},Mn={DEFAULT_AUTO_DISMISS_TIMEOUT_MS:5e3,INDETERMINATE:-1,MAX_AUTO_DISMISS_TIMEOUT_MS:1e4,MIN_AUTO_DISMISS_TIMEOUT_MS:4e3,SNACKBAR_ANIMATION_CLOSE_TIME_MS:75,SNACKBAR_ANIMATION_OPEN_TIME_MS:150,ARIA_LIVE_DELAY_MS:1e3},Dn=Mn.ARIA_LIVE_DELAY_MS,$n=Rn.ARIA_LIVE_LABEL_TEXT_ATTR;var Bn=function(e,t){return(Bn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function Fn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Bn(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var Ln=function(){return Ln=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ln.apply(this,arguments)};function Nn(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pn(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,o,r=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(o)throw o.error}}return a}function jn(e,t,i){if(i||2===arguments.length)for(var n,o=0,r=t.length;o<r;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
var Vn=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}();
/**
   * @license
   * Copyright 2018 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */function Un(e,t){return(e.matches||e.webkitMatchesSelector||e.msMatchesSelector).call(e,t)}const Hn=Object.freeze(Object.defineProperty({__proto__:null,closest:function(e,t){if(e.closest)return e.closest(t);for(var i=e;i;){if(Un(i,t))return i;i=i.parentElement}return null},estimateScrollWidth:function(e){var t=e;if(null!==t.offsetParent)return t.scrollWidth;var i=t.cloneNode(!0);i.style.setProperty("position","absolute"),i.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(i);var n=i.scrollWidth;return document.documentElement.removeChild(i),n},matches:Un},Symbol.toStringTag,{value:"Module"}));
/**
   * @license
   * Copyright 2018 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */var Wn=kn.OPENING,zn=kn.OPEN,qn=kn.CLOSING,Gn=Rn.REASON_ACTION,Xn=Rn.REASON_DISMISS,Kn=function(e){function t(i){var n=e.call(this,Ln(Ln({},t.defaultAdapter),i))||this;return n.opened=!1,n.animationFrame=0,n.animationTimer=0,n.autoDismissTimer=0,n.autoDismissTimeoutMs=Mn.DEFAULT_AUTO_DISMISS_TIMEOUT_MS,n.closeOnEscape=!0,n}return Fn(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return kn},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Rn},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Mn},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},announce:function(){},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},removeClass:function(){}}},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.clearAutoDismissTimer(),cancelAnimationFrame(this.animationFrame),this.animationFrame=0,clearTimeout(this.animationTimer),this.animationTimer=0,this.adapter.removeClass(Wn),this.adapter.removeClass(zn),this.adapter.removeClass(qn)},t.prototype.open=function(){var e=this;this.clearAutoDismissTimer(),this.opened=!0,this.adapter.notifyOpening(),this.adapter.removeClass(qn),this.adapter.addClass(Wn),this.adapter.announce(),this.runNextAnimationFrame(function(){e.adapter.addClass(zn),e.animationTimer=setTimeout(function(){var t=e.getTimeoutMs();e.handleAnimationTimerEnd(),e.adapter.notifyOpened(),t!==Mn.INDETERMINATE&&(e.autoDismissTimer=setTimeout(function(){e.close(Xn)},t))},Mn.SNACKBAR_ANIMATION_OPEN_TIME_MS)})},t.prototype.close=function(e){var t=this;void 0===e&&(e=""),this.opened&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=0,this.clearAutoDismissTimer(),this.opened=!1,this.adapter.notifyClosing(e),this.adapter.addClass(kn.CLOSING),this.adapter.removeClass(kn.OPEN),this.adapter.removeClass(kn.OPENING),clearTimeout(this.animationTimer),this.animationTimer=setTimeout(function(){t.handleAnimationTimerEnd(),t.adapter.notifyClosed(e)},Mn.SNACKBAR_ANIMATION_CLOSE_TIME_MS))},t.prototype.isOpen=function(){return this.opened},t.prototype.getTimeoutMs=function(){return this.autoDismissTimeoutMs},t.prototype.setTimeoutMs=function(e){var t=Mn.MIN_AUTO_DISMISS_TIMEOUT_MS,i=Mn.MAX_AUTO_DISMISS_TIMEOUT_MS;if(!(e===Mn.INDETERMINATE||e<=i&&e>=t))throw new Error("\n        timeoutMs must be an integer in the range "+t+"â"+i+"\n        (or "+Mn.INDETERMINATE+" to disable), but got '"+e+"'");this.autoDismissTimeoutMs=e},t.prototype.getCloseOnEscape=function(){return this.closeOnEscape},t.prototype.setCloseOnEscape=function(e){this.closeOnEscape=e},t.prototype.handleKeyDown=function(e){("Escape"===e.key||27===e.keyCode)&&this.getCloseOnEscape()&&this.close(Xn)},t.prototype.handleActionButtonClick=function(e){this.close(Gn)},t.prototype.handleActionIconClick=function(e){this.close(Xn)},t.prototype.clearAutoDismissTimer=function(){clearTimeout(this.autoDismissTimer),this.autoDismissTimer=0},t.prototype.handleAnimationTimerEnd=function(){this.animationTimer=0,this.adapter.removeClass(kn.OPENING),this.adapter.removeClass(kn.CLOSING)},t.prototype.runNextAnimationFrame=function(e){var t=this;cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame(function(){t.animationFrame=0,clearTimeout(t.animationTimer),t.animationTimer=setTimeout(e,0)})},t}(Vn);const Zn=Object.freeze(Object.defineProperty({__proto__:null,applyPassive:
/**
   * @license
   * Copyright 2019 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
function(e){return void 0===e&&(e=window),!!function(e){void 0===e&&(e=window);var t=!1;try{var i={get passive(){return t=!0,!1}},n=function(){};e.document.addEventListener("test",n,i),e.document.removeEventListener("test",n,i)}catch(o){t=!1}return t}(e)&&{passive:!0}}},Symbol.toStringTag,{value:"Module"}));
/**
   * @license
   * Copyright 2020 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */var Yn="mdc-dom-focus-sentinel",Qn=function(){function e(e,t){void 0===t&&(t={}),this.root=e,this.options=t,this.elFocusedBeforeTrapFocus=null}return e.prototype.trapFocus=function(){var e=this.getFocusableElements(this.root);if(0===e.length)throw new Error("FocusTrap: Element must have at least one focusable child.");this.elFocusedBeforeTrapFocus=document.activeElement instanceof HTMLElement?document.activeElement:null,this.wrapTabFocus(this.root),this.options.skipInitialFocus||this.focusInitialElement(e,this.options.initialFocusEl)},e.prototype.releaseFocus=function(){[].slice.call(this.root.querySelectorAll("."+Yn)).forEach(function(e){e.parentElement.removeChild(e)}),!this.options.skipRestoreFocus&&this.elFocusedBeforeTrapFocus&&this.elFocusedBeforeTrapFocus.focus()},e.prototype.wrapTabFocus=function(e){var t=this,i=this.createSentinel(),n=this.createSentinel();i.addEventListener("focus",function(){var i=t.getFocusableElements(e);i.length>0&&i[i.length-1].focus()}),n.addEventListener("focus",function(){var i=t.getFocusableElements(e);i.length>0&&i[0].focus()}),e.insertBefore(i,e.children[0]),e.appendChild(n)},e.prototype.focusInitialElement=function(e,t){var i=0;t&&(i=Math.max(e.indexOf(t),0)),e[i].focus()},e.prototype.getFocusableElements=function(e){return[].slice.call(e.querySelectorAll("[autofocus], [tabindex], a, input, textarea, select, button")).filter(function(e){var t="true"===e.getAttribute("aria-disabled")||null!=e.getAttribute("disabled")||null!=e.getAttribute("hidden")||"true"===e.getAttribute("aria-hidden"),i=e.tabIndex>=0&&e.getBoundingClientRect().width>0&&!e.classList.contains(Yn)&&!t,n=!1;if(i){var o=getComputedStyle(e);n="none"===o.display||"hidden"===o.visibility}return i&&!n})},e.prototype.createSentinel=function(){var e=document.createElement("div");return e.setAttribute("tabindex","0"),e.setAttribute("aria-hidden","true"),e.classList.add(Yn),e},e}();const Jn=Object.freeze(Object.defineProperty({__proto__:null,FocusTrap:Qn},Symbol.toStringTag,{value:"Module"}));
/**
   * @license
   * Copyright 2020 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */var eo="Unknown",to="Backspace",io="Enter",no="Spacebar",oo="PageUp",ro="PageDown",ao="End",so="Home",lo="ArrowLeft",co="ArrowUp",uo="ArrowRight",po="ArrowDown",ho="Delete",fo="Escape",mo="Tab",go=new Set;go.add(to),go.add(io),go.add(no),go.add(oo),go.add(ro),go.add(ao),go.add(so),go.add(lo),go.add(co),go.add(uo),go.add(po),go.add(ho),go.add(fo),go.add(mo);var vo=8,bo=13,yo=32,To=33,wo=34,Io=35,So=36,Co=37,xo=38,Ao=39,Oo=40,Eo=46,_o=27,ko=9,Ro=new Map;Ro.set(vo,to),Ro.set(bo,io),Ro.set(yo,no),Ro.set(To,oo),Ro.set(wo,ro),Ro.set(Io,ao),Ro.set(So,so),Ro.set(Co,lo),Ro.set(xo,co),Ro.set(Ao,uo),Ro.set(Oo,po),Ro.set(Eo,ho),Ro.set(_o,fo),Ro.set(ko,mo);var Mo=new Set;function Do(e){var t=e.key;if(go.has(t))return t;var i=Ro.get(e.keyCode);return i||eo}function $o(e){return Object.entries(e).filter(([e,t])=>""!==e&&t).map(([e])=>e).join(" ")}function Bo(e,t,i,n={bubbles:!0}){if("undefined"==typeof Event)throw new Error("Event not defined.");if(!e)throw new Error("Tried to dispatch event without element.");const o=new CustomEvent(t,Object.assign(Object.assign({},n),{detail:i}));return null==e||e.dispatchEvent(o),o}function Fo(e,t){let i=Object.getOwnPropertyNames(e);const n={};for(let o=0;o<i.length;o++){const r=i[o],a=r.indexOf("$");-1!==a&&-1!==t.indexOf(r.substring(0,a+1))||-1===t.indexOf(r)&&(n[r]=e[r])}return n}function Lo(e,t){let i=Object.getOwnPropertyNames(e);const n={};for(let o=0;o<i.length;o++){const r=i[o];r.substring(0,t.length)===t&&(n[r.substring(t.length)]=e[r])}return n}Mo.add(oo),Mo.add(ro),Mo.add(ao),Mo.add(so),Mo.add(lo),Mo.add(co),Mo.add(uo),Mo.add(po);class No{constructor(){this.elementMap=new Map}on(e,t,i,n){this.elementMap.has(e)||this.elementMap.set(e,{});const o=this.elementMap.get(e);if(null==o)throw new Error("Event map couldn't be created.");t in o||(o[t]=new Map);o[t].set(i,function(e,t,i,n={}){var o=li(t,e,i,n);return()=>{e.removeEventListener(t,o,n)}}(e,t,i,n))}off(e,t,i){const n=this.elementMap.get(e);if(null==n||!(t in n))return;const o=n[t],r=o.get(i);null!=r&&(r(),o.delete(i),0===o.size&&(delete n[t],0===Object.keys(n).length&&this.elementMap.delete(e)))}clear(){this.elementMap.forEach((e,t)=>{for(let[i,n]of Object.entries(e))n.forEach((e,t)=>{e()})}),this.elementMap.clear()}}function Po(e,t){let i=[];if(t)for(let n=0;n<t.length;n++){const o=t[n],r=Array.isArray(o)?o[0]:o;Array.isArray(o)&&o.length>1?i.push(r(e,o[1])):i.push(r(e))}return{update(e){if((e&&e.length||0)!=i.length)throw new Error("You must not change the length of an actions array.");if(e)for(let t=0;t<e.length;t++){const n=i[t];if(n&&n.update){const i=e[t];Array.isArray(i)&&i.length>1?n.update(i[1]):n.update()}}},destroy(){for(let e=0;e<i.length;e++){const t=i[e];t&&t.destroy&&t.destroy()}}}}let jo=Promise.resolve();var Vo=mi("<aside><div><!></div></aside>");function Uo(e,t){q(t,!0);const{closest:i}=Hn;let n=()=>{};function o(e){return e===n}let r,a,s=On(t,"use",19,()=>[]),l=On(t,"class",3,""),c=On(t,"leading",3,!1),d=On(t,"timeoutMs",3,5e3),u=On(t,"closeOnEscape",3,!0),p=On(t,"labelText",3,n),f=On(t,"actionButtonText",3,n),m=On(t,"surface$use",19,()=>[]),g=On(t,"surface$class",3,""),v=Cn(t,["$$slots","$$events","$$legacy","use","class","variant","leading","timeoutMs","closeOnEscape","labelText","actionButtonText","surface$use","surface$class","children"]),b=ke(void 0),y=Fe({}),T=new Promise(e=>a=e);function w(e){y[e]||(y[e]=!0)}function I(e){e in y&&!y[e]||(y[e]=!1)}function S(){return x().querySelector(".mdc-snackbar__label")??document.createElement("div")}function C(){return x().querySelector(".mdc-snackbar__action")??document.createElement("button")}function x(){return r}z("SMUI:label:context","snackbar"),nt(()=>{Gt(b)&&Gt(b).getTimeoutMs()!==d()&&Gt(b).setTimeoutMs(d())}),nt(()=>{Gt(b)&&Gt(b).getCloseOnEscape()!==u()&&Gt(b).setCloseOnEscape(u())}),nt(()=>{Gt(b)&&!o(p())&&S().textContent!==p()&&(S().textContent=p())}),nt(()=>{Gt(b)&&!o(f())&&C().textContent!==f()&&(C().textContent=f())}),En(()=>(Me(b,new Kn({addClass:w,announce:()=>function(e,t){void 0===t&&(t=e);var i=e.getAttribute("aria-live"),n=t.textContent.trim();if(n&&i){e.setAttribute("aria-live","off"),t.textContent="";var o=document.createElement("span");o.setAttribute("style","display: inline-block; width: 0; height: 1px;"),o.textContent="Â ",t.appendChild(o),t.setAttribute($n,n),setTimeout(function(){e.setAttribute("aria-live",i),t.removeAttribute($n),t.textContent=n},Dn)}}(S()),notifyClosed:e=>Bo(x(),"SMUISnackbarClosed",e?{reason:e}:{}),notifyClosing:e=>Bo(x(),"SMUISnackbarClosing",e?{reason:e}:{}),notifyOpened:()=>Bo(x(),"SMUISnackbarOpened"),notifyOpening:()=>Bo(x(),"SMUISnackbarOpening"),removeClass:I}),!0),Gt(b).init(),()=>{Gt(b)?.destroy()}));var A={open:function(){jo=jo.then(()=>(Gt(b)?.open(),T))},forceOpen:function(){return Gt(b)?.open()},close:function(e){return Gt(b)?.close(e)},isOpen:function(){if(null==Gt(b))throw new Error("Instance is undefined.");return Gt(b).isOpen()},getLabelElement:S,getActionButtonElement:C,getElement:x},O=Vo(),E=e=>{Gt(b)&&Gt(b).handleKeyDown(e),t.onkeydown?.(e)},_=e=>{a(),T=new Promise(e=>a=e),t.onSMUISnackbarClosed?.(e)};en(O,(e,t)=>({class:e,...t,onkeydown:E,onSMUISnackbarClosed:_}),[()=>$o({"mdc-snackbar":!0,"mdc-snackbar--stacked":"stacked"===t.variant,"mdc-snackbar--leading":c(),...y,[l()]:!0}),()=>Fo(v,["surface$"])]);var k=Ge(O),R=e=>{!function(e){const t=e.target;Gt(b)&&(i(t,".mdc-snackbar__action")?Gt(b).handleActionButtonClick(e):i(t,".mdc-snackbar__dismiss")&&Gt(b).handleActionIconClick(e))}(e),t.surface$onclick?.(e)};return en(k,(e,t)=>({class:e,role:"status","aria-relevant":"additions",...t,onclick:R}),[()=>$o({"mdc-snackbar__surface":!0,[g()]:!0}),()=>Lo(v,"surface$")]),Di(Ge(k),()=>t.children??h),Fi(k,(e,t)=>Po?.(e,t),m),pn(O,e=>r=e,()=>r),Fi(O,(e,t)=>Po?.(e,t),s),Ti(e,O),G(A)}function Ho(e,t){q(t,!0);let i,n=On(t,"use",19,()=>[]),o=On(t,"class",3,""),r=On(t,"component",3,qo),a=On(t,"tag",3,"span"),s=Cn(t,["$$slots","$$events","$$legacy","use","class","component","tag","children"]);const l=W("SMUI:label:context"),c=W("SMUI:label:tabindex");var d={getElement:function(){return i.getElement()}},u=yi(),p=Xe(u);{let e=se(()=>$o({"mdc-button__label":"button"===l,"mdc-fab__label":"fab"===l,"mdc-tab__text-label":"tab"===l,"mdc-image-list__label":"image-list"===l,"mdc-snackbar__label":"snackbar"===l,"mdc-banner__text":"banner"===l,"mdc-segmented-button__label":"segmented-button"===l,"mdc-data-table__pagination-rows-per-page-label":"data-table:pagination"===l,"mdc-data-table__header-cell-label":"data-table:sortable-header-cell"===l,[o()]:!0}));$i(p,r,(o,r)=>{pn(r(o,An({get tag(){return a()},get use(){return n()},get class(){return Gt(e)}},()=>"snackbar"===l?{"aria-atomic":"false"}:{},{get tabindex(){return c}},()=>s,{children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}})),e=>i=e,()=>i)})}return Ti(e,u),G(d)}function Wo(e,t){q(t,!0);let i,n=On(t,"use",19,()=>[]),o=On(t,"class",3,""),r=On(t,"on",3,!1),a=On(t,"component",3,qo),s=On(t,"tag",3,"i"),l=Cn(t,["$$slots","$$events","$$legacy","use","class","on","component","tag","children"]);const c=se(()=>"svg"===s()||a()===Ko),d=W("SMUI:icon:context");var u={getElement:function(){return i.getElement()}},p=yi(),f=Xe(p);{let e=se(()=>$o({"mdc-button__icon":"button"===d,"mdc-fab__icon":"fab"===d,"mdc-icon-button__icon":"icon-button"===d,"mdc-icon-button__icon--on":"icon-button"===d&&r(),"mdc-tab__icon":"tab"===d,"mdc-banner__icon":"banner"===d,"mdc-segmented-button__icon":"segmented-button"===d,[o()]:!0}));$i(f,a,(o,r)=>{pn(r(o,An({get tag(){return s()},get use(){return n()},get class(){return Gt(e)},"aria-hidden":"true"},()=>Gt(c)?{focusable:"false",tabindex:"-1"}:{},()=>l,{children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}})),e=>i=e,()=>i)})}return Ti(e,p),G(u)}var zo=vi("<svg><!></svg>");function qo(e,t){q(t,!0);let i=On(t,"use",19,()=>[]),n=On(t,"tag",3,"div"),o=Cn(t,["$$slots","$$events","$$legacy","use","tag","children"]);const r=se(()=>["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].indexOf(n())>-1);let a;var s={getElement:function(){return a}},l=yi(),c=Xe(l),d=e=>{var n=zo();en(n,()=>({...o})),Di(Ge(n),()=>t.children??h),pn(n,e=>a=e,()=>a),Fi(n,(e,t)=>Po?.(e,t),i),Ti(e,n)},u=e=>{var s=yi(),l=Xe(s),c=e=>{var t=yi();Bi(Xe(t),n,0,(e,t)=>{pn(e,e=>a=e,()=>a),Fi(e,(e,t)=>Po?.(e,t),i),en(e,()=>({...o}))}),Ti(e,t)},d=e=>{var r=yi();Bi(Xe(r),n,0,(e,n)=>{pn(e,e=>a=e,()=>a),Fi(e,(e,t)=>Po?.(e,t),i),en(e,()=>({...o}));var r=yi();Di(Xe(r),()=>t.children??h),Ti(n,r)}),Ti(e,r)};Ci(l,e=>{Gt(r)?e(c):e(d,!1)},!0),Ti(e,s)};return Ci(c,e=>{"svg"===n()?e(d):e(u,!1)}),Ti(e,l),G(s)}var Go,Xo=vi("<svg><!></svg>");function Ko(e,t){q(t,!0),console&&console.warn&&console.warn('The @smui/common Svg component is deprecated. You can use `tag="svg"` now.');let i,n=On(t,"use",19,()=>[]),o=Cn(t,["$$slots","$$events","$$legacy","use","children"]);var r={getElement:function(){return i}},a=Xo();return en(a,()=>({...o})),Di(Ge(a),()=>t.children??h),pn(a,e=>i=e,()=>i),Fi(a,(e,t)=>Po?.(e,t),n),Ti(e,a),G(r)}function Zo(e,t){q(t,!0);const[i,n]=In(),o=gn(t.value);z(t.key,o),nt(()=>{wn(o,t.value)}),_n(()=>{o.set(void 0)});var r=yi();Di(Xe(r),()=>t.children??h),Ti(e,r),G(),n()}function Yo(e,t){q(t,!0);let i,n=On(t,"use",19,()=>[]),o=On(t,"class",3,""),r=On(t,"component",3,qo),a=On(t,"tag",3,"div"),s=On(t,"_smuiClass",3,""),l=On(t,"_smuiClassMap",23,()=>({})),c=On(t,"_smuiContexts",19,()=>({})),d=On(t,"_smuiProps",19,()=>({})),u=Cn(t,["$$slots","$$events","$$legacy","use","class","component","tag","_smuiClass","_smuiClassMap","_smuiContexts","_smuiProps","children"]);const p=[];Object.entries(l()).forEach(([e,t])=>{const i=W(t);i&&"subscribe"in i&&p.push(i.subscribe(t=>{l()[e]=t}))});for(let h in c())c().hasOwnProperty(h)&&z(h,c()[h]);_n(()=>{for(const e of p)e()});var f={getElement:function(){return i.getElement()}},m=yi(),g=Xe(m);{let e=se(()=>$o({[s()]:!0,...l(),[o()]:!0}));$i(g,r,(o,r)=>{pn(r(o,An({get tag(){return a()},get use(){return n()},get class(){return Gt(e)}},d,()=>u,{children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}})),e=>i=e,()=>i)})}return Ti(e,m),G(f)}
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
var Qo={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},Jo={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},er={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},tr=["touchstart","pointerdown","mousedown","keydown"],ir=["touchend","pointerup","mouseup","contextmenu"],nr=[],or=function(e){function t(i){var n=e.call(this,Ln(Ln({},t.defaultAdapter),i))||this;return n.activationAnimationHasEnded=!1,n.activationTimer=0,n.fgDeactivationRemovalTimer=0,n.fgScale="0",n.frame={width:0,height:0},n.initialSize=0,n.layoutFrame=0,n.maxRadius=0,n.unboundedCoords={left:0,top:0},n.activationState=n.defaultActivationState(),n.activationTimerCallback=function(){n.activationAnimationHasEnded=!0,n.runDeactivationUXLogicIfReady()},n.activateHandler=function(e){n.activateImpl(e)},n.deactivateHandler=function(){n.deactivateImpl()},n.focusHandler=function(){n.handleFocus()},n.blurHandler=function(){n.handleBlur()},n.resizeHandler=function(){n.layout()},n}return Fn(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Qo},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Jo},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return er},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=this,i=this.supportsPressRipple();if(this.registerRootHandlers(i),i){var n=t.cssClasses,o=n.ROOT,r=n.UNBOUNDED;requestAnimationFrame(function(){e.adapter.addClass(o),e.adapter.isUnbounded()&&(e.adapter.addClass(r),e.layoutInternal())})}},t.prototype.destroy=function(){var e=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(t.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(t.cssClasses.FG_DEACTIVATION));var i=t.cssClasses,n=i.ROOT,o=i.UNBOUNDED;requestAnimationFrame(function(){e.adapter.removeClass(n),e.adapter.removeClass(o),e.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},t.prototype.activate=function(e){this.activateImpl(e)},t.prototype.deactivate=function(){this.deactivateImpl()},t.prototype.layout=function(){var e=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){e.layoutInternal(),e.layoutFrame=0})},t.prototype.setUnbounded=function(e){var i=t.cssClasses.UNBOUNDED;e?this.adapter.addClass(i):this.adapter.removeClass(i)},t.prototype.handleFocus=function(){var e=this;requestAnimationFrame(function(){return e.adapter.addClass(t.cssClasses.BG_FOCUSED)})},t.prototype.handleBlur=function(){var e=this;requestAnimationFrame(function(){return e.adapter.removeClass(t.cssClasses.BG_FOCUSED)})},t.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},t.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},t.prototype.registerRootHandlers=function(e){var t,i;if(e){try{for(var n=Nn(tr),o=n.next();!o.done;o=n.next()){var r=o.value;this.adapter.registerInteractionHandler(r,this.activateHandler)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},t.prototype.registerDeactivationHandlers=function(e){var t,i;if("keydown"===e.type)this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var n=Nn(ir),o=n.next();!o.done;o=n.next()){var r=o.value;this.adapter.registerDocumentInteractionHandler(r,this.deactivateHandler)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}},t.prototype.deregisterRootHandlers=function(){var e,t;try{for(var i=Nn(tr),n=i.next();!n.done;n=i.next()){var o=n.value;this.adapter.deregisterInteractionHandler(o,this.activateHandler)}}catch(r){e={error:r}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},t.prototype.deregisterDeactivationHandlers=function(){var e,t;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var i=Nn(ir),n=i.next();!n.done;n=i.next()){var o=n.value;this.adapter.deregisterDocumentInteractionHandler(o,this.deactivateHandler)}}catch(r){e={error:r}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},t.prototype.removeCssVars=function(){var e=this,i=t.strings;Object.keys(i).forEach(function(t){0===t.indexOf("VAR_")&&e.adapter.updateCssVariable(i[t],null)})},t.prototype.activateImpl=function(e){var t=this;if(!this.adapter.isSurfaceDisabled()){var i=this.activationState;if(!i.isActivated){var n=this.previousActivationEvent;if(!(n&&void 0!==e&&n.type!==e.type))i.isActivated=!0,i.isProgrammatic=void 0===e,i.activationEvent=e,i.wasActivatedByPointer=!i.isProgrammatic&&(void 0!==e&&("mousedown"===e.type||"touchstart"===e.type||"pointerdown"===e.type)),void 0!==e&&nr.length>0&&nr.some(function(e){return t.adapter.containsEventTarget(e)})?this.resetActivationState():(void 0!==e&&(nr.push(e.target),this.registerDeactivationHandlers(e)),i.wasElementMadeActive=this.checkElementMadeActive(e),i.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){nr=[],i.wasElementMadeActive||void 0===e||" "!==e.key&&32!==e.keyCode||(i.wasElementMadeActive=t.checkElementMadeActive(e),i.wasElementMadeActive&&t.animateActivation()),i.wasElementMadeActive||(t.activationState=t.defaultActivationState())}))}}},t.prototype.checkElementMadeActive=function(e){return void 0===e||"keydown"!==e.type||this.adapter.isSurfaceActive()},t.prototype.animateActivation=function(){var e=this,i=t.strings,n=i.VAR_FG_TRANSLATE_START,o=i.VAR_FG_TRANSLATE_END,r=t.cssClasses,a=r.FG_DEACTIVATION,s=r.FG_ACTIVATION,l=t.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var c="",d="";if(!this.adapter.isUnbounded()){var u=this.getFgTranslationCoordinates(),p=u.startPoint,h=u.endPoint;c=p.x+"px, "+p.y+"px",d=h.x+"px, "+h.y+"px"}this.adapter.updateCssVariable(n,c),this.adapter.updateCssVariable(o,d),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(a),this.adapter.computeBoundingRect(),this.adapter.addClass(s),this.activationTimer=setTimeout(function(){e.activationTimerCallback()},l)},t.prototype.getFgTranslationCoordinates=function(){var e,t=this.activationState,i=t.activationEvent;return{startPoint:e={x:(e=t.wasActivatedByPointer?function(e,t,i){if(!e)return{x:0,y:0};var n,o,r=t.x,a=t.y,s=r+i.left,l=a+i.top;if("touchstart"===e.type){var c=e;n=c.changedTouches[0].pageX-s,o=c.changedTouches[0].pageY-l}else{var d=e;n=d.pageX-s,o=d.pageY-l}return{x:n,y:o}}(i,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame.width/2,y:this.frame.height/2}).x-this.initialSize/2,y:e.y-this.initialSize/2},endPoint:{x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2}}},t.prototype.runDeactivationUXLogicIfReady=function(){var e=this,i=t.cssClasses.FG_DEACTIVATION,n=this.activationState,o=n.hasDeactivationUXRun,r=n.isActivated;(o||!r)&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(i),this.fgDeactivationRemovalTimer=setTimeout(function(){e.adapter.removeClass(i)},er.FG_DEACTIVATION_MS))},t.prototype.rmBoundedActivationClasses=function(){var e=t.cssClasses.FG_ACTIVATION;this.adapter.removeClass(e),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},t.prototype.resetActivationState=function(){var e=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return e.previousActivationEvent=void 0},t.numbers.TAP_DELAY_MS)},t.prototype.deactivateImpl=function(){var e=this,t=this.activationState;if(t.isActivated){var i=Ln({},t);t.isProgrammatic?(requestAnimationFrame(function(){e.animateDeactivation(i)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){e.activationState.hasDeactivationUXRun=!0,e.animateDeactivation(i),e.resetActivationState()}))}},t.prototype.animateDeactivation=function(e){var t=e.wasActivatedByPointer,i=e.wasElementMadeActive;(t||i)&&this.runDeactivationUXLogicIfReady()},t.prototype.layoutInternal=function(){var e=this;this.frame=this.adapter.computeBoundingRect();var i=Math.max(this.frame.height,this.frame.width);this.maxRadius=this.adapter.isUnbounded()?i:Math.sqrt(Math.pow(e.frame.width,2)+Math.pow(e.frame.height,2))+t.numbers.PADDING;var n=Math.floor(i*t.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&n%2!=0?this.initialSize=n-1:this.initialSize=n,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},t.prototype.updateLayoutCssVars=function(){var e=t.strings,i=e.VAR_FG_SIZE,n=e.VAR_LEFT,o=e.VAR_TOP,r=e.VAR_FG_SCALE;this.adapter.updateCssVariable(i,this.initialSize+"px"),this.adapter.updateCssVariable(r,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(n,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(o,this.unboundedCoords.top+"px"))},t}(Vn);const{applyPassive:rr}=Zn,{matches:ar}=Hn;function sr(e,{ripple:t=!0,surface:i=!1,unbounded:n=!1,disabled:o=!1,color:r,active:a,rippleElement:s,eventTarget:l,activeTarget:c,addClass:d=t=>e.classList.add(t),removeClass:u=t=>e.classList.remove(t),addStyle:p=(t,i)=>e.style.setProperty(t,i),initPromise:h=Promise.resolve()}={}){let f,m,g=new No,v=W("SMUI:addLayoutListener"),b=a,y=l,T=c;function w(){i?(d("mdc-ripple-surface"),"primary"===r?(d("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")):"secondary"===r?(u("smui-ripple-surface--primary"),d("smui-ripple-surface--secondary")):(u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary"))):(u("mdc-ripple-surface"),u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")),f&&b!==a&&(b=a,a?f.activate():!1===a&&f.deactivate()),t&&!f?(f=new or({addClass:d,browserSupportsCssVars:()=>function(e,t){void 0===t&&(t=!1);var i,n=e.CSS;if("boolean"==typeof Go&&!t)return Go;if(!n||"function"!=typeof n.supports)return!1;var o=n.supports("--css-vars","yes"),r=n.supports("(--css-vars: yes)")&&n.supports("color","#00000000");return i=o||r,t||(Go=i),i}(window),computeBoundingRect:()=>(s||e).getBoundingClientRect(),containsEventTarget:t=>e.contains(t),deregisterDocumentInteractionHandler:(e,t)=>g.off(document.documentElement,e,t),deregisterInteractionHandler:(t,i)=>g.off(l||e,t,i),deregisterResizeHandler:e=>window.removeEventListener("resize",e),getWindowPageOffset:()=>{var e,t;return{x:null!==(e=window.pageXOffset)&&void 0!==e?e:window.scrollX,y:null!==(t=window.pageYOffset)&&void 0!==t?t:window.scrollY}},isSurfaceActive:()=>null==a?ar(c||e,":active"):a,isSurfaceDisabled:()=>!!o,isUnbounded:()=>!!n,registerDocumentInteractionHandler:(e,t)=>{const i=rr();g.on(document.documentElement,e,t,"boolean"==typeof i?{capture:i}:i)},registerInteractionHandler:(t,i)=>{const n=rr();g.on(l||e,t,i,"boolean"==typeof n?{capture:n}:n)},registerResizeHandler:e=>g.on(window,"resize",e),removeClass:u,updateCssVariable:p}),h.then(()=>{f&&(f.init(),f.setUnbounded(n))})):f&&!t&&h.then(()=>{f&&(f.destroy(),f=void 0,g.clear())}),!f||y===l&&T===c||(y=l,T=c,f.destroy(),requestAnimationFrame(()=>{f&&(f.init(),f.setUnbounded(n))})),!t&&n&&d("mdc-ripple-upgraded--unbounded")}return w(),v&&(m=v(function(){f&&f.layout()})),{update(f){({ripple:t,surface:i,unbounded:n,disabled:o,color:r,active:a,rippleElement:s,eventTarget:l,activeTarget:c,addClass:d,removeClass:u,addStyle:p,initPromise:h}=Object.assign({ripple:!0,surface:!1,unbounded:!1,disabled:!1,color:void 0,active:void 0,rippleElement:void 0,eventTarget:void 0,activeTarget:void 0,addClass:t=>e.classList.add(t),removeClass:t=>e.classList.remove(t),addStyle:(t,i)=>e.style.setProperty(t,i),initPromise:Promise.resolve()},f)),w()},destroy(){f&&(f.destroy(),f=void 0,g.clear(),u("mdc-ripple-surface"),u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")),m&&m()}}}var lr,cr,dr=mi('<div class="mdc-button__touch"></div>'),ur=mi('<div class="mdc-button__ripple"></div> <!><!>',1);function pr(e,t){q(t,!0);let i,n=On(t,"use",19,()=>[]),o=On(t,"class",3,""),r=On(t,"style",3,""),a=On(t,"ripple",3,!0),s=On(t,"color",3,"primary"),l=On(t,"variant",3,"text"),c=On(t,"touch",3,!1),d=On(t,"action",3,"close"),u=On(t,"defaultAction",3,!1),p=On(t,"secondary",3,!1),f=On(t,"component",3,qo),m=On(t,"tag",19,()=>null==t.href?"button":"a"),g=Cn(t,["$$slots","$$events","$$legacy","use","class","style","ripple","color","variant","touch","href","action","defaultAction","secondary","component","tag","children"]),v=Fe({}),b=Fe({}),y=W("SMUI:button:context");const T=se(()=>"dialog:action"===y&&null!=d()?{"data-mdc-dialog-action":d()}:{action:d()}),w=se(()=>"dialog:action"===y&&u()?{"data-mdc-dialog-button-default":""}:{}),I=se(()=>"banner"===y?{}:{secondary:p()});let S=t.disabled;function C(e){v[e]||(v[e]=!0)}function x(e){e in v&&!v[e]||(v[e]=!1)}function A(e,t){b[e]!=t&&(""===t||null==t?delete b[e]:b[e]=t)}function O(){return i.getElement()}nt(()=>{if(S!==t.disabled){if(i){const e=O();"blur"in e&&e.blur()}S=g.disabled}}),z("SMUI:label:context","button"),z("SMUI:icon:context","button");var E={getElement:O},_=yi(),k=Xe(_);{let e=se(()=>[[sr,{ripple:a(),unbounded:!1,color:s(),disabled:!!t.disabled,addClass:C,removeClass:x,addStyle:A}],...n()]),d=se(()=>$o({"mdc-button":!0,"mdc-button--raised":"raised"===l(),"mdc-button--unelevated":"unelevated"===l(),"mdc-button--outlined":"outlined"===l(),"smui-button--color-secondary":"secondary"===s(),"mdc-button--touch":c(),"mdc-card__action":"card:action"===y,"mdc-card__action--button":"card:action"===y,"mdc-dialog__button":"dialog:action"===y,"mdc-top-app-bar__navigation-icon":"top-app-bar:navigation"===y,"mdc-top-app-bar__action-item":"top-app-bar:action"===y,"mdc-snackbar__action":"snackbar:actions"===y,"mdc-banner__secondary-action":"banner"===y&&p(),"mdc-banner__primary-action":"banner"===y&&!p(),"mdc-tooltip__action":"tooltip:rich-actions"===y,...v,[o()]:!0})),u=se(()=>Object.entries(b).map(([e,t])=>`${e}: ${t};`).concat([r()]).join(" "));$i(k,f,(n,o)=>{pn(o(n,An({get tag(){return m()},get use(){return Gt(e)},get class(){return Gt(d)},get style(){return Gt(u)}},()=>Gt(T),()=>Gt(w),()=>Gt(I),{get href(){return t.href}},()=>g,{onclick:e=>{"banner"===y&&Bo(O(),p()?"SMUIBannerButtonSecondaryActionClick":"SMUIBannerButtonPrimaryActionClick"),t.onclick?.(e),e.currentTarget.blur()},children:(e,i)=>{var n=ur(),o=Ke(Xe(n),2);Di(o,()=>t.children??h);var r=Ke(o),a=e=>{Ti(e,dr())};Ci(r,e=>{c()&&e(a)}),Ti(e,n)},$$slots:{default:!0}})),e=>i=e,()=>i)})}return Ti(e,_),G(E)}
/**
   * @license
   * Copyright 2018 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */var hr={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",LIST_ITEM_TEXT_CLASS:"mdc-list-item__text",LIST_ITEM_PRIMARY_TEXT_CLASS:"mdc-list-item__primary-text",ROOT:"mdc-list"};(lr={})[""+hr.LIST_ITEM_ACTIVATED_CLASS]="mdc-list-item--activated",lr[""+hr.LIST_ITEM_CLASS]="mdc-list-item",lr[""+hr.LIST_ITEM_DISABLED_CLASS]="mdc-list-item--disabled",lr[""+hr.LIST_ITEM_SELECTED_CLASS]="mdc-list-item--selected",lr[""+hr.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-list-item__primary-text",lr[""+hr.ROOT]="mdc-list";var fr=((cr={})[""+hr.LIST_ITEM_ACTIVATED_CLASS]="mdc-deprecated-list-item--activated",cr[""+hr.LIST_ITEM_CLASS]="mdc-deprecated-list-item",cr[""+hr.LIST_ITEM_DISABLED_CLASS]="mdc-deprecated-list-item--disabled",cr[""+hr.LIST_ITEM_SELECTED_CLASS]="mdc-deprecated-list-item--selected",cr[""+hr.LIST_ITEM_TEXT_CLASS]="mdc-deprecated-list-item__text",cr[""+hr.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-deprecated-list-item__primary-text",cr[""+hr.ROOT]="mdc-deprecated-list",cr),mr={ACTION_EVENT:"MDCList:action",SELECTION_CHANGE_EVENT:"MDCList:selectionChange",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",ARIA_INTERACTIVE_ROLES_SELECTOR:'[role="listbox"], [role="menu"]',ARIA_MULTI_SELECTABLE_SELECTOR:'[aria-multiselectable="true"]',CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:"\n    ."+hr.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+hr.LIST_ITEM_CLASS+" a,\n    ."+fr[hr.LIST_ITEM_CLASS]+" button:not(:disabled),\n    ."+fr[hr.LIST_ITEM_CLASS]+" a\n  ",DEPRECATED_SELECTOR:".mdc-deprecated-list",FOCUSABLE_CHILD_ELEMENTS:"\n    ."+hr.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+hr.LIST_ITEM_CLASS+" a,\n    ."+hr.LIST_ITEM_CLASS+' input[type="radio"]:not(:disabled),\n    .'+hr.LIST_ITEM_CLASS+' input[type="checkbox"]:not(:disabled),\n    .'+fr[hr.LIST_ITEM_CLASS]+" button:not(:disabled),\n    ."+fr[hr.LIST_ITEM_CLASS]+" a,\n    ."+fr[hr.LIST_ITEM_CLASS]+' input[type="radio"]:not(:disabled),\n    .'+fr[hr.LIST_ITEM_CLASS]+' input[type="checkbox"]:not(:disabled)\n  ',RADIO_SELECTOR:'input[type="radio"]',SELECTED_ITEM_SELECTOR:'[aria-selected="true"], [aria-current="true"]'},gr={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300},vr=["input","button","textarea","select"],br=function(e){var t=e.target;if(t){var i=(""+t.tagName).toLowerCase();-1===vr.indexOf(i)&&e.preventDefault()}};function yr(e,t){var i,n=e.nextChar,o=e.focusItemAtIndex,r=e.sortedIndexByFirstChar,a=e.focusedItemIndex,s=e.skipFocus,l=e.isItemAtIndexDisabled;return clearTimeout(t.bufferClearTimeout),t.bufferClearTimeout=setTimeout(function(){wr(t)},gr.TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS),t.typeaheadBuffer=t.typeaheadBuffer+n,i=1===t.typeaheadBuffer.length?function(e,t,i,n){var o=n.typeaheadBuffer[0],r=e.get(o);if(!r)return-1;if(o===n.currentFirstChar&&r[n.sortedIndexCursor].index===t){n.sortedIndexCursor=(n.sortedIndexCursor+1)%r.length;var a=r[n.sortedIndexCursor].index;if(!i(a))return a}n.currentFirstChar=o;var s,l=-1;for(s=0;s<r.length;s++)if(!i(r[s].index)){l=s;break}for(;s<r.length;s++)if(r[s].index>t&&!i(r[s].index)){l=s;break}if(-1!==l)return n.sortedIndexCursor=l,r[n.sortedIndexCursor].index;return-1}(r,a,l,t):function(e,t,i){var n=i.typeaheadBuffer[0],o=e.get(n);if(!o)return-1;var r=o[i.sortedIndexCursor];if(0===r.text.lastIndexOf(i.typeaheadBuffer,0)&&!t(r.index))return r.index;var a=(i.sortedIndexCursor+1)%o.length,s=-1;for(;a!==i.sortedIndexCursor;){var l=o[a],c=0===l.text.lastIndexOf(i.typeaheadBuffer,0),d=!t(l.index);if(c&&d){s=a;break}a=(a+1)%o.length}if(-1!==s)return i.sortedIndexCursor=s,o[i.sortedIndexCursor].index;return-1}(r,l,t),-1===i||s||o(i),i}function Tr(e){return e.typeaheadBuffer.length>0}function wr(e){e.typeaheadBuffer=""}function Ir(e,t){var i=e.event,n=e.isTargetListItem,o=e.focusedItemIndex,r=e.focusItemAtIndex,a=e.sortedIndexByFirstChar,s=e.isItemAtIndexDisabled,l="ArrowLeft"===Do(i),c="ArrowUp"===Do(i),d="ArrowRight"===Do(i),u="ArrowDown"===Do(i),p="Home"===Do(i),h="End"===Do(i),f="Enter"===Do(i),m="Spacebar"===Do(i);return i.altKey||i.ctrlKey||i.metaKey||l||c||d||u||p||h||f?-1:m||1!==i.key.length?m?(n&&br(i),n&&Tr(t)?yr({focusItemAtIndex:r,focusedItemIndex:o,nextChar:" ",sortedIndexByFirstChar:a,skipFocus:!1,isItemAtIndexDisabled:s},t):-1):-1:(br(i),yr({focusItemAtIndex:r,focusedItemIndex:o,nextChar:i.key.toLowerCase(),sortedIndexByFirstChar:a,skipFocus:!1,isItemAtIndexDisabled:s},t))}
/**
   * @license
   * Copyright 2018 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */var Sr=["Alt","Control","Meta","Shift"];function Cr(e){var t=new Set(e?Sr.filter(function(t){return e.getModifierState(t)}):[]);return function(e){return e.every(function(e){return t.has(e)})&&e.length===t.size}}var xr=function(e){function t(i){var n=e.call(this,Ln(Ln({},t.defaultAdapter),i))||this;return n.wrapFocus=!1,n.isVertical=!0,n.isSingleSelectionList=!1,n.areDisabledItemsFocusable=!0,n.selectedIndex=gr.UNSET_INDEX,n.focusedItemIndex=gr.UNSET_INDEX,n.useActivatedClass=!1,n.useSelectedAttr=!1,n.ariaCurrentAttrValue=null,n.isCheckboxList=!1,n.isRadioList=!1,n.lastSelectedIndex=null,n.hasTypeahead=!1,n.typeaheadState={bufferClearTimeout:0,currentFirstChar:"",sortedIndexCursor:0,typeaheadBuffer:""},n.sortedIndexByFirstChar=new Map,n}return Fn(t,e),Object.defineProperty(t,"strings",{get:function(){return mr},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return hr},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return gr},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClassForElementIndex:function(){},focusItemAtIndex:function(){},getAttributeForElementIndex:function(){return null},getFocusedElementIndex:function(){return 0},getListItemCount:function(){return 0},hasCheckboxAtIndex:function(){return!1},hasRadioAtIndex:function(){return!1},isCheckboxCheckedAtIndex:function(){return!1},isFocusInsideList:function(){return!1},isRootFocused:function(){return!1},listItemAtIndexHasClass:function(){return!1},notifyAction:function(){},notifySelectionChange:function(){},removeClassForElementIndex:function(){},setAttributeForElementIndex:function(){},setCheckedCheckboxOrRadioAtIndex:function(){},setTabIndexForListItemChildren:function(){},getPrimaryTextAtIndex:function(){return""}}},enumerable:!1,configurable:!0}),t.prototype.layout=function(){0!==this.adapter.getListItemCount()&&(this.adapter.hasCheckboxAtIndex(0)?this.isCheckboxList=!0:this.adapter.hasRadioAtIndex(0)?this.isRadioList=!0:this.maybeInitializeSingleSelection(),this.hasTypeahead&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex()))},t.prototype.getFocusedItemIndex=function(){return this.focusedItemIndex},t.prototype.setWrapFocus=function(e){this.wrapFocus=e},t.prototype.setVerticalOrientation=function(e){this.isVertical=e},t.prototype.setSingleSelection=function(e){this.isSingleSelectionList=e,e&&(this.maybeInitializeSingleSelection(),this.selectedIndex=this.getSelectedIndexFromDOM())},t.prototype.setDisabledItemsFocusable=function(e){this.areDisabledItemsFocusable=e},t.prototype.maybeInitializeSingleSelection=function(){var e=this.getSelectedIndexFromDOM();e!==gr.UNSET_INDEX&&(this.adapter.listItemAtIndexHasClass(e,hr.LIST_ITEM_ACTIVATED_CLASS)&&this.setUseActivatedClass(!0),this.isSingleSelectionList=!0,this.selectedIndex=e)},t.prototype.getSelectedIndexFromDOM=function(){for(var e=gr.UNSET_INDEX,t=this.adapter.getListItemCount(),i=0;i<t;i++){var n=this.adapter.listItemAtIndexHasClass(i,hr.LIST_ITEM_SELECTED_CLASS),o=this.adapter.listItemAtIndexHasClass(i,hr.LIST_ITEM_ACTIVATED_CLASS);if(n||o){e=i;break}}return e},t.prototype.setHasTypeahead=function(e){this.hasTypeahead=e,e&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex())},t.prototype.isTypeaheadInProgress=function(){return this.hasTypeahead&&Tr(this.typeaheadState)},t.prototype.setUseActivatedClass=function(e){this.useActivatedClass=e},t.prototype.setUseSelectedAttribute=function(e){this.useSelectedAttr=e},t.prototype.getSelectedIndex=function(){return this.selectedIndex},t.prototype.setSelectedIndex=function(e,t){void 0===t&&(t={}),this.isIndexValid(e)&&(this.isCheckboxList?this.setCheckboxAtIndex(e,t):this.isRadioList?this.setRadioAtIndex(e,t):this.setSingleSelectionAtIndex(e,t))},t.prototype.handleFocusIn=function(e){e>=0&&(this.focusedItemIndex=e,this.adapter.setAttributeForElementIndex(e,"tabindex","0"),this.adapter.setTabIndexForListItemChildren(e,"0"))},t.prototype.handleFocusOut=function(e){var t=this;e>=0&&(this.adapter.setAttributeForElementIndex(e,"tabindex","-1"),this.adapter.setTabIndexForListItemChildren(e,"-1")),setTimeout(function(){t.adapter.isFocusInsideList()||t.setTabindexToFirstSelectedOrFocusedItem()},0)},t.prototype.isIndexDisabled=function(e){return this.adapter.listItemAtIndexHasClass(e,hr.LIST_ITEM_DISABLED_CLASS)},t.prototype.handleKeydown=function(e,t,i){var n,o=this,r="ArrowLeft"===Do(e),a="ArrowUp"===Do(e),s="ArrowRight"===Do(e),l="ArrowDown"===Do(e),c="Home"===Do(e),d="End"===Do(e),u="Enter"===Do(e),p="Spacebar"===Do(e),h=this.isVertical&&l||!this.isVertical&&s,f=this.isVertical&&a||!this.isVertical&&r,m="A"===e.key||"a"===e.key,g=Cr(e);if(this.adapter.isRootFocused()){if((f||d)&&g([]))e.preventDefault(),this.focusLastElement();else if((h||c)&&g([]))e.preventDefault(),this.focusFirstElement();else if(f&&g(["Shift"])&&this.isCheckboxList){e.preventDefault(),-1!==(b=this.focusLastElement())&&this.setSelectedIndexOnAction(b,!1)}else if(h&&g(["Shift"])&&this.isCheckboxList){e.preventDefault(),-1!==(b=this.focusFirstElement())&&this.setSelectedIndexOnAction(b,!1)}this.hasTypeahead&&Ir({event:e,focusItemAtIndex:function(e){o.focusItemAtIndex(e)},focusedItemIndex:-1,isTargetListItem:t,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(e){return o.isIndexDisabled(e)}},this.typeaheadState)}else{var v=this.adapter.getFocusedElementIndex();if(!(-1===v&&(v=i)<0)){if(h&&g([]))br(e),this.focusNextElement(v);else if(f&&g([]))br(e),this.focusPrevElement(v);else if(h&&g(["Shift"])&&this.isCheckboxList){br(e),-1!==(b=this.focusNextElement(v))&&this.setSelectedIndexOnAction(b,!1)}else if(f&&g(["Shift"])&&this.isCheckboxList){var b;br(e),-1!==(b=this.focusPrevElement(v))&&this.setSelectedIndexOnAction(b,!1)}else if(c&&g([]))br(e),this.focusFirstElement();else if(d&&g([]))br(e),this.focusLastElement();else if(c&&g(["Control","Shift"])&&this.isCheckboxList){if(br(e),this.isIndexDisabled(v))return;this.focusFirstElement(),this.toggleCheckboxRange(0,v,v)}else if(d&&g(["Control","Shift"])&&this.isCheckboxList){if(br(e),this.isIndexDisabled(v))return;this.focusLastElement(),this.toggleCheckboxRange(v,this.adapter.getListItemCount()-1,v)}else if(m&&g(["Control"])&&this.isCheckboxList)e.preventDefault(),this.checkboxListToggleAll(this.selectedIndex===gr.UNSET_INDEX?[]:this.selectedIndex,!0);else if((u||p)&&g([])){if(t){if((y=e.target)&&"A"===y.tagName&&u)return;if(br(e),this.isIndexDisabled(v))return;this.isTypeaheadInProgress()||(this.isSelectableList()&&this.setSelectedIndexOnAction(v,!1),this.adapter.notifyAction(v))}}else if((u||p)&&g(["Shift"])&&this.isCheckboxList){var y;if((y=e.target)&&"A"===y.tagName&&u)return;if(br(e),this.isIndexDisabled(v))return;this.isTypeaheadInProgress()||(this.toggleCheckboxRange(null!==(n=this.lastSelectedIndex)&&void 0!==n?n:v,v,v),this.adapter.notifyAction(v))}if(this.hasTypeahead)Ir({event:e,focusItemAtIndex:function(e){o.focusItemAtIndex(e)},focusedItemIndex:this.focusedItemIndex,isTargetListItem:t,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(e){return o.isIndexDisabled(e)}},this.typeaheadState)}}},t.prototype.handleClick=function(e,t,i){var n,o=Cr(i);e!==gr.UNSET_INDEX&&(this.isIndexDisabled(e)||(o([])?(this.isSelectableList()&&this.setSelectedIndexOnAction(e,t),this.adapter.notifyAction(e)):this.isCheckboxList&&o(["Shift"])&&(this.toggleCheckboxRange(null!==(n=this.lastSelectedIndex)&&void 0!==n?n:e,e,e),this.adapter.notifyAction(e))))},t.prototype.focusNextElement=function(e){var t=this.adapter.getListItemCount(),i=e,n=null;do{if(++i>=t){if(!this.wrapFocus)return e;i=0}if(i===n)return-1;n=null!=n?n:i}while(!this.areDisabledItemsFocusable&&this.isIndexDisabled(i));return this.focusItemAtIndex(i),i},t.prototype.focusPrevElement=function(e){var t=this.adapter.getListItemCount(),i=e,n=null;do{if(--i<0){if(!this.wrapFocus)return e;i=t-1}if(i===n)return-1;n=null!=n?n:i}while(!this.areDisabledItemsFocusable&&this.isIndexDisabled(i));return this.focusItemAtIndex(i),i},t.prototype.focusFirstElement=function(){return this.focusNextElement(-1)},t.prototype.focusLastElement=function(){return this.focusPrevElement(this.adapter.getListItemCount())},t.prototype.focusInitialElement=function(){var e=this.getFirstSelectedOrFocusedItemIndex();return this.focusItemAtIndex(e),e},t.prototype.setEnabled=function(e,t){this.isIndexValid(e,!1)&&(t?(this.adapter.removeClassForElementIndex(e,hr.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(e,mr.ARIA_DISABLED,"false")):(this.adapter.addClassForElementIndex(e,hr.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(e,mr.ARIA_DISABLED,"true")))},t.prototype.setSingleSelectionAtIndex=function(e,t){if(void 0===t&&(t={}),this.selectedIndex!==e||t.forceUpdate){var i=hr.LIST_ITEM_SELECTED_CLASS;this.useActivatedClass&&(i=hr.LIST_ITEM_ACTIVATED_CLASS),this.selectedIndex!==gr.UNSET_INDEX&&this.adapter.removeClassForElementIndex(this.selectedIndex,i),this.setAriaForSingleSelectionAtIndex(e),this.setTabindexAtIndex(e),e!==gr.UNSET_INDEX&&this.adapter.addClassForElementIndex(e,i),this.selectedIndex=e,t.isUserInteraction&&!t.forceUpdate&&this.adapter.notifySelectionChange([e])}},t.prototype.setAriaForSingleSelectionAtIndex=function(e){this.selectedIndex===gr.UNSET_INDEX&&(this.ariaCurrentAttrValue=this.adapter.getAttributeForElementIndex(e,mr.ARIA_CURRENT));var t=null!==this.ariaCurrentAttrValue,i=t?mr.ARIA_CURRENT:mr.ARIA_SELECTED;if(this.selectedIndex!==gr.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,i,"false"),e!==gr.UNSET_INDEX){var n=t?this.ariaCurrentAttrValue:"true";this.adapter.setAttributeForElementIndex(e,i,n)}},t.prototype.getSelectionAttribute=function(){return this.useSelectedAttr?mr.ARIA_SELECTED:mr.ARIA_CHECKED},t.prototype.setRadioAtIndex=function(e,t){void 0===t&&(t={});var i=this.getSelectionAttribute();this.adapter.setCheckedCheckboxOrRadioAtIndex(e,!0),(this.selectedIndex!==e||t.forceUpdate)&&(this.selectedIndex!==gr.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,i,"false"),this.adapter.setAttributeForElementIndex(e,i,"true"),this.selectedIndex=e,t.isUserInteraction&&!t.forceUpdate&&this.adapter.notifySelectionChange([e]))},t.prototype.setCheckboxAtIndex=function(e,t){void 0===t&&(t={});for(var i=this.selectedIndex,n=t.isUserInteraction?new Set(i===gr.UNSET_INDEX?[]:i):null,o=this.getSelectionAttribute(),r=[],a=0;a<this.adapter.getListItemCount();a++){var s=null==n?void 0:n.has(a),l=e.indexOf(a)>=0;l!==s&&r.push(a),this.adapter.setCheckedCheckboxOrRadioAtIndex(a,l),this.adapter.setAttributeForElementIndex(a,o,l?"true":"false")}this.selectedIndex=e,t.isUserInteraction&&r.length&&this.adapter.notifySelectionChange(r)},t.prototype.toggleCheckboxRange=function(e,t,i){this.lastSelectedIndex=i;for(var n=new Set(this.selectedIndex===gr.UNSET_INDEX?[]:this.selectedIndex),o=!(null==n?void 0:n.has(i)),r=Pn([e,t].sort(),2),a=r[0],s=r[1],l=this.getSelectionAttribute(),c=[],d=a;d<=s;d++){if(!this.isIndexDisabled(d))o!==n.has(d)&&(c.push(d),this.adapter.setCheckedCheckboxOrRadioAtIndex(d,o),this.adapter.setAttributeForElementIndex(d,l,""+o),o?n.add(d):n.delete(d))}c.length&&(this.selectedIndex=jn([],Pn(n)),this.adapter.notifySelectionChange(c))},t.prototype.setTabindexAtIndex=function(e){this.focusedItemIndex===gr.UNSET_INDEX&&0!==e?this.adapter.setAttributeForElementIndex(0,"tabindex","-1"):this.focusedItemIndex>=0&&this.focusedItemIndex!==e&&this.adapter.setAttributeForElementIndex(this.focusedItemIndex,"tabindex","-1"),this.selectedIndex instanceof Array||this.selectedIndex===e||this.adapter.setAttributeForElementIndex(this.selectedIndex,"tabindex","-1"),e!==gr.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(e,"tabindex","0")},t.prototype.isSelectableList=function(){return this.isSingleSelectionList||this.isCheckboxList||this.isRadioList},t.prototype.setTabindexToFirstSelectedOrFocusedItem=function(){var e=this.getFirstSelectedOrFocusedItemIndex();this.setTabindexAtIndex(e)},t.prototype.getFirstSelectedOrFocusedItemIndex=function(){return this.isSelectableList()?"number"==typeof this.selectedIndex&&this.selectedIndex!==gr.UNSET_INDEX?this.selectedIndex:this.selectedIndex instanceof Array&&this.selectedIndex.length>0?this.selectedIndex.reduce(function(e,t){return Math.min(e,t)}):0:Math.max(this.focusedItemIndex,0)},t.prototype.isIndexValid=function(e,t){var i=this;if(void 0===t&&(t=!0),e instanceof Array){if(!this.isCheckboxList&&t)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");return 0===e.length||e.some(function(e){return i.isIndexInRange(e)})}if("number"==typeof e){if(this.isCheckboxList&&t)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+e);return this.isIndexInRange(e)||this.isSingleSelectionList&&e===gr.UNSET_INDEX}return!1},t.prototype.isIndexInRange=function(e){var t=this.adapter.getListItemCount();return e>=0&&e<t},t.prototype.setSelectedIndexOnAction=function(e,t){this.lastSelectedIndex=e,this.isCheckboxList?(this.toggleCheckboxAtIndex(e,t),this.adapter.notifySelectionChange([e])):this.setSelectedIndex(e,{isUserInteraction:!0})},t.prototype.toggleCheckboxAtIndex=function(e,t){var i,n=this.getSelectionAttribute(),o=this.adapter.isCheckboxCheckedAtIndex(e);t?i=o:(i=!o,this.adapter.setCheckedCheckboxOrRadioAtIndex(e,i)),this.adapter.setAttributeForElementIndex(e,n,i?"true":"false");var r=this.selectedIndex===gr.UNSET_INDEX?[]:this.selectedIndex.slice();i?r.push(e):r=r.filter(function(t){return t!==e}),this.selectedIndex=r},t.prototype.focusItemAtIndex=function(e){this.adapter.focusItemAtIndex(e),this.focusedItemIndex=e},t.prototype.checkboxListToggleAll=function(e,t){var i=this.adapter.getListItemCount();if(e.length===i)this.setCheckboxAtIndex([],{isUserInteraction:t});else{for(var n=[],o=0;o<i;o++)(!this.isIndexDisabled(o)||e.indexOf(o)>-1)&&n.push(o);this.setCheckboxAtIndex(n,{isUserInteraction:t})}},t.prototype.typeaheadMatchItem=function(e,t,i){var n=this;return void 0===i&&(i=!1),yr({focusItemAtIndex:function(e){n.focusItemAtIndex(e)},focusedItemIndex:t||this.focusedItemIndex,nextChar:e,sortedIndexByFirstChar:this.sortedIndexByFirstChar,skipFocus:i,isItemAtIndexDisabled:function(e){return n.isIndexDisabled(e)}},this.typeaheadState)},t.prototype.typeaheadInitSortedIndex=function(){return function(e,t){for(var i=new Map,n=0;n<e;n++){var o=t(n).trim();if(o){var r=o[0].toLowerCase();i.has(r)||i.set(r,[]),i.get(r).push({text:o.toLowerCase(),index:n})}}return i.forEach(function(e){e.sort(function(e,t){return e.index-t.index})}),i}(this.adapter.getListItemCount(),this.adapter.getPrimaryTextAtIndex)},t.prototype.clearTypeaheadBuffer=function(){wr(this.typeaheadState)},t}(Vn),Ar={ANIMATE:"mdc-drawer--animate",CLOSING:"mdc-drawer--closing",DISMISSIBLE:"mdc-drawer--dismissible",MODAL:"mdc-drawer--modal",OPEN:"mdc-drawer--open",OPENING:"mdc-drawer--opening",ROOT:"mdc-drawer"},Or={APP_CONTENT_SELECTOR:".mdc-drawer-app-content",CLOSE_EVENT:"MDCDrawer:closed",OPEN_EVENT:"MDCDrawer:opened",SCRIM_SELECTOR:".mdc-drawer-scrim",LIST_SELECTOR:".mdc-list,.mdc-deprecated-list",LIST_ITEM_ACTIVATED_SELECTOR:".mdc-list-item--activated,.mdc-deprecated-list-item--activated"},Er=function(e){function t(i){var n=e.call(this,Ln(Ln({},t.defaultAdapter),i))||this;return n.animationFrame=0,n.animationTimer=0,n}return Fn(t,e),Object.defineProperty(t,"strings",{get:function(){return Or},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return Ar},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},elementHasClass:function(){return!1},notifyClose:function(){},notifyOpen:function(){},saveFocus:function(){},restoreFocus:function(){},focusActiveNavigationItem:function(){},trapFocus:function(){},releaseFocus:function(){}}},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.animationFrame&&cancelAnimationFrame(this.animationFrame),this.animationTimer&&clearTimeout(this.animationTimer)},t.prototype.open=function(){var e=this;this.isOpen()||this.isOpening()||this.isClosing()||(this.adapter.addClass(Ar.OPEN),this.adapter.addClass(Ar.ANIMATE),this.runNextAnimationFrame(function(){e.adapter.addClass(Ar.OPENING)}),this.adapter.saveFocus())},t.prototype.close=function(){!this.isOpen()||this.isOpening()||this.isClosing()||this.adapter.addClass(Ar.CLOSING)},t.prototype.isOpen=function(){return this.adapter.hasClass(Ar.OPEN)},t.prototype.isOpening=function(){return this.adapter.hasClass(Ar.OPENING)||this.adapter.hasClass(Ar.ANIMATE)},t.prototype.isClosing=function(){return this.adapter.hasClass(Ar.CLOSING)},t.prototype.handleKeydown=function(e){var t=e.keyCode;("Escape"===e.key||27===t)&&this.close()},t.prototype.handleTransitionEnd=function(e){var t=Ar.OPENING,i=Ar.CLOSING,n=Ar.OPEN,o=Ar.ANIMATE,r=Ar.ROOT;this.isElement(e.target)&&this.adapter.elementHasClass(e.target,r)&&(this.isClosing()?(this.adapter.removeClass(n),this.closed(),this.adapter.restoreFocus(),this.adapter.notifyClose()):(this.adapter.focusActiveNavigationItem(),this.opened(),this.adapter.notifyOpen()),this.adapter.removeClass(o),this.adapter.removeClass(t),this.adapter.removeClass(i))},t.prototype.opened=function(){},t.prototype.closed=function(){},t.prototype.runNextAnimationFrame=function(e){var t=this;cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame(function(){t.animationFrame=0,clearTimeout(t.animationTimer),t.animationTimer=setTimeout(e,0)})},t.prototype.isElement=function(e){return Boolean(e.classList)},t}(Vn),_r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fn(t,e),t.prototype.handleScrimClick=function(){this.close()},t.prototype.opened=function(){this.adapter.trapFocus()},t.prototype.closed=function(){this.adapter.releaseFocus()},t}(Er),kr=mi("<aside><!></aside>");
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */function Rr(e,t){q(t,!0);let i,n=On(t,"use",19,()=>[]),o=On(t,"class",3,""),r=On(t,"fixed",3,!0),a=On(t,"component",3,qo),s=On(t,"tag",3,"div"),l=Cn(t,["$$slots","$$events","$$legacy","use","class","fixed","component","tag","children"]);function c(){return i.getElement()}var d={getElement:c},u=yi(),p=Xe(u);{let e=se(()=>$o({"mdc-drawer-scrim":!0,"smui-drawer-scrim__absolute":!r(),[o()]:!0}));$i(p,a,(o,r)=>{pn(r(o,An({get tag(){return s()},get use(){return n()},get class(){return Gt(e)}},()=>l,{onclick:e=>{var i;i=e,Bo(c(),"SMUIDrawerScrimClick",i),t.onclick?.(e)},children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}})),e=>i=e,()=>i)})}return Ti(e,u),G(d)}
/**
   * @license
   * Copyright 2018 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */var Mr={ICON_BUTTON_ON:"mdc-icon-button--on",ROOT:"mdc-icon-button"},Dr={ARIA_LABEL:"aria-label",ARIA_PRESSED:"aria-pressed",DATA_ARIA_LABEL_OFF:"data-aria-label-off",DATA_ARIA_LABEL_ON:"data-aria-label-on",CHANGE_EVENT:"MDCIconButtonToggle:change"},$r=function(e){function t(i){var n=e.call(this,Ln(Ln({},t.defaultAdapter),i))||this;return n.hasToggledAriaLabel=!1,n}return Fn(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Mr},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Dr},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},hasClass:function(){return!1},notifyChange:function(){},removeClass:function(){},getAttr:function(){return null},setAttr:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=this.adapter.getAttr(Dr.DATA_ARIA_LABEL_ON),t=this.adapter.getAttr(Dr.DATA_ARIA_LABEL_OFF);if(e&&t){if(null!==this.adapter.getAttr(Dr.ARIA_PRESSED))throw new Error("MDCIconButtonToggleFoundation: Button should not set `aria-pressed` if it has a toggled aria label.");this.hasToggledAriaLabel=!0}else this.adapter.setAttr(Dr.ARIA_PRESSED,String(this.isOn()))},t.prototype.handleClick=function(){this.toggle(),this.adapter.notifyChange({isOn:this.isOn()})},t.prototype.isOn=function(){return this.adapter.hasClass(Mr.ICON_BUTTON_ON)},t.prototype.toggle=function(e){if(void 0===e&&(e=!this.isOn()),e?this.adapter.addClass(Mr.ICON_BUTTON_ON):this.adapter.removeClass(Mr.ICON_BUTTON_ON),this.hasToggledAriaLabel){var t=e?this.adapter.getAttr(Dr.DATA_ARIA_LABEL_ON):this.adapter.getAttr(Dr.DATA_ARIA_LABEL_OFF);this.adapter.setAttr(Dr.ARIA_LABEL,t||"")}else this.adapter.setAttr(Dr.ARIA_PRESSED,""+e)},t}(Vn),Br=mi('<div class="mdc-icon-button__touch"></div>'),Fr=mi('<div class="mdc-icon-button__ripple"></div> <!><!>',1);function Lr(e,t){q(t,!0);let i=()=>{};function n(e){return e===i}let o,r,a=On(t,"use",19,()=>[]),s=On(t,"class",3,""),l=On(t,"style",3,""),c=On(t,"ripple",3,!0),d=On(t,"toggle",3,!1),u=On(t,"pressed",15,i),p=On(t,"touch",3,!1),f=On(t,"displayFlex",3,!0),m=On(t,"size",3,"normal"),g=On(t,"component",3,qo),v=On(t,"tag",19,()=>null==t.href?"button":"a"),b=Cn(t,["$$slots","$$events","$$legacy","use","class","style","ripple","color","toggle","pressed","ariaLabelOn","ariaLabelOff","touch","displayFlex","size","href","action","component","tag","children"]),y=ke(Fe({})),T=Fe({}),w=ke(Fe({})),I=W("SMUI:icon-button:context"),S=W("SMUI:icon-button:aria-describedby");const C=se(()=>{if("data-table:pagination"!==I)return"dialog:header"===I||"dialog:sheet"===I?{"data-mdc-dialog-action":t.action}:{action:t.action};switch(t.action){case"first-page":return{"data-first-page":"true"};case"prev-page":return{"data-prev-page":"true"};case"next-page":return{"data-next-page":"true"};case"last-page":return{"data-last-page":"true"};default:return{"data-action":"true"}}});let x=!!t.disabled;nt(()=>{if(x!=!!t.disabled){if(o){const e=D();"blur"in e&&e.blur()}x=!!t.disabled}}),z("SMUI:icon:context","icon-button");let A=null;function O(e){return e in Gt(y)?Gt(y)[e]:D().classList.contains(e)}function E(e){Gt(y)[e]||(Gt(y)[e]=!0)}function _(e){e in Gt(y)&&!Gt(y)[e]||(Gt(y)[e]=!1)}function k(e,t){T[e]!=t&&(""===t||null==t?delete T[e]:T[e]=t)}function R(e){return e in Gt(w)?Gt(w)[e]??null:D().getAttribute(e)}function M(e,t){Gt(w)[e]!==t&&(Gt(w)[e]=t)}function D(){return o.getElement()}nt(()=>{o&&D()&&d()!==A&&(d()&&!r?(r=new $r({addClass:E,hasClass:O,notifyChange:e=>{!function(e){u(e.isOn)}(e),Bo(D(),"SMUIIconButtonToggleChange",e)},removeClass:_,getAttr:R,setAttr:M}),r.init()):!d()&&r&&(r.destroy(),r=void 0,Me(y,{},!0),Me(w,{},!0)),A=d())}),nt(()=>{r&&!n(u())&&r.isOn()!==u()&&r.toggle(u())}),_n(()=>{r&&r.destroy()});var $={getElement:D},B=yi(),F=Xe(B);{let e=se(()=>[[sr,{ripple:c(),unbounded:!0,color:t.color,disabled:!!t.disabled,addClass:E,removeClass:_,addStyle:k}],...a()]),i=se(()=>$o({"mdc-icon-button":!0,"mdc-icon-button--on":!n(u())&&u(),"mdc-icon-button--touch":p(),"mdc-icon-button--display-flex":f(),"smui-icon-button--size-button":"button"===m(),"smui-icon-button--size-mini":"mini"===m(),"mdc-icon-button--reduced-size":"mini"===m()||"button"===m(),"mdc-card__action":"card:action"===I,"mdc-card__action--icon":"card:action"===I,"mdc-top-app-bar__navigation-icon":"top-app-bar:navigation"===I,"mdc-top-app-bar__action-item":"top-app-bar:action"===I,"mdc-snackbar__dismiss":"snackbar:actions"===I,"mdc-data-table__pagination-button":"data-table:pagination"===I,"mdc-data-table__sort-icon-button":"data-table:sortable-header-cell"===I,"mdc-dialog__close":("dialog:header"===I||"dialog:sheet"===I)&&"close"===t.action,...Gt(y),[s()]:!0})),d=se(()=>Object.entries(T).map(([e,t])=>`${e}: ${t};`).concat([l()]).join(" ")),x=se(()=>n(u())?null:u()?"true":"false"),A=se(()=>u()?t.ariaLabelOn:t.ariaLabelOff);$i(F,g,(n,a)=>{pn(a(n,An({get tag(){return v()},get use(){return Gt(e)},get class(){return Gt(i)},get style(){return Gt(d)},get"aria-pressed"(){return Gt(x)},get"aria-label"(){return Gt(A)},get"data-aria-label-on"(){return t.ariaLabelOn},get"data-aria-label-off"(){return t.ariaLabelOff},get"aria-describedby"(){return S},get href(){return t.href}},()=>Gt(C),()=>Gt(w),()=>b,{onclick:e=>{r&&r.handleClick(),"top-app-bar:navigation"===I&&Bo(D(),"SMUITopAppBarIconButtonNav"),t.onclick?.(e),e.currentTarget.blur()},children:(e,i)=>{var n=Fr(),o=Ke(Xe(n),2);Di(o,()=>t.children??h);var r=Ke(o),a=e=>{Ti(e,Br())};Ci(r,e=>{p()&&e(a)}),Ti(e,n)},$$slots:{default:!0}})),e=>o=e,()=>o)})}return Ti(e,B),G($)}function Nr(e,t){q(t,!0);const{closest:i,matches:n}=Hn;let o,r=W("SMUI:list:nav"),a=On(t,"use",19,()=>[]),s=On(t,"class",3,""),l=On(t,"nonInteractive",3,!1),c=On(t,"dense",3,!1),d=On(t,"textualList",3,!1),u=On(t,"avatarList",3,!1),p=On(t,"iconList",3,!1),f=On(t,"imageList",3,!1),m=On(t,"thumbnailList",3,!1),g=On(t,"videoList",3,!1),v=On(t,"twoLine",3,!1),b=On(t,"threeLine",3,!1),y=On(t,"vertical",3,!0),T=On(t,"wrapFocus",19,()=>W("SMUI:list:wrapFocus")??!1),w=On(t,"singleSelection",3,!1),I=On(t,"disabledItemsFocusable",3,!1),S=On(t,"selectedIndex",31,()=>-1),C=On(t,"radioList",3,!1),x=On(t,"checkList",3,!1),A=On(t,"hasTypeahead",3,!1),O=On(t,"component",3,qo),E=On(t,"tag",3,r?"nav":"ul"),_=Cn(t,["$$slots","$$events","$$legacy","use","class","nonInteractive","dense","textualList","avatarList","iconList","imageList","thumbnailList","videoList","twoLine","threeLine","vertical","wrapFocus","singleSelection","disabledItemsFocusable","selectedIndex","radioList","checkList","hasTypeahead","component","tag","children"]),k=ke(void 0),R=[],M=W("SMUI:list:role");const D=new WeakMap;let $,B=W("SMUI:dialog:selection"),F=W("SMUI:addLayoutListener");z("SMUI:list:nonInteractive",l()),z("SMUI:separator:context","list"),M||(w()?(M="listbox",z("SMUI:list:item:role","option")):C()?(M="radiogroup",z("SMUI:list:item:role","radio")):x()?(M="group",z("SMUI:list:item:role","checkbox")):(M="list",z("SMUI:list:item:role",void 0))),nt(()=>{Gt(k)&&Gt(k).setVerticalOrientation(y())}),nt(()=>{Gt(k)&&Gt(k).setWrapFocus(T())}),nt(()=>{Gt(k)&&Gt(k).setHasTypeahead(A())}),nt(()=>{Gt(k)&&Gt(k).setSingleSelection(w())}),nt(()=>{Gt(k)&&Gt(k).setDisabledItemsFocusable(I())}),nt(()=>{Gt(k)&&w()&&J()!==S()&&Gt(k).setSelectedIndex(S())}),F&&($=F(Q)),z("SMUI:list:item:mount",e=>{R.push(e),D.set(e.element,e),w()&&e.selected&&S(Y(e.element))}),z("SMUI:list:item:unmount",e=>{const t=(e&&R.findIndex(t=>t===e))??-1;-1!==t&&(R.splice(t,1),D.delete(e.element))});const L=W("SMUI:list:mount"),N=W("SMUI:list:unmount");function P(){return null==o?[]:[...te().children].map(e=>D.get(e)).filter(e=>e&&e._smui_list_item_accessor)}function j(e,t){const i=P()[e];return(i&&i.hasClass(t))??!1}function V(e,t){const i=P()[e];i&&i.addClass(t)}function U(e,t){const i=P()[e];i&&i.removeClass(t)}function H(e,t,i){const n=P()[e];n&&n.addAttr(t,i)}function X(e,t){const i=P()[e];i&&i.removeAttr(t)}function K(e,t){const i=P()[e];return i?i.getAttr(t):null}function Z(e){const t=P()[e];return(t&&t.getPrimaryText())??""}function Y(e){const t=i(e,".mdc-deprecated-list-item, .mdc-deprecated-list");return t&&n(t,".mdc-deprecated-list-item")?P().map(e=>e?.element).indexOf(t):-1}function Q(){if(!Gt(k))throw new Error("Instance is undefined.");return Gt(k).layout()}function J(){if(!Gt(k))throw new Error("Instance is undefined.");return Gt(k).getSelectedIndex()}function ee(e){const t=P()[e];t&&"focus"in t.element&&t.element.focus()}function te(){return o.getElement()}En(()=>{Me(k,new xr({addClassForElementIndex:V,focusItemAtIndex:ee,getAttributeForElementIndex:(e,t)=>P()[e]?.getAttr(t)??null,getFocusedElementIndex:()=>document.activeElement?P().map(e=>e.element).indexOf(document.activeElement):-1,getListItemCount:()=>R.length,getPrimaryTextAtIndex:Z,hasCheckboxAtIndex:e=>P()[e]?.hasCheckbox??!1,hasRadioAtIndex:e=>P()[e]?.hasRadio??!1,isCheckboxCheckedAtIndex:e=>{const t=P()[e];return(t?.hasCheckbox&&t.checked)??!1},isFocusInsideList:()=>null!=o&&te()!==document.activeElement&&te().contains(document.activeElement),isRootFocused:()=>null!=o&&document.activeElement===te(),listItemAtIndexHasClass:j,notifyAction:e=>{S(e),null!=o&&Bo(te(),"SMUIListAction",{index:e})},notifySelectionChange:e=>{null!=o&&Bo(te(),"SMUIListSelectionChange",{changedIndices:e})},removeClassForElementIndex:U,setAttributeForElementIndex:H,setCheckedCheckboxOrRadioAtIndex:(e,t)=>{P()[e].checked=t},setTabIndexForListItemChildren:(e,t)=>{const i=P()[e];Array.prototype.forEach.call(i.element.querySelectorAll("button:not(:disabled), a"),e=>{e.setAttribute("tabindex",t)})}}),!0);const e={get element(){return te()},get items(){return R},get typeaheadInProgress(){if(!Gt(k))throw new Error("Instance is undefined.");return Gt(k).isTypeaheadInProgress()},typeaheadMatchItem(e,t){if(!Gt(k))throw new Error("Instance is undefined.");return Gt(k).typeaheadMatchItem(e,t,!0)},getOrderedList:P,focusItemAtIndex:ee,addClassForElementIndex:V,removeClassForElementIndex:U,setAttributeForElementIndex:H,removeAttributeForElementIndex:X,getAttributeFromElementIndex:K,getPrimaryTextAtIndex:Z};return L&&L(e),Gt(k).init(),Gt(k).layout(),()=>{N&&N(e),Gt(k)?.destroy()}}),_n(()=>{$&&$()});var ie={layout:Q,setEnabled:function(e,t){if(!Gt(k))throw new Error("Instance is undefined.");return Gt(k).setEnabled(e,t)},getTypeaheadInProgress:function(){if(!Gt(k))throw new Error("Instance is undefined.");return Gt(k).isTypeaheadInProgress()},getSelectedIndex:J,getFocusedItemIndex:function(){if(!Gt(k))throw new Error("Instance is undefined.");return Gt(k).getFocusedItemIndex()},focusItemAtIndex:ee,getElement:te},ne=yi(),oe=Xe(ne);{let e=se(()=>$o({"mdc-deprecated-list":!0,"mdc-deprecated-list--non-interactive":l(),"mdc-deprecated-list--dense":c(),"mdc-deprecated-list--textual-list":d(),"mdc-deprecated-list--avatar-list":u()||B,"mdc-deprecated-list--icon-list":p(),"mdc-deprecated-list--image-list":f(),"mdc-deprecated-list--thumbnail-list":m(),"mdc-deprecated-list--video-list":g(),"mdc-deprecated-list--two-line":v(),"smui-list--three-line":b()&&!v(),[s()]:!0}));$i(oe,O,(i,r)=>{pn(r(i,An({get tag(){return E()},get use(){return a()},get class(){return Gt(e)},get role(){return M}},()=>_,{onkeydown:e=>{var i;i=e,Gt(k)&&i.target&&Gt(k).handleKeydown(i,i.target.classList.contains("mdc-deprecated-list-item"),Y(i.target)),t.onkeydown?.(e)},onfocusin:e=>{var i;i=e,Gt(k)&&i.target&&Gt(k).handleFocusIn(Y(i.target)),t.onfocusin?.(e)},onfocusout:e=>{var i;i=e,Gt(k)&&i.target&&Gt(k).handleFocusOut(Y(i.target)),t.onfocusout?.(e)},onclick:e=>{var i;i=e,Gt(k)&&i.target&&Gt(k).handleClick(Y(i.target),!n(i.target,'input[type="checkbox"], input[type="radio"]'),i),t.onclick?.(e)},onSMUIAction:e=>{!function(e){if(C()||x()){const t=Y(e.target);if(-1!==t){const i=P()[t];i&&(C()&&!i.checked||x())&&(n(e.detail.target,'input[type="checkbox"], input[type="radio"]')||(i.checked=!i.checked),i.activateRipple(),window.requestAnimationFrame(()=>{i.deactivateRipple()}))}}}(e),t.onSMUIAction?.(e)},children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}})),e=>o=e,()=>o)})}return Ti(e,ne),G(ie)}let Pr=0;var jr=mi('<span class="mdc-deprecated-list-item__ripple"></span>'),Vr=mi("<!><!>",1);function Ur(e,t){q(t,!0);let i=()=>{};let n,o=W("SMUI:list:item:nav"),r=On(t,"use",19,()=>[]),a=On(t,"class",3,""),s=On(t,"style",3,""),l=On(t,"nonInteractive",19,()=>W("SMUI:list:nonInteractive")??!1),c=On(t,"ripple",19,()=>!l()),d=On(t,"wrapper",3,!1),u=On(t,"activated",15,!1),p=On(t,"role",19,()=>d()?"presentation":W("SMUI:list:item:role")),f=On(t,"selected",15,!1),m=On(t,"disabled",3,!1),g=On(t,"skipRestoreFocus",3,!1),v=On(t,"tabindex",15,i),b=On(t,"inputId",19,()=>"SMUI-form-field-list-"+Pr++),y=On(t,"component",3,qo),T=On(t,"tag",19,()=>o?t.href?"a":"span":"li"),w=Cn(t,["$$slots","$$events","$$legacy","use","class","style","color","nonInteractive","ripple","wrapper","activated","role","selected","disabled","skipRestoreFocus","tabindex","inputId","href","component","tag","children"]);z("SMUI:list:nonInteractive",void 0),z("SMUI:list:item:role",void 0);let I=Fe({}),S=Fe({}),C=Fe({}),x=ke(void 0),A=ke(void 0);const O=se(()=>v()===i?l()||m()||!(f()||Gt(x)&&Gt(x).checked)?-1:0:v());z("SMUI:generic:input:props",{id:b()}),z("SMUI:separator:context",void 0),z("SMUI:generic:input:mount",e=>{("_smui_checkbox_accessor"in e||"_smui_radio_accessor"in e)&&Me(x,e,!0)}),z("SMUI:generic:input:unmount",()=>{Me(x,void 0)});const E=W("SMUI:list:item:mount"),_=W("SMUI:list:item:unmount");function k(e){return e in I?I[e]:P().classList.contains(e)}function R(e){I[e]||(I[e]=!0)}function M(e){e in I&&!I[e]||(I[e]=!1)}function D(e,t){S[e]!=t&&(""===t||null==t?delete S[e]:S[e]=t)}function $(e){return e in C?C[e]??null:P().getAttribute(e)}function B(e,t){C[e]!==t&&(C[e]=t)}function F(e){e in C&&null==C[e]||(C[e]=void 0)}function L(e){m()||Bo(P(),"SMUIAction",e)}function N(){const e=P(),t=e.querySelector(".mdc-deprecated-list-item__primary-text");if(t)return t.textContent??"";const i=e.querySelector(".mdc-deprecated-list-item__text");return i?i.textContent??"":e.textContent??""}function P(){return n.getElement()}En(()=>{if(!f()&&!l()){let e=!0,t=n.getElement();for(;t.previousElementSibling;)if(t=t.previousElementSibling,1===t.nodeType&&t.classList.contains("mdc-deprecated-list-item")&&!t.classList.contains("mdc-deprecated-list-item--disabled")){e=!1;break}e&&Me(A,window.requestAnimationFrame(()=>function(e){let t=!0;for(;e.nextElementSibling;)if(1===(e=e.nextElementSibling).nodeType&&e.classList.contains("mdc-deprecated-list-item")){const i=e.attributes.getNamedItem("tabindex");if(i&&"0"===i.value){t=!1;break}}t&&v(0)}(t)),!0)}const e={_smui_list_item_accessor:!0,get element(){return P()},get selected(){return f()},set selected(e){f(e)},hasClass:k,addClass:R,removeClass:M,getAttr:$,addAttr:B,removeAttr:F,getPrimaryText:N,get checked(){return(Gt(x)&&Gt(x).checked)??!1},set checked(e){Gt(x)&&(Gt(x).checked=!!e)},get hasCheckbox(){return!(!Gt(x)||!("_smui_checkbox_accessor"in Gt(x)))},get hasRadio(){return!(!Gt(x)||!("_smui_radio_accessor"in Gt(x)))},activateRipple(){Gt(x)&&Gt(x).activateRipple()},deactivateRipple(){Gt(x)&&Gt(x).deactivateRipple()},getValue:()=>t.value,action:L,get tabindex(){return Gt(O)},set tabindex(e){v(e)},get disabled(){return m()},get activated(){return u()},set activated(e){u(e)}};return E&&E(e),()=>{_&&_(e)}}),_n(()=>{Gt(A)&&window.cancelAnimationFrame(Gt(A))});var j={action:L,getPrimaryText:N,getElement:P},V=yi(),U=Xe(V);{let e=se(()=>[...l()?[]:[[sr,{ripple:!Gt(x),unbounded:!1,color:(u()||f())&&null==t.color?"primary":t.color,disabled:m(),addClass:R,removeClass:M,addStyle:D}]],...r()]),i=se(()=>$o({"mdc-deprecated-list-item":!d(),"mdc-deprecated-list-item__wrapper":d(),"mdc-deprecated-list-item--activated":u(),"mdc-deprecated-list-item--selected":f(),"mdc-deprecated-list-item--disabled":m(),"mdc-menu-item--selected":!o&&"menuitem"===p()&&f(),"smui-menu-item--non-interactive":l(),...I,[a()]:!0})),v=se(()=>Object.entries(S).map(([e,t])=>`${e}: ${t};`).concat([s()]).join(" ")),b=se(()=>g()||void 0);$i(U,y,(r,a)=>{pn(a(r,An({get tag(){return T()},get use(){return Gt(e)},get class(){return Gt(i)},get style(){return Gt(v)}},()=>o&&u()?{"aria-current":"page"}:{},()=>!o||d()?{role:p()}:{},()=>o||"option"!==p()?{}:{"aria-selected":f()?"true":"false"},()=>o||"radio"!==p()&&"checkbox"!==p()?{}:{"aria-checked":Gt(x)&&Gt(x).checked?"true":"false"},()=>o?{}:{"aria-disabled":m()?"true":"false"},{get"data-menu-item-skip-restore-focus"(){return Gt(b)},get tabindex(){return Gt(O)},get href(){return t.href}},()=>C,()=>w,{onclick:e=>{L(e),t.onclick?.(e),e.currentTarget.blur()},onkeydown:e=>{!function(e){const t="Enter"===e.key,i="Space"===e.key;(t||i)&&L(e)}(e),t.onkeydown?.(e)},children:(e,i)=>{var n=Vr(),o=Xe(n),r=e=>{Ti(e,jr())};Ci(o,e=>{c()&&e(r)}),Di(Ke(o),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}})),e=>n=e,()=>n)})}return Ti(e,V),G(j)}function Hr(e,t){q(t,!0);let i,n=Cn(t,["$$slots","$$events","$$legacy","children"]);var o={getElement:function(){return i.getElement()}};return pn(Yo(e,An({_smuiClass:"mdc-deprecated-list-item__text",tag:"span"},()=>n,{children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}})),e=>i=e,()=>i),G(o)}var Wr=mi("<span><!></span>");function zr(e,t){q(t,!0);let i,n=On(t,"use",19,()=>[]),o=On(t,"class",3,""),r=Cn(t,["$$slots","$$events","$$legacy","use","class","children"]),a=W("SMUI:list:graphic:menu-selection-group");var s={getElement:function(){return i}},l=Wr();return en(l,e=>({class:e,...r}),[()=>$o({"mdc-deprecated-list-item__graphic":!0,"mdc-menu__selection-group-icon":a,[o()]:!0})]),Di(Ge(l),()=>t.children??h),pn(l,e=>i=e,()=>i),Fi(l,(e,t)=>Po?.(e,t),n),Ti(e,l),G(s)}
/**
   * @license
   * Copyright 2020 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
var qr,Gr,Xr,Kr,Zr,Yr="mdc-slider--disabled",Qr="mdc-slider--discrete",Jr="mdc-slider--range",ea="mdc-slider__thumb--focused",ta="mdc-slider__thumb--top",ia="mdc-slider__thumb--with-indicator",na="mdc-slider--tick-marks",oa=1,ra=0,aa=5,sa="aria-valuetext",la="disabled",ca="min",da="max",ua="value",pa="step",ha="data-min-range",fa="--slider-value-indicator-caret-left",ma="--slider-value-indicator-caret-right",ga="--slider-value-indicator-caret-transform",va="--slider-value-indicator-container-left",ba="--slider-value-indicator-container-right",ya="--slider-value-indicator-container-transform",Ta=function(){function e(){this.rafIDs=new Map}return e.prototype.request=function(e,t){var i=this;this.cancel(e);var n=requestAnimationFrame(function(n){i.rafIDs.delete(e),t(n)});this.rafIDs.set(e,n)},e.prototype.cancel=function(e){var t=this.rafIDs.get(e);t&&(cancelAnimationFrame(t),this.rafIDs.delete(e))},e.prototype.cancelAll=function(){var e=this;this.rafIDs.forEach(function(t,i){e.cancel(i)})},e.prototype.getQueue=function(){var e=[];return this.rafIDs.forEach(function(t,i){e.push(i)}),e},e}(),wa={animation:{prefixed:"-webkit-animation",standard:"animation"},transform:{prefixed:"-webkit-transform",standard:"transform"},transition:{prefixed:"-webkit-transition",standard:"transition"}};function Ia(e,t){if(function(e){return Boolean(e.document)&&"function"==typeof e.document.createElement}(e)&&t in wa){var i=e.document.createElement("div"),n=wa[t],o=n.standard,r=n.prefixed;return o in i.style?o:r}return t}
/**
   * @license
   * Copyright 2020 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */(Gr=qr||(qr={}))[Gr.ACTIVE=0]="ACTIVE",Gr[Gr.INACTIVE=1]="INACTIVE",(Kr=Xr||(Xr={}))[Kr.START=1]="START",Kr[Kr.END=2]="END",(Zr||(Zr={})).SLIDER_UPDATE="slider_update";var Sa="undefined"!=typeof window,Ca=function(e){function t(i){var n=e.call(this,Ln(Ln({},t.defaultAdapter),i))||this;return n.initialStylesRemoved=!1,n.isDisabled=!1,n.isDiscrete=!1,n.step=oa,n.minRange=ra,n.hasTickMarks=!1,n.isRange=!1,n.thumb=null,n.downEventClientX=null,n.startThumbKnobWidth=0,n.endThumbKnobWidth=0,n.animFrame=new Ta,n}return Fn(t,e),Object.defineProperty(t,"defaultAdapter",{get:function(){return{hasClass:function(){return!1},addClass:function(){},removeClass:function(){},addThumbClass:function(){},removeThumbClass:function(){},getAttribute:function(){return null},getInputValue:function(){return""},setInputValue:function(){},getInputAttribute:function(){return null},setInputAttribute:function(){return null},removeInputAttribute:function(){return null},focusInput:function(){},isInputFocused:function(){return!1},shouldHideFocusStylesForPointerEvents:function(){return!1},getThumbKnobWidth:function(){return 0},getValueIndicatorContainerWidth:function(){return 0},getThumbBoundingClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getBoundingClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},isRTL:function(){return!1},setThumbStyleProperty:function(){},removeThumbStyleProperty:function(){},setTrackActiveStyleProperty:function(){},removeTrackActiveStyleProperty:function(){},setValueIndicatorText:function(){},getValueToAriaValueTextFn:function(){return null},updateTickMarks:function(){},setPointerCapture:function(){},emitChangeEvent:function(){},emitInputEvent:function(){},emitDragStartEvent:function(){},emitDragEndEvent:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){},registerThumbEventHandler:function(){},deregisterThumbEventHandler:function(){},registerInputEventHandler:function(){},deregisterInputEventHandler:function(){},registerBodyEventHandler:function(){},deregisterBodyEventHandler:function(){},registerWindowEventHandler:function(){},deregisterWindowEventHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=this;this.isDisabled=this.adapter.hasClass(Yr),this.isDiscrete=this.adapter.hasClass(Qr),this.hasTickMarks=this.adapter.hasClass(na),this.isRange=this.adapter.hasClass(Jr);var t=this.convertAttributeValueToNumber(this.adapter.getInputAttribute(ca,this.isRange?Xr.START:Xr.END),ca),i=this.convertAttributeValueToNumber(this.adapter.getInputAttribute(da,Xr.END),da),n=this.convertAttributeValueToNumber(this.adapter.getInputAttribute(ua,Xr.END),ua),o=this.isRange?this.convertAttributeValueToNumber(this.adapter.getInputAttribute(ua,Xr.START),ua):t,r=this.adapter.getInputAttribute(pa,Xr.END),a=r?this.convertAttributeValueToNumber(r,pa):this.step,s=this.adapter.getAttribute(ha),l=s?this.convertAttributeValueToNumber(s,ha):this.minRange;this.validateProperties({min:t,max:i,value:n,valueStart:o,step:a,minRange:l}),this.min=t,this.max=i,this.value=n,this.valueStart=o,this.step=a,this.minRange=l,this.numDecimalPlaces=xa(this.step),this.valueBeforeDownEvent=n,this.valueStartBeforeDownEvent=o,this.mousedownOrTouchstartListener=this.handleMousedownOrTouchstart.bind(this),this.moveListener=this.handleMove.bind(this),this.pointerdownListener=this.handlePointerdown.bind(this),this.pointerupListener=this.handlePointerup.bind(this),this.thumbMouseenterListener=this.handleThumbMouseenter.bind(this),this.thumbMouseleaveListener=this.handleThumbMouseleave.bind(this),this.inputStartChangeListener=function(){e.handleInputChange(Xr.START)},this.inputEndChangeListener=function(){e.handleInputChange(Xr.END)},this.inputStartFocusListener=function(){e.handleInputFocus(Xr.START)},this.inputEndFocusListener=function(){e.handleInputFocus(Xr.END)},this.inputStartBlurListener=function(){e.handleInputBlur(Xr.START)},this.inputEndBlurListener=function(){e.handleInputBlur(Xr.END)},this.resizeListener=this.handleResize.bind(this),this.registerEventHandlers()},t.prototype.destroy=function(){this.deregisterEventHandlers()},t.prototype.setMin=function(e){this.min=e,this.isRange||(this.valueStart=e),this.updateUI()},t.prototype.setMax=function(e){this.max=e,this.updateUI()},t.prototype.getMin=function(){return this.min},t.prototype.getMax=function(){return this.max},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e){if(this.isRange&&e<this.valueStart+this.minRange)throw new Error("end thumb value ("+e+") must be >= start thumb value ("+this.valueStart+") + min range ("+this.minRange+")");this.updateValue(e,Xr.END)},t.prototype.getValueStart=function(){if(!this.isRange)throw new Error("`valueStart` is only applicable for range sliders.");return this.valueStart},t.prototype.setValueStart=function(e){if(!this.isRange)throw new Error("`valueStart` is only applicable for range sliders.");if(this.isRange&&e>this.value-this.minRange)throw new Error("start thumb value ("+e+") must be <= end thumb value ("+this.value+") - min range ("+this.minRange+")");this.updateValue(e,Xr.START)},t.prototype.setStep=function(e){this.step=e,this.numDecimalPlaces=xa(e),this.updateUI()},t.prototype.setMinRange=function(e){if(!this.isRange)throw new Error("`minRange` is only applicable for range sliders.");if(e<0)throw new Error("`minRange` must be non-negative. Current value: "+e);if(this.value-this.valueStart<e)throw new Error("start thumb value ("+this.valueStart+") and end thumb value ("+this.value+") must differ by at least "+e+".");this.minRange=e},t.prototype.setIsDiscrete=function(e){this.isDiscrete=e,this.updateValueIndicatorUI(),this.updateTickMarksUI()},t.prototype.getStep=function(){return this.step},t.prototype.getMinRange=function(){if(!this.isRange)throw new Error("`minRange` is only applicable for range sliders.");return this.minRange},t.prototype.setHasTickMarks=function(e){this.hasTickMarks=e,this.updateTickMarksUI()},t.prototype.getDisabled=function(){return this.isDisabled},t.prototype.setDisabled=function(e){this.isDisabled=e,e?(this.adapter.addClass(Yr),this.isRange&&this.adapter.setInputAttribute(la,"",Xr.START),this.adapter.setInputAttribute(la,"",Xr.END)):(this.adapter.removeClass(Yr),this.isRange&&this.adapter.removeInputAttribute(la,Xr.START),this.adapter.removeInputAttribute(la,Xr.END))},t.prototype.getIsRange=function(){return this.isRange},t.prototype.layout=function(e){var t=(void 0===e?{}:e).skipUpdateUI;this.rect=this.adapter.getBoundingClientRect(),this.isRange&&(this.startThumbKnobWidth=this.adapter.getThumbKnobWidth(Xr.START),this.endThumbKnobWidth=this.adapter.getThumbKnobWidth(Xr.END)),t||this.updateUI()},t.prototype.handleResize=function(){this.layout()},t.prototype.handleDown=function(e){if(!this.isDisabled){this.valueStartBeforeDownEvent=this.valueStart,this.valueBeforeDownEvent=this.value;var t=null!=e.clientX?e.clientX:e.targetTouches[0].clientX;this.downEventClientX=t;var i=this.mapClientXOnSliderScale(t);this.thumb=this.getThumbFromDownEvent(t,i),null!==this.thumb&&(this.handleDragStart(e,i,this.thumb),this.updateValue(i,this.thumb,{emitInputEvent:!0}))}},t.prototype.handleMove=function(e){if(!this.isDisabled){e.preventDefault();var t=null!=e.clientX?e.clientX:e.targetTouches[0].clientX,i=null!=this.thumb;if(this.thumb=this.getThumbFromMoveEvent(t),null!==this.thumb){var n=this.mapClientXOnSliderScale(t);i||(this.handleDragStart(e,n,this.thumb),this.adapter.emitDragStartEvent(n,this.thumb)),this.updateValue(n,this.thumb,{emitInputEvent:!0})}}},t.prototype.handleUp=function(){var e,t;if(!this.isDisabled&&null!==this.thumb){(null===(t=(e=this.adapter).shouldHideFocusStylesForPointerEvents)||void 0===t?void 0:t.call(e))&&this.handleInputBlur(this.thumb);var i=this.thumb===Xr.START?this.valueStartBeforeDownEvent:this.valueBeforeDownEvent,n=this.thumb===Xr.START?this.valueStart:this.value;i!==n&&this.adapter.emitChangeEvent(n,this.thumb),this.adapter.emitDragEndEvent(n,this.thumb),this.thumb=null}},t.prototype.handleThumbMouseenter=function(){this.isDiscrete&&this.isRange&&(this.adapter.addThumbClass(ia,Xr.START),this.adapter.addThumbClass(ia,Xr.END))},t.prototype.handleThumbMouseleave=function(){var e,t;this.isDiscrete&&this.isRange&&(!(null===(t=(e=this.adapter).shouldHideFocusStylesForPointerEvents)||void 0===t?void 0:t.call(e))&&(this.adapter.isInputFocused(Xr.START)||this.adapter.isInputFocused(Xr.END))||this.thumb||(this.adapter.removeThumbClass(ia,Xr.START),this.adapter.removeThumbClass(ia,Xr.END)))},t.prototype.handleMousedownOrTouchstart=function(e){var t=this,i="mousedown"===e.type?"mousemove":"touchmove";this.adapter.registerBodyEventHandler(i,this.moveListener);var n=function(){t.handleUp(),t.adapter.deregisterBodyEventHandler(i,t.moveListener),t.adapter.deregisterEventHandler("mouseup",n),t.adapter.deregisterEventHandler("touchend",n)};this.adapter.registerBodyEventHandler("mouseup",n),this.adapter.registerBodyEventHandler("touchend",n),this.handleDown(e)},t.prototype.handlePointerdown=function(e){0===e.button&&(null!=e.pointerId&&this.adapter.setPointerCapture(e.pointerId),this.adapter.registerEventHandler("pointermove",this.moveListener),this.handleDown(e))},t.prototype.handleInputChange=function(e){var t=Number(this.adapter.getInputValue(e));e===Xr.START?this.setValueStart(t):this.setValue(t),this.adapter.emitChangeEvent(e===Xr.START?this.valueStart:this.value,e),this.adapter.emitInputEvent(e===Xr.START?this.valueStart:this.value,e)},t.prototype.handleInputFocus=function(e){if(this.adapter.addThumbClass(ea,e),this.isDiscrete&&(this.adapter.addThumbClass(ia,e),this.isRange)){var t=e===Xr.START?Xr.END:Xr.START;this.adapter.addThumbClass(ia,t)}},t.prototype.handleInputBlur=function(e){if(this.adapter.removeThumbClass(ea,e),this.isDiscrete&&(this.adapter.removeThumbClass(ia,e),this.isRange)){var t=e===Xr.START?Xr.END:Xr.START;this.adapter.removeThumbClass(ia,t)}},t.prototype.handleDragStart=function(e,t,i){var n,o;this.adapter.emitDragStartEvent(t,i),this.adapter.focusInput(i),(null===(o=(n=this.adapter).shouldHideFocusStylesForPointerEvents)||void 0===o?void 0:o.call(n))&&this.handleInputFocus(i),e.preventDefault()},t.prototype.getThumbFromDownEvent=function(e,t){if(!this.isRange)return Xr.END;var i=this.adapter.getThumbBoundingClientRect(Xr.START),n=this.adapter.getThumbBoundingClientRect(Xr.END),o=e>=i.left&&e<=i.right,r=e>=n.left&&e<=n.right;return o&&r?null:o?Xr.START:r?Xr.END:t<this.valueStart?Xr.START:t>this.value?Xr.END:t-this.valueStart<=this.value-t?Xr.START:Xr.END},t.prototype.getThumbFromMoveEvent=function(e){if(null!==this.thumb)return this.thumb;if(null===this.downEventClientX)throw new Error("`downEventClientX` is null after move event.");return Math.abs(this.downEventClientX-e)<aa?this.thumb:e<this.downEventClientX?this.adapter.isRTL()?Xr.END:Xr.START:this.adapter.isRTL()?Xr.START:Xr.END},t.prototype.updateUI=function(e){e?this.updateThumbAndInputAttributes(e):(this.updateThumbAndInputAttributes(Xr.START),this.updateThumbAndInputAttributes(Xr.END)),this.updateThumbAndTrackUI(e),this.updateValueIndicatorUI(e),this.updateTickMarksUI()},t.prototype.updateThumbAndInputAttributes=function(e){if(e){var t=this.isRange&&e===Xr.START?this.valueStart:this.value,i=String(t);this.adapter.setInputAttribute(ua,i,e),this.isRange&&e===Xr.START?this.adapter.setInputAttribute(ca,String(t+this.minRange),Xr.END):this.isRange&&e===Xr.END&&this.adapter.setInputAttribute(da,String(t-this.minRange),Xr.START),this.adapter.getInputValue(e)!==i&&this.adapter.setInputValue(i,e);var n=this.adapter.getValueToAriaValueTextFn();n&&this.adapter.setInputAttribute(sa,n(t,e),e)}},t.prototype.updateValueIndicatorUI=function(e){if(this.isDiscrete){var t=this.isRange&&e===Xr.START?this.valueStart:this.value;this.adapter.setValueIndicatorText(t,e===Xr.START?Xr.START:Xr.END),!e&&this.isRange&&this.adapter.setValueIndicatorText(this.valueStart,Xr.START)}},t.prototype.updateTickMarksUI=function(){if(this.isDiscrete&&this.hasTickMarks){var e=(this.valueStart-this.min)/this.step,t=(this.value-this.valueStart)/this.step+1,i=(this.max-this.value)/this.step,n=Array.from({length:e}).fill(qr.INACTIVE),o=Array.from({length:t}).fill(qr.ACTIVE),r=Array.from({length:i}).fill(qr.INACTIVE);this.adapter.updateTickMarks(n.concat(o).concat(r))}},t.prototype.mapClientXOnSliderScale=function(e){var t=(e-this.rect.left)/this.rect.width;this.adapter.isRTL()&&(t=1-t);var i=this.min+t*(this.max-this.min);return i===this.max||i===this.min?i:Number(this.quantize(i).toFixed(this.numDecimalPlaces))},t.prototype.quantize=function(e){var t=Math.round((e-this.min)/this.step);return this.min+t*this.step},t.prototype.updateValue=function(e,t,i){var n=(void 0===i?{}:i).emitInputEvent;if(e=this.clampValue(e,t),this.isRange&&t===Xr.START){if(this.valueStart===e)return;this.valueStart=e}else{if(this.value===e)return;this.value=e}this.updateUI(t),n&&this.adapter.emitInputEvent(t===Xr.START?this.valueStart:this.value,t)},t.prototype.clampValue=function(e,t){return e=Math.min(Math.max(e,this.min),this.max),this.isRange&&t===Xr.START&&e>this.value-this.minRange?this.value-this.minRange:this.isRange&&t===Xr.END&&e<this.valueStart+this.minRange?this.valueStart+this.minRange:e},t.prototype.updateThumbAndTrackUI=function(e){var t=this,i=this.max,n=this.min,o=(this.value-this.valueStart)/(i-n),r=o*this.rect.width,a=this.adapter.isRTL(),s=Sa?Ia(window,"transform"):"transform";if(this.isRange){var l=this.adapter.isRTL()?(i-this.value)/(i-n)*this.rect.width:(this.valueStart-n)/(i-n)*this.rect.width,c=l+r;this.animFrame.request(Zr.SLIDER_UPDATE,function(){!a&&e===Xr.START||a&&e!==Xr.START?(t.adapter.setTrackActiveStyleProperty("transform-origin","right"),t.adapter.setTrackActiveStyleProperty("left","auto"),t.adapter.setTrackActiveStyleProperty("right",t.rect.width-c+"px")):(t.adapter.setTrackActiveStyleProperty("transform-origin","left"),t.adapter.setTrackActiveStyleProperty("right","auto"),t.adapter.setTrackActiveStyleProperty("left",l+"px")),t.adapter.setTrackActiveStyleProperty(s,"scaleX("+o+")");var i=a?c:l,n=t.adapter.isRTL()?l:c;e!==Xr.START&&e&&t.initialStylesRemoved||(t.adapter.setThumbStyleProperty(s,"translateX("+i+"px)",Xr.START),t.alignValueIndicator(Xr.START,i)),e!==Xr.END&&e&&t.initialStylesRemoved||(t.adapter.setThumbStyleProperty(s,"translateX("+n+"px)",Xr.END),t.alignValueIndicator(Xr.END,n)),t.removeInitialStyles(a),t.updateOverlappingThumbsUI(i,n,e)})}else this.animFrame.request(Zr.SLIDER_UPDATE,function(){var e=a?t.rect.width-r:r;t.adapter.setThumbStyleProperty(s,"translateX("+e+"px)",Xr.END),t.alignValueIndicator(Xr.END,e),t.adapter.setTrackActiveStyleProperty(s,"scaleX("+o+")"),t.removeInitialStyles(a)})},t.prototype.alignValueIndicator=function(e,t){if(this.isDiscrete){var i=this.adapter.getThumbBoundingClientRect(e).width/2,n=this.adapter.getValueIndicatorContainerWidth(e),o=this.adapter.getBoundingClientRect().width;n/2>t+i?(this.adapter.setThumbStyleProperty(fa,i+"px",e),this.adapter.setThumbStyleProperty(ma,"auto",e),this.adapter.setThumbStyleProperty(ga,"translateX(-50%)",e),this.adapter.setThumbStyleProperty(va,"0",e),this.adapter.setThumbStyleProperty(ba,"auto",e),this.adapter.setThumbStyleProperty(ya,"none",e)):n/2>o-t+i?(this.adapter.setThumbStyleProperty(fa,"auto",e),this.adapter.setThumbStyleProperty(ma,i+"px",e),this.adapter.setThumbStyleProperty(ga,"translateX(50%)",e),this.adapter.setThumbStyleProperty(va,"auto",e),this.adapter.setThumbStyleProperty(ba,"0",e),this.adapter.setThumbStyleProperty(ya,"none",e)):(this.adapter.setThumbStyleProperty(fa,"50%",e),this.adapter.setThumbStyleProperty(ma,"auto",e),this.adapter.setThumbStyleProperty(ga,"translateX(-50%)",e),this.adapter.setThumbStyleProperty(va,"50%",e),this.adapter.setThumbStyleProperty(ba,"auto",e),this.adapter.setThumbStyleProperty(ya,"translateX(-50%)",e))}},t.prototype.removeInitialStyles=function(e){if(!this.initialStylesRemoved){var t=e?"right":"left";this.adapter.removeThumbStyleProperty(t,Xr.END),this.isRange&&this.adapter.removeThumbStyleProperty(t,Xr.START),this.initialStylesRemoved=!0,this.resetTrackAndThumbAnimation()}},t.prototype.resetTrackAndThumbAnimation=function(){var e=this;if(this.isDiscrete){var t=Sa?Ia(window,"transition"):"transition",i="none 0s ease 0s";this.adapter.setThumbStyleProperty(t,i,Xr.END),this.isRange&&this.adapter.setThumbStyleProperty(t,i,Xr.START),this.adapter.setTrackActiveStyleProperty(t,i),requestAnimationFrame(function(){e.adapter.removeThumbStyleProperty(t,Xr.END),e.adapter.removeTrackActiveStyleProperty(t),e.isRange&&e.adapter.removeThumbStyleProperty(t,Xr.START)})}},t.prototype.updateOverlappingThumbsUI=function(e,t,i){var n=!1;if(this.adapter.isRTL()){var o=e-this.startThumbKnobWidth/2;n=t+this.endThumbKnobWidth/2>=o}else{n=e+this.startThumbKnobWidth/2>=t-this.endThumbKnobWidth/2}n?(this.adapter.addThumbClass(ta,i||Xr.END),this.adapter.removeThumbClass(ta,i===Xr.START?Xr.END:Xr.START)):(this.adapter.removeThumbClass(ta,Xr.START),this.adapter.removeThumbClass(ta,Xr.END))},t.prototype.convertAttributeValueToNumber=function(e,t){if(null===e)throw new Error("MDCSliderFoundation: `"+t+"` must be non-null.");var i=Number(e);if(isNaN(i))throw new Error("MDCSliderFoundation: `"+t+"` value is `"+e+"`, but must be a number.");return i},t.prototype.validateProperties=function(e){var t=e.min,i=e.max,n=e.value,o=e.valueStart,r=e.step,a=e.minRange;if(t>=i)throw new Error("MDCSliderFoundation: min must be strictly less than max. Current: [min: "+t+", max: "+i+"]");if(r<=0)throw new Error("MDCSliderFoundation: step must be a positive number. Current step: "+r);if(this.isRange){if(n<t||n>i||o<t||o>i)throw new Error("MDCSliderFoundation: values must be in [min, max] range. Current values: [start value: "+o+", end value: "+n+", min: "+t+", max: "+i+"]");if(o>n)throw new Error("MDCSliderFoundation: start value must be <= end value. Current values: [start value: "+o+", end value: "+n+"]");if(a<0)throw new Error("MDCSliderFoundation: minimum range must be non-negative. Current min range: "+a);if(n-o<a)throw new Error("MDCSliderFoundation: start value and end value must differ by at least "+a+". Current values: [start value: "+o+", end value: "+n+"]");var s=(o-t)/r,l=(n-t)/r;if(!Number.isInteger(parseFloat(s.toFixed(6)))||!Number.isInteger(parseFloat(l.toFixed(6))))throw new Error("MDCSliderFoundation: Slider values must be valid based on the step value ("+r+"). Current values: [start value: "+o+", end value: "+n+", min: "+t+"]")}else{if(n<t||n>i)throw new Error("MDCSliderFoundation: value must be in [min, max] range. Current values: [value: "+n+", min: "+t+", max: "+i+"]");l=(n-t)/r;if(!Number.isInteger(parseFloat(l.toFixed(6))))throw new Error("MDCSliderFoundation: Slider value must be valid based on the step value ("+r+"). Current value: "+n)}},t.prototype.registerEventHandlers=function(){this.adapter.registerWindowEventHandler("resize",this.resizeListener),t.SUPPORTS_POINTER_EVENTS?(this.adapter.registerEventHandler("pointerdown",this.pointerdownListener),this.adapter.registerEventHandler("pointerup",this.pointerupListener)):(this.adapter.registerEventHandler("mousedown",this.mousedownOrTouchstartListener),this.adapter.registerEventHandler("touchstart",this.mousedownOrTouchstartListener)),this.isRange&&(this.adapter.registerThumbEventHandler(Xr.START,"mouseenter",this.thumbMouseenterListener),this.adapter.registerThumbEventHandler(Xr.START,"mouseleave",this.thumbMouseleaveListener),this.adapter.registerInputEventHandler(Xr.START,"change",this.inputStartChangeListener),this.adapter.registerInputEventHandler(Xr.START,"focus",this.inputStartFocusListener),this.adapter.registerInputEventHandler(Xr.START,"blur",this.inputStartBlurListener)),this.adapter.registerThumbEventHandler(Xr.END,"mouseenter",this.thumbMouseenterListener),this.adapter.registerThumbEventHandler(Xr.END,"mouseleave",this.thumbMouseleaveListener),this.adapter.registerInputEventHandler(Xr.END,"change",this.inputEndChangeListener),this.adapter.registerInputEventHandler(Xr.END,"focus",this.inputEndFocusListener),this.adapter.registerInputEventHandler(Xr.END,"blur",this.inputEndBlurListener)},t.prototype.deregisterEventHandlers=function(){this.adapter.deregisterWindowEventHandler("resize",this.resizeListener),t.SUPPORTS_POINTER_EVENTS?(this.adapter.deregisterEventHandler("pointerdown",this.pointerdownListener),this.adapter.deregisterEventHandler("pointerup",this.pointerupListener)):(this.adapter.deregisterEventHandler("mousedown",this.mousedownOrTouchstartListener),this.adapter.deregisterEventHandler("touchstart",this.mousedownOrTouchstartListener)),this.isRange&&(this.adapter.deregisterThumbEventHandler(Xr.START,"mouseenter",this.thumbMouseenterListener),this.adapter.deregisterThumbEventHandler(Xr.START,"mouseleave",this.thumbMouseleaveListener),this.adapter.deregisterInputEventHandler(Xr.START,"change",this.inputStartChangeListener),this.adapter.deregisterInputEventHandler(Xr.START,"focus",this.inputStartFocusListener),this.adapter.deregisterInputEventHandler(Xr.START,"blur",this.inputStartBlurListener)),this.adapter.deregisterThumbEventHandler(Xr.END,"mouseenter",this.thumbMouseenterListener),this.adapter.deregisterThumbEventHandler(Xr.END,"mouseleave",this.thumbMouseleaveListener),this.adapter.deregisterInputEventHandler(Xr.END,"change",this.inputEndChangeListener),this.adapter.deregisterInputEventHandler(Xr.END,"focus",this.inputEndFocusListener),this.adapter.deregisterInputEventHandler(Xr.END,"blur",this.inputEndBlurListener)},t.prototype.handlePointerup=function(){this.handleUp(),this.adapter.deregisterEventHandler("pointermove",this.moveListener)},t.SUPPORTS_POINTER_EVENTS=Sa&&Boolean(window.PointerEvent)&&!(["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document),t}(Vn);function xa(e){var t=/(?:\.(\d+))?(?:[eE]([+\-]?\d+))?$/.exec(String(e));if(!t)return 0;var i=t[1]||"",n=t[2]||0;return Math.max(0,("0"===i?0:i.length)-Number(n))}var Aa=mi("<input/> <input/>",1),Oa=mi("<input/>"),Ea=mi("<div></div>"),_a=mi('<div class="mdc-slider__tick-marks"></div>'),ka=mi('<div class="mdc-slider__value-indicator-container" aria-hidden="true"><div class="mdc-slider__value-indicator"><span class="mdc-slider__value-indicator-text"> </span></div></div>'),Ra=mi('<div class="mdc-slider__value-indicator-container" aria-hidden="true"><div class="mdc-slider__value-indicator"><span class="mdc-slider__value-indicator-text"> </span></div></div>'),Ma=mi('<div><!> <div class="mdc-slider__thumb-knob"></div></div> <div><!> <div class="mdc-slider__thumb-knob"></div></div>',1),Da=mi('<div class="mdc-slider__value-indicator-container" aria-hidden="true"><div class="mdc-slider__value-indicator"><span class="mdc-slider__value-indicator-text"> </span></div></div>'),$a=mi('<div><!> <div class="mdc-slider__thumb-knob"></div></div>'),Ba=mi('<div><!> <div class="mdc-slider__track"><div class="mdc-slider__track--inactive"></div> <div class="mdc-slider__track--active"><div class="mdc-slider__track--active_fill"></div></div> <!></div> <!></div>');function Fa(e,t){q(t,!0);let i,n,o,r,a,s,l=On(t,"use",19,()=>[]),c=On(t,"class",3,""),d=On(t,"disabled",3,!1),u=On(t,"range",3,!1),p=On(t,"discrete",3,!1),h=On(t,"tickMarks",3,!1),f=On(t,"step",3,1),m=On(t,"min",3,0),g=On(t,"max",3,100),v=On(t,"minRange",3,0),b=On(t,"value",15),y=On(t,"start",15),T=On(t,"end",15),w=On(t,"valueToAriaValueTextFn",3,e=>`${e}`),I=On(t,"hideFocusStylesForPointerEvents",3,!1),S=On(t,"input$class",3,""),C=Cn(t,["$$slots","$$events","$$legacy","use","class","disabled","range","discrete","tickMarks","step","min","max","minRange","value","start","end","valueToAriaValueTextFn","hideFocusStylesForPointerEvents","input$class"]),x=ke(void 0),A=new No,O=ke(void 0),E=ke(void 0),_=Fe({}),k=Fe({}),R=Fe({}),M=Fe({}),D=Fe({}),$=Fe({}),B=Fe({}),F=Fe({}),L=ke(!1),N=ke(!1),P=ke(Fe([])),j=W("SMUI:generic:input:props")??{},V=W("SMUI:addLayoutListener"),U=m();nt(()=>{m()!==U&&(Gt(x)&&Gt(x).setMin(m()),U=m())});let H=g();nt(()=>{g()!==H&&(Gt(x)&&Gt(x).setMax(g()),H=g())});let z=f();nt(()=>{f()!==z&&(Gt(x)&&Gt(x).setStep(f()),z=f())});let X=p();nt(()=>{p()!==X&&(Gt(x)&&Gt(x).setIsDiscrete(p()),X=p())});let K=h();if(nt(()=>{h()!==K&&(Gt(x)&&Gt(x).setHasTickMarks(h()),K=h())}),h()&&f()>0){const e=g()+Math.abs(m());if(u()&&"number"==typeof y()&&"number"==typeof T()){const t=y()+Math.abs(m()),i=T()+Math.abs(m());Me(P,[...Array(t/f()).map(()=>qr.INACTIVE),...Array(e/f()-t/f()-(e-i)/f()+1).map(()=>qr.ACTIVE),...Array((e-i)/f()).map(()=>qr.INACTIVE)],!0)}else if("number"==typeof b()){const t=b()+Math.abs(m());Me(P,[...Array(t/f()+1).map(()=>qr.ACTIVE),...Array((e-t)/f()).map(()=>qr.INACTIVE)],!0)}}if(u()&&"number"==typeof y()&&"number"==typeof T()){const e=(T()-y())/(g()-m()),t=y()/(g()-m()),i=T()/(g()-m());$.transform=`scaleX(${e})`,B.left=`calc(${100*i}% -24px)`,F.left=`calc(${100*t}% -24px)`}else if("number"==typeof b()){const e=b()/(g()-m());$.transform=`scaleX(${e})`,B.left=`calc(${100*e}% -24px)`}V&&(s=V(he));let Z=b(),Y=y(),Q=T();nt(()=>{Gt(x)&&(Z!==b()&&"number"==typeof b()&&Gt(x).setValue(b()),Y!==y()&&"number"==typeof y()&&Gt(x).setValueStart(y()),Q!==T()&&"number"==typeof T()&&Gt(x).setValue(T()),Z=b(),Y=y(),Q=T(),Gt(x).layout())});const J=W("SMUI:generic:input:mount"),ee=W("SMUI:generic:input:unmount");function te(e){return e in _?_[e]:fe().classList.contains(e)}function ie(e){_[e]||(_[e]=!0)}function ne(e){e in _&&!_[e]||(_[e]=!1)}function oe(e,t){u()&&t===Xr.START?k[e]||(k[e]=!0):R[e]||(R[e]=!0)}function re(e,t){u()&&t===Xr.START?e in k&&!k[e]||(k[e]=!1):e in R&&!R[e]||(R[e]=!1)}function ae(e,t,i){u()&&i===Xr.START?F[e]!=t&&(""===t||null==t?delete F[e]:F[e]=t):B[e]!=t&&(""===t||null==t?delete B[e]:B[e]=t)}function se(e,t){u()&&t===Xr.START?e in F&&delete F[e]:e in B&&delete B[e]}function le(e,t){return u()&&t===Xr.START?"value"===e?`${y()}`:e in D?D[e]??null:Gt(E)?.getAttribute(e)??null:"value"===e?`${u()?T():b()}`:e in M?M[e]??null:Gt(O)?.getAttribute(e)??null}function ce(e,t,i){u()&&i===Xr.START?D[e]!==t&&(D[e]=t):M[e]!==t&&(M[e]=t)}function de(e,t){u()&&t===Xr.START?e in D&&null==D[e]||(D[e]=void 0):e in M&&null==M[e]||(M[e]=void 0)}function ue(e,t){$[e]!=t&&(""===t||null==t?delete $[e]:$[e]=t)}function pe(e){e in $&&delete $[e]}function he(){return Gt(x)?.layout()}function fe(){return i}En(()=>{Me(x,new Ca({hasClass:te,addClass:ie,removeClass:ne,addThumbClass:oe,removeThumbClass:re,getAttribute:e=>fe().getAttribute(e),getInputValue:e=>`${(u()?e===Xr.START?y():T():b())??0}`,setInputValue:(e,t)=>{u()?t===Xr.START?(y(Number(e)),Y=y()):(T(Number(e)),Q=T()):(b(Number(e)),Z=b())},getInputAttribute:le,setInputAttribute:ce,removeInputAttribute:de,focusInput:e=>{u()&&e===Xr.START&&Gt(E)?Gt(E).focus():Gt(O)?.focus()},isInputFocused:e=>(u()&&e===Xr.START?Gt(E):Gt(O))===document.activeElement,shouldHideFocusStylesForPointerEvents:()=>I(),getThumbKnobWidth:e=>((u()&&e===Xr.START?a:r)??r).getBoundingClientRect().width,getThumbBoundingClientRect:e=>((u()&&e===Xr.START?o:n)??n).getBoundingClientRect(),getBoundingClientRect:()=>fe().getBoundingClientRect(),getValueIndicatorContainerWidth:e=>((u()&&e===Xr.START?o:n)??n).querySelector(".mdc-slider__value-indicator-container").getBoundingClientRect().width,isRTL:()=>"rtl"===getComputedStyle(fe()).direction,setThumbStyleProperty:ae,removeThumbStyleProperty:se,setTrackActiveStyleProperty:ue,removeTrackActiveStyleProperty:pe,setValueIndicatorText:(e,t)=>{},getValueToAriaValueTextFn:()=>w(),updateTickMarks:e=>{Me(P,e,!0)},setPointerCapture:e=>{fe().setPointerCapture(e)},emitChangeEvent:(e,t)=>{Bo(fe(),"SMUISliderChange",{value:e,thumb:t})},emitInputEvent:(e,t)=>{Bo(fe(),"SMUISliderInput",{value:e,thumb:t})},emitDragStartEvent:(e,t)=>{u()&&t===Xr.START?Me(N,!0):Me(L,!0)},emitDragEndEvent:(e,t)=>{u()&&t===Xr.START?Me(N,!1):Me(L,!1)},registerEventHandler:(e,t)=>A.on(fe(),e,t),deregisterEventHandler:(e,t)=>A.off(fe(),e,t),registerThumbEventHandler:(e,t,i)=>{const r=u()&&e===Xr.START?o:n;r&&A.on(r,t,i)},deregisterThumbEventHandler:(e,t,i)=>{const r=u()&&e===Xr.START?o:n;r&&A.off(r,t,i)},registerInputEventHandler:(e,t,i)=>{const n=u()&&e===Xr.START?Gt(E):Gt(O);n&&A.on(n,t,i)},deregisterInputEventHandler:(e,t,i)=>{const n=u()&&e===Xr.START?Gt(E):Gt(O);n&&A.off(n,t,i)},registerBodyEventHandler:(e,t)=>A.on(document.body,e,t),deregisterBodyEventHandler:(e,t)=>A.off(document.body,e,t),registerWindowEventHandler:(e,t)=>A.on(window,e,t),deregisterWindowEventHandler:(e,t)=>A.off(window,e,t)}),!0);const e={get element(){return fe()},activateRipple(){d()||Me(L,!0)},deactivateRipple(){Me(L,!1)}};return J&&J(e),Gt(x).init(),Gt(x).layout({skipUpdateUI:!0}),()=>{ee&&ee(e),Gt(x)?.destroy(),A.clear()}}),_n(()=>{s&&s()});var me={layout:he,getId:function(){return j&&j.id},getElement:fe},ge=Ba();en(ge,(e,t)=>({class:e,...u()?{"data-min-range":`${v()}`}:{},...t}),[()=>Object.entries({"mdc-slider":!0,"mdc-slider--range":u(),"mdc-slider--discrete":p(),"mdc-slider--tick-marks":p()&&h(),"mdc-slider--disabled":d(),..._,[c()]:!0}).filter(([e,t])=>""!==e&&t).map(([e])=>e).join(" "),()=>Fo(C,["input$"])]);var ve=Ge(ge),be=e=>{var i=Aa(),n=Xe(i),o=e=>{Bo(fe(),"blur",e),t.input$onblur?.(e)},r=e=>{Bo(fe(),"focus",e),t.input$onfocus?.(e)};en(n,(e,t)=>({class:e,type:"range",disabled:d(),step:f(),min:m(),max:T(),...D,...t,onblur:o,onfocus:r}),[()=>$o({"mdc-slider__input":!0,[S()]:!0}),()=>Lo(C,"input$")],void 0,void 0,!0),pn(n,e=>Me(E,e),()=>Gt(E));var a=Ke(n,2),s=e=>{Bo(fe(),"blur",e),t.input$onblur?.(e)},l=e=>{Bo(fe(),"focus",e),t.input$onfocus?.(e)};en(a,(e,t)=>({class:e,type:"range",disabled:d(),step:f(),min:y(),max:g(),...j,...M,...t,onblur:s,onfocus:l}),[()=>$o({"mdc-slider__input":!0,[S()]:!0}),()=>Lo(C,"input$")],void 0,void 0,!0),pn(a,e=>Me(O,e),()=>Gt(O)),rn(n,y),rn(a,T),Ti(e,i)},ye=e=>{var i=Oa(),n=e=>{Bo(fe(),"blur",e),t.input$onblur?.(e)},o=e=>{Bo(fe(),"focus",e),t.input$onfocus?.(e)};en(i,(e,t)=>({class:e,type:"range",disabled:d(),step:f(),min:m(),max:g(),...j,...M,...t,onblur:n,onfocus:o}),[()=>$o({"mdc-slider__input":!0,[S()]:!0}),()=>Lo(C,"input$")],void 0,void 0,!0),pn(i,e=>Me(O,e),()=>Gt(O)),rn(i,b),Ti(e,i)};Ci(ve,e=>{u()?e(be):e(ye,!1)});var Te=Ke(ve,2),we=Ke(Ge(Te),2),Ie=Ge(we),Se=Ke(we,2),Ce=e=>{var t=_a();Oi(t,21,()=>Gt(P),Ai,(e,t)=>{var i=Ea();st(()=>Hi(i,1,Pi(Gt(t)===qr.ACTIVE?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"))),Ti(e,i)}),Ti(e,t)};Ci(Se,e=>{p()&&h()&&f()>0&&e(Ce)});var xe=Ke(Te,2),Ae=e=>{var t=Ma(),i=Xe(t),s=Ge(i),l=e=>{var t=ka(),i=Ge(t),n=Ge(i),o=Ge(n);st(()=>wi(o,y())),Ti(e,t)};Ci(s,e=>{p()&&e(l)}),pn(Ke(s,2),e=>a=e,()=>a),pn(i,e=>o=e,()=>o),Fi(i,(e,t)=>sr?.(e,t),()=>({unbounded:!0,disabled:d(),active:Gt(N),eventTarget:Gt(E),activeTarget:Gt(E),addClass:e=>oe(e,Xr.START),removeClass:e=>re(e,Xr.START),addStyle:(e,t)=>ae(e,t,Xr.START)}));var c=Ke(i,2),u=Ge(c),h=e=>{var t=Ra(),i=Ge(t),n=Ge(i),o=Ge(n);st(()=>wi(o,T())),Ti(e,t)};Ci(u,e=>{p()&&e(h)}),pn(Ke(u,2),e=>r=e,()=>r),pn(c,e=>n=e,()=>n),Fi(c,(e,t)=>sr?.(e,t),()=>({unbounded:!0,disabled:d(),active:Gt(L),eventTarget:Gt(O),activeTarget:Gt(O),addClass:e=>oe(e,Xr.END),removeClass:e=>re(e,Xr.END),addStyle:(e,t)=>ae(e,t,Xr.END)})),st((e,t,n,o)=>{Hi(i,1,e),zi(i,t),Hi(c,1,n),zi(c,o)},[()=>Pi($o({"mdc-slider__thumb":!0,...k})),()=>Object.entries(F).map(([e,t])=>`${e}: ${t};`).join(" "),()=>Pi($o({"mdc-slider__thumb":!0,...R})),()=>Object.entries(B).map(([e,t])=>`${e}: ${t};`).join(" ")]),Ti(e,t)},Oe=e=>{var t=$a(),i=Ge(t),o=e=>{var t=Da(),i=Ge(t),n=Ge(i),o=Ge(n);st(()=>wi(o,b())),Ti(e,t)};Ci(i,e=>{p()&&e(o)}),pn(Ke(i,2),e=>r=e,()=>r),pn(t,e=>n=e,()=>n),Fi(t,(e,t)=>sr?.(e,t),()=>({unbounded:!0,disabled:d(),active:Gt(L),eventTarget:Gt(O),activeTarget:Gt(O),addClass:e=>oe(e,Xr.END),removeClass:e=>re(e,Xr.END),addStyle:(e,t)=>ae(e,t,Xr.END)})),st((e,i)=>{Hi(t,1,e),zi(t,i)},[()=>Pi($o({"mdc-slider__thumb":!0,...R})),()=>Object.entries(B).map(([e,t])=>`${e}: ${t};`).join(" ")]),Ti(e,t)};return Ci(xe,e=>{u()?e(Ae):e(Oe,!1)}),pn(ge,e=>i=e,()=>i),Fi(ge,(e,t)=>Po?.(e,t),l),st(e=>zi(Ie,e),[()=>Object.entries($).map(([e,t])=>`${e}: ${t};`).join(" ")]),Ti(e,ge),G(me)}var La="top",Na="bottom",Pa="right",ja="left",Va="auto",Ua=[La,Na,Pa,ja],Ha="start",Wa="end",za="viewport",qa="popper",Ga=Ua.reduce(function(e,t){return e.concat([t+"-"+Ha,t+"-"+Wa])},[]),Xa=[].concat(Ua,[Va]).reduce(function(e,t){return e.concat([t,t+"-"+Ha,t+"-"+Wa])},[]),Ka=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Za(e){return e?(e.nodeName||"").toLowerCase():null}function Ya(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Qa(e){return e instanceof Ya(e).Element||e instanceof Element}function Ja(e){return e instanceof Ya(e).HTMLElement||e instanceof HTMLElement}function es(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Ya(e).ShadowRoot||e instanceof ShadowRoot)}const ts={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},n=t.attributes[e]||{},o=t.elements[e];Ja(o)&&Za(o)&&(Object.assign(o.style,i),Object.keys(n).forEach(function(e){var t=n[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(e){var n=t.elements[e],o=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce(function(e,t){return e[t]="",e},{});Ja(n)&&Za(n)&&(Object.assign(n.style,r),Object.keys(o).forEach(function(e){n.removeAttribute(e)}))})}},requires:["computeStyles"]};function is(e){return e.split("-")[0]}var ns=Math.max,os=Math.min,rs=Math.round;function as(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ss(){return!/^((?!chrome|android).)*safari/i.test(as())}function ls(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n=e.getBoundingClientRect(),o=1,r=1;t&&Ja(e)&&(o=e.offsetWidth>0&&rs(n.width)/e.offsetWidth||1,r=e.offsetHeight>0&&rs(n.height)/e.offsetHeight||1);var a=(Qa(e)?Ya(e):window).visualViewport,s=!ss()&&i,l=(n.left+(s&&a?a.offsetLeft:0))/o,c=(n.top+(s&&a?a.offsetTop:0))/r,d=n.width/o,u=n.height/r;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function cs(e){var t=ls(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function ds(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&es(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function us(e){return Ya(e).getComputedStyle(e)}function ps(e){return["table","td","th"].indexOf(Za(e))>=0}function hs(e){return((Qa(e)?e.ownerDocument:e.document)||window.document).documentElement}function fs(e){return"html"===Za(e)?e:e.assignedSlot||e.parentNode||(es(e)?e.host:null)||hs(e)}function ms(e){return Ja(e)&&"fixed"!==us(e).position?e.offsetParent:null}function gs(e){for(var t=Ya(e),i=ms(e);i&&ps(i)&&"static"===us(i).position;)i=ms(i);return i&&("html"===Za(i)||"body"===Za(i)&&"static"===us(i).position)?t:i||function(e){var t=/firefox/i.test(as());if(/Trident/i.test(as())&&Ja(e)&&"fixed"===us(e).position)return null;var i=fs(e);for(es(i)&&(i=i.host);Ja(i)&&["html","body"].indexOf(Za(i))<0;){var n=us(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||t}function vs(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function bs(e,t,i){return ns(e,os(t,i))}function ys(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Ts(e,t){return t.reduce(function(t,i){return t[i]=e,t},{})}const ws={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,n=e.name,o=e.options,r=i.elements.arrow,a=i.modifiersData.popperOffsets,s=is(i.placement),l=vs(s),c=[ja,Pa].indexOf(s)>=0?"height":"width";if(r&&a){var d=function(e,t){return ys("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Ts(e,Ua))}(o.padding,i),u=cs(r),p="y"===l?La:ja,h="y"===l?Na:Pa,f=i.rects.reference[c]+i.rects.reference[l]-a[l]-i.rects.popper[c],m=a[l]-i.rects.reference[l],g=gs(r),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=f/2-m/2,y=d[p],T=v-u[c]-d[h],w=v/2-u[c]/2+b,I=bs(y,w,T),S=l;i.modifiersData[n]=((t={})[S]=I,t.centerOffset=I-w,t)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&ds(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Is(e){return e.split("-")[1]}var Ss={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Cs(e){var t,i=e.popper,n=e.popperRect,o=e.placement,r=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,p=a.x,h=void 0===p?0:p,f=a.y,m=void 0===f?0:f,g="function"==typeof d?d({x:h,y:m}):{x:h,y:m};h=g.x,m=g.y;var v=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),y=ja,T=La,w=window;if(c){var I=gs(i),S="clientHeight",C="clientWidth";if(I===Ya(i)&&"static"!==us(I=hs(i)).position&&"absolute"===s&&(S="scrollHeight",C="scrollWidth"),o===La||(o===ja||o===Pa)&&r===Wa)T=Na,m-=(u&&I===w&&w.visualViewport?w.visualViewport.height:I[S])-n.height,m*=l?1:-1;if(o===ja||(o===La||o===Na)&&r===Wa)y=Pa,h-=(u&&I===w&&w.visualViewport?w.visualViewport.width:I[C])-n.width,h*=l?1:-1}var x,A=Object.assign({position:s},c&&Ss),O=!0===d?function(e,t){var i=e.x,n=e.y,o=t.devicePixelRatio||1;return{x:rs(i*o)/o||0,y:rs(n*o)/o||0}}({x:h,y:m},Ya(i)):{x:h,y:m};return h=O.x,m=O.y,l?Object.assign({},A,((x={})[T]=b?"0":"",x[y]=v?"0":"",x.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",x)):Object.assign({},A,((t={})[T]=b?m+"px":"",t[y]=v?h+"px":"",t.transform="",t))}const xs={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,o=void 0===n||n,r=i.adaptive,a=void 0===r||r,s=i.roundOffsets,l=void 0===s||s,c={placement:is(t.placement),variation:Is(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Cs(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Cs(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var As={passive:!0};const Os={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,n=e.options,o=n.scroll,r=void 0===o||o,a=n.resize,s=void 0===a||a,l=Ya(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach(function(e){e.addEventListener("scroll",i.update,As)}),s&&l.addEventListener("resize",i.update,As),function(){r&&c.forEach(function(e){e.removeEventListener("scroll",i.update,As)}),s&&l.removeEventListener("resize",i.update,As)}},data:{}};var Es={left:"right",right:"left",bottom:"top",top:"bottom"};function _s(e){return e.replace(/left|right|bottom|top/g,function(e){return Es[e]})}var ks={start:"end",end:"start"};function Rs(e){return e.replace(/start|end/g,function(e){return ks[e]})}function Ms(e){var t=Ya(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ds(e){return ls(hs(e)).left+Ms(e).scrollLeft}function $s(e){var t=us(e),i=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+o+n)}function Bs(e){return["html","body","#document"].indexOf(Za(e))>=0?e.ownerDocument.body:Ja(e)&&$s(e)?e:Bs(fs(e))}function Fs(e,t){var i;void 0===t&&(t=[]);var n=Bs(e),o=n===(null==(i=e.ownerDocument)?void 0:i.body),r=Ya(n),a=o?[r].concat(r.visualViewport||[],$s(n)?n:[]):n,s=t.concat(a);return o?s:s.concat(Fs(fs(a)))}function Ls(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ns(e,t,i){return t===za?Ls(function(e,t){var i=Ya(e),n=hs(e),o=i.visualViewport,r=n.clientWidth,a=n.clientHeight,s=0,l=0;if(o){r=o.width,a=o.height;var c=ss();(c||!c&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:r,height:a,x:s+Ds(e),y:l}}(e,i)):Qa(t)?function(e,t){var i=ls(e,!1,"fixed"===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):Ls(function(e){var t,i=hs(e),n=Ms(e),o=null==(t=e.ownerDocument)?void 0:t.body,r=ns(i.scrollWidth,i.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=ns(i.scrollHeight,i.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-n.scrollLeft+Ds(e),l=-n.scrollTop;return"rtl"===us(o||i).direction&&(s+=ns(i.clientWidth,o?o.clientWidth:0)-r),{width:r,height:a,x:s,y:l}}(hs(e)))}function Ps(e,t,i,n){var o="clippingParents"===t?function(e){var t=Fs(fs(e)),i=["absolute","fixed"].indexOf(us(e).position)>=0&&Ja(e)?gs(e):e;return Qa(i)?t.filter(function(e){return Qa(e)&&ds(e,i)&&"body"!==Za(e)}):[]}(e):[].concat(t),r=[].concat(o,[i]),a=r[0],s=r.reduce(function(t,i){var o=Ns(e,i,n);return t.top=ns(o.top,t.top),t.right=os(o.right,t.right),t.bottom=os(o.bottom,t.bottom),t.left=ns(o.left,t.left),t},Ns(e,a,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function js(e){var t,i=e.reference,n=e.element,o=e.placement,r=o?is(o):null,a=o?Is(o):null,s=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(r){case La:t={x:s,y:i.y-n.height};break;case Na:t={x:s,y:i.y+i.height};break;case Pa:t={x:i.x+i.width,y:l};break;case ja:t={x:i.x-n.width,y:l};break;default:t={x:i.x,y:i.y}}var c=r?vs(r):null;if(null!=c){var d="y"===c?"height":"width";switch(a){case Ha:t[c]=t[c]-(i[d]/2-n[d]/2);break;case Wa:t[c]=t[c]+(i[d]/2-n[d]/2)}}return t}function Vs(e,t){void 0===t&&(t={});var i=t,n=i.placement,o=void 0===n?e.placement:n,r=i.strategy,a=void 0===r?e.strategy:r,s=i.boundary,l=void 0===s?"clippingParents":s,c=i.rootBoundary,d=void 0===c?za:c,u=i.elementContext,p=void 0===u?qa:u,h=i.altBoundary,f=void 0!==h&&h,m=i.padding,g=void 0===m?0:m,v=ys("number"!=typeof g?g:Ts(g,Ua)),b=p===qa?"reference":qa,y=e.rects.popper,T=e.elements[f?b:p],w=Ps(Qa(T)?T:T.contextElement||hs(e.elements.popper),l,d,a),I=ls(e.elements.reference),S=js({reference:I,element:y,placement:o}),C=Ls(Object.assign({},y,S)),x=p===qa?C:I,A={top:w.top-x.top+v.top,bottom:x.bottom-w.bottom+v.bottom,left:w.left-x.left+v.left,right:x.right-w.right+v.right},O=e.modifiersData.offset;if(p===qa&&O){var E=O[o];Object.keys(A).forEach(function(e){var t=[Pa,Na].indexOf(e)>=0?1:-1,i=[La,Na].indexOf(e)>=0?"y":"x";A[e]+=E[i]*t})}return A}const Us={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=i.mainAxis,r=void 0===o||o,a=i.altAxis,s=void 0===a||a,l=i.fallbackPlacements,c=i.padding,d=i.boundary,u=i.rootBoundary,p=i.altBoundary,h=i.flipVariations,f=void 0===h||h,m=i.allowedAutoPlacements,g=t.options.placement,v=is(g),b=l||(v===g||!f?[_s(g)]:function(e){if(is(e)===Va)return[];var t=_s(e);return[Rs(e),t,Rs(t)]}(g)),y=[g].concat(b).reduce(function(e,i){return e.concat(is(i)===Va?function(e,t){void 0===t&&(t={});var i=t,n=i.placement,o=i.boundary,r=i.rootBoundary,a=i.padding,s=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?Xa:l,d=Is(n),u=d?s?Ga:Ga.filter(function(e){return Is(e)===d}):Ua,p=u.filter(function(e){return c.indexOf(e)>=0});0===p.length&&(p=u);var h=p.reduce(function(t,i){return t[i]=Vs(e,{placement:i,boundary:o,rootBoundary:r,padding:a})[is(i)],t},{});return Object.keys(h).sort(function(e,t){return h[e]-h[t]})}(t,{placement:i,boundary:d,rootBoundary:u,padding:c,flipVariations:f,allowedAutoPlacements:m}):i)},[]),T=t.rects.reference,w=t.rects.popper,I=new Map,S=!0,C=y[0],x=0;x<y.length;x++){var A=y[x],O=is(A),E=Is(A)===Ha,_=[La,Na].indexOf(O)>=0,k=_?"width":"height",R=Vs(t,{placement:A,boundary:d,rootBoundary:u,altBoundary:p,padding:c}),M=_?E?Pa:ja:E?Na:La;T[k]>w[k]&&(M=_s(M));var D=_s(M),$=[];if(r&&$.push(R[O]<=0),s&&$.push(R[M]<=0,R[D]<=0),$.every(function(e){return e})){C=A,S=!1;break}I.set(A,$)}if(S)for(var B=function(e){var t=y.find(function(t){var i=I.get(t);if(i)return i.slice(0,e).every(function(e){return e})});if(t)return C=t,"break"},F=f?3:1;F>0;F--){if("break"===B(F))break}t.placement!==C&&(t.modifiersData[n]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Hs(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function Ws(e){return[La,Pa,Na,ja].some(function(t){return e[t]>=0})}const zs={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,n=e.name,o=i.offset,r=void 0===o?[0,0]:o,a=Xa.reduce(function(e,i){return e[i]=function(e,t,i){var n=is(e),o=[ja,La].indexOf(n)>=0?-1:1,r="function"==typeof i?i(Object.assign({},t,{placement:e})):i,a=r[0],s=r[1];return a=a||0,s=(s||0)*o,[ja,Pa].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}(i,t.rects,r),e},{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=a}};const qs={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name,o=i.mainAxis,r=void 0===o||o,a=i.altAxis,s=void 0!==a&&a,l=i.boundary,c=i.rootBoundary,d=i.altBoundary,u=i.padding,p=i.tether,h=void 0===p||p,f=i.tetherOffset,m=void 0===f?0:f,g=Vs(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),v=is(t.placement),b=Is(t.placement),y=!b,T=vs(v),w="x"===T?"y":"x",I=t.modifiersData.popperOffsets,S=t.rects.reference,C=t.rects.popper,x="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,A="number"==typeof x?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,E={x:0,y:0};if(I){if(r){var _,k="y"===T?La:ja,R="y"===T?Na:Pa,M="y"===T?"height":"width",D=I[T],$=D+g[k],B=D-g[R],F=h?-C[M]/2:0,L=b===Ha?S[M]:C[M],N=b===Ha?-C[M]:-S[M],P=t.elements.arrow,j=h&&P?cs(P):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=V[k],H=V[R],W=bs(0,S[M],j[M]),z=y?S[M]/2-F-W-U-A.mainAxis:L-W-U-A.mainAxis,q=y?-S[M]/2+F+W+H+A.mainAxis:N+W+H+A.mainAxis,G=t.elements.arrow&&gs(t.elements.arrow),X=G?"y"===T?G.clientTop||0:G.clientLeft||0:0,K=null!=(_=null==O?void 0:O[T])?_:0,Z=D+q-K,Y=bs(h?os($,D+z-K-X):$,D,h?ns(B,Z):B);I[T]=Y,E[T]=Y-D}if(s){var Q,J="x"===T?La:ja,ee="x"===T?Na:Pa,te=I[w],ie="y"===w?"height":"width",ne=te+g[J],oe=te-g[ee],re=-1!==[La,ja].indexOf(v),ae=null!=(Q=null==O?void 0:O[w])?Q:0,se=re?ne:te-S[ie]-C[ie]-ae+A.altAxis,le=re?te+S[ie]+C[ie]-ae-A.altAxis:oe,ce=h&&re?(ue=bs(se,te,de=le))>de?de:ue:bs(h?se:ne,te,h?le:oe);I[w]=ce,E[w]=ce-te}var de,ue;t.modifiersData[n]=E}},requiresIfExists:["offset"]};function Gs(e,t,i){void 0===i&&(i=!1);var n,o,r=Ja(t),a=Ja(t)&&function(e){var t=e.getBoundingClientRect(),i=rs(t.width)/e.offsetWidth||1,n=rs(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),s=hs(t),l=ls(e,a,i),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!i)&&(("body"!==Za(t)||$s(s))&&(c=(n=t)!==Ya(n)&&Ja(n)?{scrollLeft:(o=n).scrollLeft,scrollTop:o.scrollTop}:Ms(n)),Ja(t)?((d=ls(t,!0)).x+=t.clientLeft,d.y+=t.clientTop):s&&(d.x=Ds(s))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function Xs(e){var t=new Map,i=new Set,n=[];function o(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!i.has(e)){var n=t.get(e);n&&o(n)}}),n.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){i.has(e.name)||o(e)}),n}var Ks={placement:"bottom",modifiers:[],strategy:"absolute"};function Zs(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function Ys(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,o=t.defaultOptions,r=void 0===o?Ks:o;return function(e,t,i){void 0===i&&(i=r);var o,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ks,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,d={state:s,setOptions:function(i){var o="function"==typeof i?i(s.options):i;u(),s.options=Object.assign({},r,s.options,o),s.scrollParents={reference:Qa(e)?Fs(e):e.contextElement?Fs(e.contextElement):[],popper:Fs(t)};var a,c,p=function(e){var t=Xs(e);return Ka.reduce(function(e,i){return e.concat(t.filter(function(e){return e.phase===i}))},[])}((a=[].concat(n,s.options.modifiers),c=a.reduce(function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e},{}),Object.keys(c).map(function(e){return c[e]})));return s.orderedModifiers=p.filter(function(e){return e.enabled}),s.orderedModifiers.forEach(function(e){var t=e.name,i=e.options,n=void 0===i?{}:i,o=e.effect;if("function"==typeof o){var r=o({state:s,name:t,instance:d,options:n}),a=function(){};l.push(r||a)}}),d.update()},forceUpdate:function(){if(!c){var e=s.elements,t=e.reference,i=e.popper;if(Zs(t,i)){s.rects={reference:Gs(t,gs(i),"fixed"===s.options.strategy),popper:cs(i)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(e){return s.modifiersData[e.name]=Object.assign({},e.data)});for(var n=0;n<s.orderedModifiers.length;n++)if(!0!==s.reset){var o=s.orderedModifiers[n],r=o.fn,a=o.options,l=void 0===a?{}:a,u=o.name;"function"==typeof r&&(s=r({state:s,options:l,name:u,instance:d})||s)}else s.reset=!1,n=-1}}},update:(o=function(){return new Promise(function(e){d.forceUpdate(),e(s)})},function(){return a||(a=new Promise(function(e){Promise.resolve().then(function(){a=void 0,e(o())})})),a}),destroy:function(){u(),c=!0}};if(!Zs(e,t))return d;function u(){l.forEach(function(e){return e()}),l=[]}return d.setOptions(i).then(function(e){!c&&i.onFirstUpdate&&i.onFirstUpdate(e)}),d}}var Qs,Js,el,tl=Ys({defaultModifiers:[Os,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=js({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})},data:{}},xs,ts,zs,Us,qs,ws,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,o=t.rects.popper,r=t.modifiersData.preventOverflow,a=Vs(t,{elementContext:"reference"}),s=Vs(t,{altBoundary:!0}),l=Hs(a,n),c=Hs(s,o,r),d=Ws(l),u=Ws(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]}),il=["forEach","isDisjointFrom","isSubsetOf","isSupersetOf"],nl=["difference","intersection","symmetricDifference","union"],ol=!1;class rl extends Set{#y=new Map;#T=ke(0);#w=ke(0);#I=Ft||-1;constructor(e){if(super(),e){for(var t of e)super.add(t);this.#w.v=super.size}ol||this.#S()}#C(e){return Ft===this.#I?ke(e):_e(e)}#S(){ol=!0;var e=rl.prototype,t=Set.prototype;for(const i of il)e[i]=function(...e){return Gt(this.#T),t[i].apply(this,e)};for(const i of nl)e[i]=function(...e){Gt(this.#T);var n=t[i].apply(this,e);return new rl(n)}}has(e){var t=super.has(e),i=this.#y,n=i.get(e);if(void 0===n){if(!t)return Gt(this.#T),!1;n=this.#C(!0),i.set(e,n)}return Gt(n),t}add(e){return super.has(e)||(super.add(e),Me(this.#w,super.size),$e(this.#T)),this}delete(e){var t=super.delete(e),i=this.#y,n=i.get(e);return void 0!==n&&(i.delete(e),Me(n,!1)),t&&(Me(this.#w,super.size),$e(this.#T)),t}clear(){if(0!==super.size){super.clear();var e=this.#y;for(var t of e.values())Me(t,!1);e.clear(),Me(this.#w,0),$e(this.#T)}}keys(){return this.values()}values(){return Gt(this.#T),super.values()}entries(){return Gt(this.#T),super.entries()}[Symbol.iterator](){return this.keys()}get size(){return Gt(this.#w)}}class al extends Map{#y=new Map;#T=ke(0);#w=ke(0);#I=Ft||-1;constructor(e){if(super(),e){for(var[t,i]of e)super.set(t,i);this.#w.v=super.size}}#C(e){return Ft===this.#I?ke(e):_e(e)}has(e){var t=this.#y,i=t.get(e);if(void 0===i){if(void 0===super.get(e))return Gt(this.#T),!1;i=this.#C(0),t.set(e,i)}return Gt(i),!0}forEach(e,t){this.#x(),super.forEach(e,t)}get(e){var t=this.#y,i=t.get(e);if(void 0===i){if(void 0===super.get(e))return void Gt(this.#T);i=this.#C(0),t.set(e,i)}return Gt(i),super.get(e)}set(e,t){var i=this.#y,n=i.get(e),o=super.get(e),r=super.set(e,t),a=this.#T;if(void 0===n)n=this.#C(0),i.set(e,n),Me(this.#w,super.size),$e(a);else if(o!==t){$e(n);var s=null===a.reactions?null:new Set(a.reactions);(null===s||!n.reactions?.every(e=>s.has(e)))&&$e(a)}return r}delete(e){var t=this.#y,i=t.get(e),n=super.delete(e);return void 0!==i&&(t.delete(e),Me(this.#w,super.size),Me(i,-1),$e(this.#T)),n}clear(){if(0!==super.size){super.clear();var e=this.#y;for(var t of(Me(this.#w,0),e.values()))Me(t,-1);$e(this.#T),e.clear()}}#x(){Gt(this.#T);var e=this.#y;if(this.#w.v!==e.size)for(var t of super.keys())if(!e.has(t)){var i=this.#C(0);e.set(t,i)}for([,i]of this.#y)Gt(i)}keys(){return Gt(this.#T),super.keys()}values(){return this.#x(),super.values()}entries(){return this.#x(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return Gt(this.#w),super.size}}(Js=Qs||(Qs={})).assertEqual=e=>{},Js.assertIs=function(e){},Js.assertNever=function(e){throw new Error},Js.arrayToEnum=e=>{const t={};for(const i of e)t[i]=i;return t},Js.getValidEnumValues=e=>{const t=Js.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),i={};for(const n of t)i[n]=e[n];return Js.objectValues(i)},Js.objectValues=e=>Js.objectKeys(e).map(function(t){return e[t]}),Js.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t},Js.find=(e,t)=>{for(const i of e)if(t(i))return i},Js.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,Js.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},Js.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(el||(el={})).mergeShapes=(e,t)=>({...e,...t});const sl=Qs.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ll=e=>{switch(typeof e){case"undefined":return sl.undefined;case"string":return sl.string;case"number":return Number.isNaN(e)?sl.nan:sl.number;case"boolean":return sl.boolean;case"function":return sl.function;case"bigint":return sl.bigint;case"symbol":return sl.symbol;case"object":return Array.isArray(e)?sl.array:null===e?sl.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?sl.promise:"undefined"!=typeof Map&&e instanceof Map?sl.map:"undefined"!=typeof Set&&e instanceof Set?sl.set:"undefined"!=typeof Date&&e instanceof Date?sl.date:sl.object;default:return sl.unknown}},cl=Qs.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class dl extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},i={_errors:[]},n=e=>{for(const o of e.issues)if("invalid_union"===o.code)o.unionErrors.map(n);else if("invalid_return_type"===o.code)n(o.returnTypeError);else if("invalid_arguments"===o.code)n(o.argumentsError);else if(0===o.path.length)i._errors.push(t(o));else{let e=i,n=0;for(;n<o.path.length;){const i=o.path[n];n===o.path.length-1?(e[i]=e[i]||{_errors:[]},e[i]._errors.push(t(o))):e[i]=e[i]||{_errors:[]},e=e[i],n++}}};return n(this),i}static assert(e){if(!(e instanceof dl))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qs.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},i=[];for(const n of this.issues)if(n.path.length>0){const i=n.path[0];t[i]=t[i]||[],t[i].push(e(n))}else i.push(e(n));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}dl.create=e=>new dl(e);const ul=(e,t)=>{let i;switch(e.code){case cl.invalid_type:i=e.received===sl.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case cl.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(e.expected,Qs.jsonStringifyReplacer)}`;break;case cl.unrecognized_keys:i=`Unrecognized key(s) in object: ${Qs.joinValues(e.keys,", ")}`;break;case cl.invalid_union:i="Invalid input";break;case cl.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${Qs.joinValues(e.options)}`;break;case cl.invalid_enum_value:i=`Invalid enum value. Expected ${Qs.joinValues(e.options)}, received '${e.received}'`;break;case cl.invalid_arguments:i="Invalid function arguments";break;case cl.invalid_return_type:i="Invalid function return type";break;case cl.invalid_date:i="Invalid date";break;case cl.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(i=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(i=`${i} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?i=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?i=`Invalid input: must end with "${e.validation.endsWith}"`:Qs.assertNever(e.validation):i="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case cl.too_small:i="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case cl.too_big:i="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case cl.custom:i="Invalid input";break;case cl.invalid_intersection_types:i="Intersection results could not be merged";break;case cl.not_multiple_of:i=`Number must be a multiple of ${e.multipleOf}`;break;case cl.not_finite:i="Number must be finite";break;default:i=t.defaultError,Qs.assertNever(e)}return{message:i}};let pl=ul;function hl(e,t){const i=pl,n=(e=>{const{data:t,path:i,errorMaps:n,issueData:o}=e,r=[...i,...o.path||[]],a={...o,path:r};if(void 0!==o.message)return{...o,path:r,message:o.message};let s="";const l=n.filter(e=>!!e).slice().reverse();for(const c of l)s=c(a,{data:t,defaultError:s}).message;return{...o,path:r,message:s}})({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,i,i===ul?void 0:ul].filter(e=>!!e)});e.common.issues.push(n)}class fl{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const n of t){if("aborted"===n.status)return ml;"dirty"===n.status&&e.dirty(),i.push(n.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const n of t){const e=await n.key,t=await n.value;i.push({key:e,value:t})}return fl.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const n of t){const{key:t,value:o}=n;if("aborted"===t.status)return ml;if("aborted"===o.status)return ml;"dirty"===t.status&&e.dirty(),"dirty"===o.status&&e.dirty(),"__proto__"===t.value||void 0===o.value&&!n.alwaysSet||(i[t.value]=o.value)}return{status:e.value,value:i}}}const ml=Object.freeze({status:"aborted"}),gl=e=>({status:"dirty",value:e}),vl=e=>({status:"valid",value:e}),bl=e=>"aborted"===e.status,yl=e=>"dirty"===e.status,Tl=e=>"valid"===e.status,wl=e=>"undefined"!=typeof Promise&&e instanceof Promise;var Il,Sl;(Sl=Il||(Il={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},Sl.toString=e=>"string"==typeof e?e:e?.message;class Cl{constructor(e,t,i,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const xl=(e,t)=>{if(Tl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new dl(e.common.issues);return this._error=t,this._error}}};function Al(e){if(!e)return{};const{errorMap:t,invalid_type_error:i,required_error:n,description:o}=e;if(t&&(i||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:o};return{errorMap:(t,o)=>{const{message:r}=e;return"invalid_enum_value"===t.code?{message:r??o.defaultError}:void 0===o.data?{message:r??n??o.defaultError}:"invalid_type"!==t.code?{message:o.defaultError}:{message:r??i??o.defaultError}},description:o}}class Ol{get description(){return this._def.description}_getType(e){return ll(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ll(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new fl,ctx:{common:e.parent.common,data:e.data,parsedType:ll(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(wl(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){const i={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ll(e)},n=this._parseSync({data:e,path:i.path,parent:i});return xl(i,n)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ll(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:t});return Tl(i)?{value:i.value}:{issues:t.common.issues}}catch(i){i?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>Tl(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ll(e)},n=this._parse({data:e,path:i.path,parent:i}),o=await(wl(n)?n:Promise.resolve(n));return xl(i,o)}refine(e,t){const i=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{const o=e(t),r=()=>n.addIssue({code:cl.custom,...i(t)});return"undefined"!=typeof Promise&&o instanceof Promise?o.then(e=>!!e||(r(),!1)):!!o||(r(),!1)})}refinement(e,t){return this._refinement((i,n)=>!!e(i)||(n.addIssue("function"==typeof t?t(i,n):t),!1))}_refinement(e){return new xc({schema:this,typeName:$c.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Ac.create(this,this._def)}nullable(){return Oc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dc.create(this)}promise(){return Cc.create(this,this._def)}or(e){return hc.create([this,e],this._def)}and(e){return mc.create(this,e,this._def)}transform(e){return new xc({...Al(this._def),schema:this,typeName:$c.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new Ec({...Al(this._def),innerType:this,defaultValue:t,typeName:$c.ZodDefault})}brand(){return new Rc({typeName:$c.ZodBranded,type:this,...Al(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new _c({...Al(this._def),innerType:this,catchValue:t,typeName:$c.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Mc.create(this,e)}readonly(){return Dc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const El=/^c[^\s-]{8,}$/i,_l=/^[0-9a-z]+$/,kl=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Rl=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ml=/^[a-z0-9_-]{21}$/i,Dl=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,$l=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Bl=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Fl;const Ll=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Nl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Pl=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,jl=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Vl=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ul=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Hl="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Wl=new RegExp(`^${Hl}$`);function zl(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function ql(e){return new RegExp(`^${zl(e)}$`)}function Gl(e){let t=`${Hl}T${zl(e)}`;const i=[];return i.push(e.local?"Z?":"Z"),e.offset&&i.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${i.join("|")})`,new RegExp(`^${t}$`)}function Xl(e,t){return!("v4"!==t&&t||!Ll.test(e))||!("v6"!==t&&t||!Pl.test(e))}function Kl(e,t){if(!Dl.test(e))return!1;try{const[i]=e.split(".");if(!i)return!1;const n=i.replace(/-/g,"+").replace(/_/g,"/").padEnd(i.length+(4-i.length%4)%4,"="),o=JSON.parse(atob(n));return"object"==typeof o&&null!==o&&((!("typ"in o)||"JWT"===o?.typ)&&(!!o.alg&&(!t||o.alg===t)))}catch{return!1}}function Zl(e,t){return!("v4"!==t&&t||!Nl.test(e))||!("v6"!==t&&t||!jl.test(e))}class Yl extends Ol{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==sl.string){const t=this._getOrReturnCtx(e);return hl(t,{code:cl.invalid_type,expected:sl.string,received:t.parsedType}),ml}const t=new fl;let i;for(const n of this._def.checks)if("min"===n.kind)e.data.length<n.value&&(i=this._getOrReturnCtx(e,i),hl(i,{code:cl.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),t.dirty());else if("max"===n.kind)e.data.length>n.value&&(i=this._getOrReturnCtx(e,i),hl(i,{code:cl.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),t.dirty());else if("length"===n.kind){const o=e.data.length>n.value,r=e.data.length<n.value;(o||r)&&(i=this._getOrReturnCtx(e,i),o?hl(i,{code:cl.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):r&&hl(i,{code:cl.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),t.dirty())}else if("email"===n.kind)Bl.test(e.data)||(i=this._getOrReturnCtx(e,i),hl(i,{validation:"email",code:cl.invalid_string,message:n.message}),t.dirty());else if("emoji"===n.kind)Fl||(Fl=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Fl.test(e.data)||(i=this._getOrReturnCtx(e,i),hl(i,{validation:"emoji",code:cl.invalid_string,message:n.message}),t.dirty());else if("uuid"===n.kind)Rl.test(e.data)||(i=this._getOrReturnCtx(e,i),hl(i,{validation:"uuid",code:cl.invalid_string,message:n.message}),t.dirty());else if("nanoid"===n.kind)Ml.test(e.data)||(i=this._getOrReturnCtx(e,i),hl(i,{validation:"nanoid",code:cl.invalid_string,message:n.message}),t.dirty());else if("cuid"===n.kind)El.test(e.data)||(i=this._getOrReturnCtx(e,i),hl(i,{validation:"cuid",code:cl.invalid_string,message:n.message}),t.dirty());else if("cuid2"===n.kind)_l.test(e.data)||(i=this._getOrReturnCtx(e,i),hl(i,{validation:"cuid2",code:cl.invalid_string,message:n.message}),t.dirty());else if("ulid"===n.kind)kl.test(e.data)||(i=this._getOrReturnCtx(e,i),hl(i,{validation:"ulid",code:cl.invalid_string,message:n.message}),t.dirty());else if("url"===n.kind)try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),hl(i,{validation:"url",code:cl.invalid_string,message:n.message}),t.dirty()}else if("regex"===n.kind){n.regex.lastIndex=0;n.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),hl(i,{validation:"regex",code:cl.invalid_string,message:n.message}),t.dirty())}else if("trim"===n.kind)e.data=e.data.trim();else if("includes"===n.kind)e.data.includes(n.value,n.position)||(i=this._getOrReturnCtx(e,i),hl(i,{code:cl.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),t.dirty());else if("toLowerCase"===n.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===n.kind)e.data=e.data.toUpperCase();else if("startsWith"===n.kind)e.data.startsWith(n.value)||(i=this._getOrReturnCtx(e,i),hl(i,{code:cl.invalid_string,validation:{startsWith:n.value},message:n.message}),t.dirty());else if("endsWith"===n.kind)e.data.endsWith(n.value)||(i=this._getOrReturnCtx(e,i),hl(i,{code:cl.invalid_string,validation:{endsWith:n.value},message:n.message}),t.dirty());else if("datetime"===n.kind){Gl(n).test(e.data)||(i=this._getOrReturnCtx(e,i),hl(i,{code:cl.invalid_string,validation:"datetime",message:n.message}),t.dirty())}else if("date"===n.kind){Wl.test(e.data)||(i=this._getOrReturnCtx(e,i),hl(i,{code:cl.invalid_string,validation:"date",message:n.message}),t.dirty())}else if("time"===n.kind){ql(n).test(e.data)||(i=this._getOrReturnCtx(e,i),hl(i,{code:cl.invalid_string,validation:"time",message:n.message}),t.dirty())}else"duration"===n.kind?$l.test(e.data)||(i=this._getOrReturnCtx(e,i),hl(i,{validation:"duration",code:cl.invalid_string,message:n.message}),t.dirty()):"ip"===n.kind?Xl(e.data,n.version)||(i=this._getOrReturnCtx(e,i),hl(i,{validation:"ip",code:cl.invalid_string,message:n.message}),t.dirty()):"jwt"===n.kind?Kl(e.data,n.alg)||(i=this._getOrReturnCtx(e,i),hl(i,{validation:"jwt",code:cl.invalid_string,message:n.message}),t.dirty()):"cidr"===n.kind?Zl(e.data,n.version)||(i=this._getOrReturnCtx(e,i),hl(i,{validation:"cidr",code:cl.invalid_string,message:n.message}),t.dirty()):"base64"===n.kind?Vl.test(e.data)||(i=this._getOrReturnCtx(e,i),hl(i,{validation:"base64",code:cl.invalid_string,message:n.message}),t.dirty()):"base64url"===n.kind?Ul.test(e.data)||(i=this._getOrReturnCtx(e,i),hl(i,{validation:"base64url",code:cl.invalid_string,message:n.message}),t.dirty()):Qs.assertNever(n);return{status:t.value,value:e.data}}_regex(e,t,i){return this.refinement(t=>e.test(t),{validation:t,code:cl.invalid_string,...Il.errToObj(i)})}_addCheck(e){return new Yl({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Il.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Il.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Il.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Il.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Il.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Il.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Il.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Il.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Il.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Il.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Il.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Il.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Il.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Il.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...Il.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Il.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Il.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...Il.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Il.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Il.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Il.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Il.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Il.errToObj(t)})}nonempty(e){return this.min(1,Il.errToObj(e))}trim(){return new Yl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Yl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Yl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Ql(e,t){const i=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,o=i>n?i:n;return Number.parseInt(e.toFixed(o).replace(".",""))%Number.parseInt(t.toFixed(o).replace(".",""))/10**o}Yl.create=e=>new Yl({checks:[],typeName:$c.ZodString,coerce:e?.coerce??!1,...Al(e)});class Jl extends Ol{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==sl.number){const t=this._getOrReturnCtx(e);return hl(t,{code:cl.invalid_type,expected:sl.number,received:t.parsedType}),ml}let t;const i=new fl;for(const n of this._def.checks)if("int"===n.kind)Qs.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),hl(t,{code:cl.invalid_type,expected:"integer",received:"float",message:n.message}),i.dirty());else if("min"===n.kind){(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),hl(t,{code:cl.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),i.dirty())}else if("max"===n.kind){(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),hl(t,{code:cl.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),i.dirty())}else"multipleOf"===n.kind?0!==Ql(e.data,n.value)&&(t=this._getOrReturnCtx(e,t),hl(t,{code:cl.not_multiple_of,multipleOf:n.value,message:n.message}),i.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),hl(t,{code:cl.not_finite,message:n.message}),i.dirty()):Qs.assertNever(n);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Il.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Il.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Il.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Il.toString(t))}setLimit(e,t,i,n){return new Jl({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:Il.toString(n)}]})}_addCheck(e){return new Jl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Il.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Il.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Il.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Il.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Il.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Il.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Il.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Il.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Il.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&Qs.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if("finite"===i.kind||"int"===i.kind||"multipleOf"===i.kind)return!0;"min"===i.kind?(null===t||i.value>t)&&(t=i.value):"max"===i.kind&&(null===e||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Jl.create=e=>new Jl({checks:[],typeName:$c.ZodNumber,coerce:e?.coerce||!1,...Al(e)});class ec extends Ol{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==sl.bigint)return this._getInvalidInput(e);let t;const i=new fl;for(const n of this._def.checks)if("min"===n.kind){(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),hl(t,{code:cl.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),i.dirty())}else if("max"===n.kind){(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),hl(t,{code:cl.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),i.dirty())}else"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),hl(t,{code:cl.not_multiple_of,multipleOf:n.value,message:n.message}),i.dirty()):Qs.assertNever(n);return{status:i.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return hl(t,{code:cl.invalid_type,expected:sl.bigint,received:t.parsedType}),ml}gte(e,t){return this.setLimit("min",e,!0,Il.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Il.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Il.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Il.toString(t))}setLimit(e,t,i,n){return new ec({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:Il.toString(n)}]})}_addCheck(e){return new ec({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Il.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Il.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Il.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Il.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Il.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ec.create=e=>new ec({checks:[],typeName:$c.ZodBigInt,coerce:e?.coerce??!1,...Al(e)});class tc extends Ol{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==sl.boolean){const t=this._getOrReturnCtx(e);return hl(t,{code:cl.invalid_type,expected:sl.boolean,received:t.parsedType}),ml}return vl(e.data)}}tc.create=e=>new tc({typeName:$c.ZodBoolean,coerce:e?.coerce||!1,...Al(e)});class ic extends Ol{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==sl.date){const t=this._getOrReturnCtx(e);return hl(t,{code:cl.invalid_type,expected:sl.date,received:t.parsedType}),ml}if(Number.isNaN(e.data.getTime())){return hl(this._getOrReturnCtx(e),{code:cl.invalid_date}),ml}const t=new fl;let i;for(const n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(i=this._getOrReturnCtx(e,i),hl(i,{code:cl.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),t.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(i=this._getOrReturnCtx(e,i),hl(i,{code:cl.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),t.dirty()):Qs.assertNever(n);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ic({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Il.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Il.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}ic.create=e=>new ic({checks:[],coerce:e?.coerce||!1,typeName:$c.ZodDate,...Al(e)});class nc extends Ol{_parse(e){if(this._getType(e)!==sl.symbol){const t=this._getOrReturnCtx(e);return hl(t,{code:cl.invalid_type,expected:sl.symbol,received:t.parsedType}),ml}return vl(e.data)}}nc.create=e=>new nc({typeName:$c.ZodSymbol,...Al(e)});class oc extends Ol{_parse(e){if(this._getType(e)!==sl.undefined){const t=this._getOrReturnCtx(e);return hl(t,{code:cl.invalid_type,expected:sl.undefined,received:t.parsedType}),ml}return vl(e.data)}}oc.create=e=>new oc({typeName:$c.ZodUndefined,...Al(e)});class rc extends Ol{_parse(e){if(this._getType(e)!==sl.null){const t=this._getOrReturnCtx(e);return hl(t,{code:cl.invalid_type,expected:sl.null,received:t.parsedType}),ml}return vl(e.data)}}rc.create=e=>new rc({typeName:$c.ZodNull,...Al(e)});class ac extends Ol{constructor(){super(...arguments),this._any=!0}_parse(e){return vl(e.data)}}ac.create=e=>new ac({typeName:$c.ZodAny,...Al(e)});class sc extends Ol{constructor(){super(...arguments),this._unknown=!0}_parse(e){return vl(e.data)}}sc.create=e=>new sc({typeName:$c.ZodUnknown,...Al(e)});class lc extends Ol{_parse(e){const t=this._getOrReturnCtx(e);return hl(t,{code:cl.invalid_type,expected:sl.never,received:t.parsedType}),ml}}lc.create=e=>new lc({typeName:$c.ZodNever,...Al(e)});class cc extends Ol{_parse(e){if(this._getType(e)!==sl.undefined){const t=this._getOrReturnCtx(e);return hl(t,{code:cl.invalid_type,expected:sl.void,received:t.parsedType}),ml}return vl(e.data)}}cc.create=e=>new cc({typeName:$c.ZodVoid,...Al(e)});class dc extends Ol{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),n=this._def;if(t.parsedType!==sl.array)return hl(t,{code:cl.invalid_type,expected:sl.array,received:t.parsedType}),ml;if(null!==n.exactLength){const e=t.data.length>n.exactLength.value,o=t.data.length<n.exactLength.value;(e||o)&&(hl(t,{code:e?cl.too_big:cl.too_small,minimum:o?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),i.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(hl(t,{code:cl.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),i.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(hl(t,{code:cl.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((e,i)=>n.type._parseAsync(new Cl(t,e,t.path,i)))).then(e=>fl.mergeArray(i,e));const o=[...t.data].map((e,i)=>n.type._parseSync(new Cl(t,e,t.path,i)));return fl.mergeArray(i,o)}get element(){return this._def.type}min(e,t){return new dc({...this._def,minLength:{value:e,message:Il.toString(t)}})}max(e,t){return new dc({...this._def,maxLength:{value:e,message:Il.toString(t)}})}length(e,t){return new dc({...this._def,exactLength:{value:e,message:Il.toString(t)}})}nonempty(e){return this.min(1,e)}}function uc(e){if(e instanceof pc){const t={};for(const i in e.shape){const n=e.shape[i];t[i]=Ac.create(uc(n))}return new pc({...e._def,shape:()=>t})}return e instanceof dc?new dc({...e._def,type:uc(e.element)}):e instanceof Ac?Ac.create(uc(e.unwrap())):e instanceof Oc?Oc.create(uc(e.unwrap())):e instanceof gc?gc.create(e.items.map(e=>uc(e))):e}dc.create=(e,t)=>new dc({type:e,minLength:null,maxLength:null,exactLength:null,typeName:$c.ZodArray,...Al(t)});class pc extends Ol{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Qs.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==sl.object){const t=this._getOrReturnCtx(e);return hl(t,{code:cl.invalid_type,expected:sl.object,received:t.parsedType}),ml}const{status:t,ctx:i}=this._processInputParams(e),{shape:n,keys:o}=this._getCached(),r=[];if(!(this._def.catchall instanceof lc&&"strip"===this._def.unknownKeys))for(const s in i.data)o.includes(s)||r.push(s);const a=[];for(const s of o){const e=n[s],t=i.data[s];a.push({key:{status:"valid",value:s},value:e._parse(new Cl(i,t,i.path,s)),alwaysSet:s in i.data})}if(this._def.catchall instanceof lc){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of r)a.push({key:{status:"valid",value:t},value:{status:"valid",value:i.data[t]}});else if("strict"===e)r.length>0&&(hl(i,{code:cl.unrecognized_keys,keys:r}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of r){const n=i.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new Cl(i,n,i.path,t)),alwaysSet:t in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of a){const i=await t.key,n=await t.value;e.push({key:i,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>fl.mergeObjectSync(t,e)):fl.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return Il.errToObj,new pc({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,i)=>{const n=this._def.errorMap?.(t,i).message??i.defaultError;return"unrecognized_keys"===t.code?{message:Il.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new pc({...this._def,unknownKeys:"strip"})}passthrough(){return new pc({...this._def,unknownKeys:"passthrough"})}extend(e){return new pc({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new pc({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$c.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new pc({...this._def,catchall:e})}pick(e){const t={};for(const i of Qs.objectKeys(e))e[i]&&this.shape[i]&&(t[i]=this.shape[i]);return new pc({...this._def,shape:()=>t})}omit(e){const t={};for(const i of Qs.objectKeys(this.shape))e[i]||(t[i]=this.shape[i]);return new pc({...this._def,shape:()=>t})}deepPartial(){return uc(this)}partial(e){const t={};for(const i of Qs.objectKeys(this.shape)){const n=this.shape[i];e&&!e[i]?t[i]=n:t[i]=n.optional()}return new pc({...this._def,shape:()=>t})}required(e){const t={};for(const i of Qs.objectKeys(this.shape))if(e&&!e[i])t[i]=this.shape[i];else{let e=this.shape[i];for(;e instanceof Ac;)e=e._def.innerType;t[i]=e}return new pc({...this._def,shape:()=>t})}keyof(){return wc(Qs.objectKeys(this.shape))}}pc.create=(e,t)=>new pc({shape:()=>e,unknownKeys:"strip",catchall:lc.create(),typeName:$c.ZodObject,...Al(t)}),pc.strictCreate=(e,t)=>new pc({shape:()=>e,unknownKeys:"strict",catchall:lc.create(),typeName:$c.ZodObject,...Al(t)}),pc.lazycreate=(e,t)=>new pc({shape:e,unknownKeys:"strip",catchall:lc.create(),typeName:$c.ZodObject,...Al(t)});class hc extends Ol{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;if(t.common.async)return Promise.all(i.map(async e=>{const i={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const i=e.map(e=>new dl(e.ctx.common.issues));return hl(t,{code:cl.invalid_union,unionErrors:i}),ml});{let e;const n=[];for(const r of i){const i={...t,common:{...t.common,issues:[]},parent:null},o=r._parseSync({data:t.data,path:t.path,parent:i});if("valid"===o.status)return o;"dirty"!==o.status||e||(e={result:o,ctx:i}),i.common.issues.length&&n.push(i.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const o=n.map(e=>new dl(e));return hl(t,{code:cl.invalid_union,unionErrors:o}),ml}}get options(){return this._def.options}}function fc(e,t){const i=ll(e),n=ll(t);if(e===t)return{valid:!0,data:e};if(i===sl.object&&n===sl.object){const i=Qs.objectKeys(t),n=Qs.objectKeys(e).filter(e=>-1!==i.indexOf(e)),o={...e,...t};for(const r of n){const i=fc(e[r],t[r]);if(!i.valid)return{valid:!1};o[r]=i.data}return{valid:!0,data:o}}if(i===sl.array&&n===sl.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let n=0;n<e.length;n++){const o=fc(e[n],t[n]);if(!o.valid)return{valid:!1};i.push(o.data)}return{valid:!0,data:i}}return i===sl.date&&n===sl.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}hc.create=(e,t)=>new hc({options:e,typeName:$c.ZodUnion,...Al(t)});class mc extends Ol{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),n=(e,n)=>{if(bl(e)||bl(n))return ml;const o=fc(e.value,n.value);return o.valid?((yl(e)||yl(n))&&t.dirty(),{status:t.value,value:o.data}):(hl(i,{code:cl.invalid_intersection_types}),ml)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}mc.create=(e,t,i)=>new mc({left:e,right:t,typeName:$c.ZodIntersection,...Al(i)});class gc extends Ol{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==sl.array)return hl(i,{code:cl.invalid_type,expected:sl.array,received:i.parsedType}),ml;if(i.data.length<this._def.items.length)return hl(i,{code:cl.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ml;!this._def.rest&&i.data.length>this._def.items.length&&(hl(i,{code:cl.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const n=[...i.data].map((e,t)=>{const n=this._def.items[t]||this._def.rest;return n?n._parse(new Cl(i,e,i.path,t)):null}).filter(e=>!!e);return i.common.async?Promise.all(n).then(e=>fl.mergeArray(t,e)):fl.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new gc({...this._def,rest:e})}}gc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new gc({items:e,typeName:$c.ZodTuple,rest:null,...Al(t)})};class vc extends Ol{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==sl.map)return hl(i,{code:cl.invalid_type,expected:sl.map,received:i.parsedType}),ml;const n=this._def.keyType,o=this._def.valueType,r=[...i.data.entries()].map(([e,t],r)=>({key:n._parse(new Cl(i,e,i.path,[r,"key"])),value:o._parse(new Cl(i,t,i.path,[r,"value"]))}));if(i.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const i of r){const n=await i.key,o=await i.value;if("aborted"===n.status||"aborted"===o.status)return ml;"dirty"!==n.status&&"dirty"!==o.status||t.dirty(),e.set(n.value,o.value)}return{status:t.value,value:e}})}{const e=new Map;for(const i of r){const n=i.key,o=i.value;if("aborted"===n.status||"aborted"===o.status)return ml;"dirty"!==n.status&&"dirty"!==o.status||t.dirty(),e.set(n.value,o.value)}return{status:t.value,value:e}}}}vc.create=(e,t,i)=>new vc({valueType:t,keyType:e,typeName:$c.ZodMap,...Al(i)});class bc extends Ol{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==sl.set)return hl(i,{code:cl.invalid_type,expected:sl.set,received:i.parsedType}),ml;const n=this._def;null!==n.minSize&&i.data.size<n.minSize.value&&(hl(i,{code:cl.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&i.data.size>n.maxSize.value&&(hl(i,{code:cl.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const o=this._def.valueType;function r(e){const i=new Set;for(const n of e){if("aborted"===n.status)return ml;"dirty"===n.status&&t.dirty(),i.add(n.value)}return{status:t.value,value:i}}const a=[...i.data.values()].map((e,t)=>o._parse(new Cl(i,e,i.path,t)));return i.common.async?Promise.all(a).then(e=>r(e)):r(a)}min(e,t){return new bc({...this._def,minSize:{value:e,message:Il.toString(t)}})}max(e,t){return new bc({...this._def,maxSize:{value:e,message:Il.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}bc.create=(e,t)=>new bc({valueType:e,minSize:null,maxSize:null,typeName:$c.ZodSet,...Al(t)});class yc extends Ol{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}yc.create=(e,t)=>new yc({getter:e,typeName:$c.ZodLazy,...Al(t)});class Tc extends Ol{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return hl(t,{received:t.data,code:cl.invalid_literal,expected:this._def.value}),ml}return{status:"valid",value:e.data}}get value(){return this._def.value}}function wc(e,t){return new Ic({values:e,typeName:$c.ZodEnum,...Al(t)})}Tc.create=(e,t)=>new Tc({value:e,typeName:$c.ZodLiteral,...Al(t)});class Ic extends Ol{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),i=this._def.values;return hl(t,{expected:Qs.joinValues(i),received:t.parsedType,code:cl.invalid_type}),ml}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return hl(t,{received:t.data,code:cl.invalid_enum_value,options:i}),ml}return vl(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Ic.create(e,{...this._def,...t})}exclude(e,t=this._def){return Ic.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}Ic.create=wc;class Sc extends Ol{_parse(e){const t=Qs.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==sl.string&&i.parsedType!==sl.number){const e=Qs.objectValues(t);return hl(i,{expected:Qs.joinValues(e),received:i.parsedType,code:cl.invalid_type}),ml}if(this._cache||(this._cache=new Set(Qs.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=Qs.objectValues(t);return hl(i,{received:i.data,code:cl.invalid_enum_value,options:e}),ml}return vl(e.data)}get enum(){return this._def.values}}Sc.create=(e,t)=>new Sc({values:e,typeName:$c.ZodNativeEnum,...Al(t)});class Cc extends Ol{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==sl.promise&&!1===t.common.async)return hl(t,{code:cl.invalid_type,expected:sl.promise,received:t.parsedType}),ml;const i=t.parsedType===sl.promise?t.data:Promise.resolve(t.data);return vl(i.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Cc.create=(e,t)=>new Cc({type:e,typeName:$c.ZodPromise,...Al(t)});class xc extends Ol{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$c.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),n=this._def.effect||null,o={addIssue:e=>{hl(i,e),e.fatal?t.abort():t.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),"preprocess"===n.type){const e=n.transform(i.data,o);if(i.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return ml;const n=await this._def.schema._parseAsync({data:e,path:i.path,parent:i});return"aborted"===n.status?ml:"dirty"===n.status||"dirty"===t.value?gl(n.value):n});{if("aborted"===t.value)return ml;const n=this._def.schema._parseSync({data:e,path:i.path,parent:i});return"aborted"===n.status?ml:"dirty"===n.status||"dirty"===t.value?gl(n.value):n}}if("refinement"===n.type){const e=e=>{const t=n.refinement(e,o);if(i.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===i.common.async){const n=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===n.status?ml:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(i=>"aborted"===i.status?ml:("dirty"===i.status&&t.dirty(),e(i.value).then(()=>({status:t.value,value:i.value}))))}if("transform"===n.type){if(!1===i.common.async){const e=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Tl(e))return ml;const r=n.transform(e.value,o);if(r instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:r}}return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(e=>Tl(e)?Promise.resolve(n.transform(e.value,o)).then(e=>({status:t.value,value:e})):ml)}Qs.assertNever(n)}}xc.create=(e,t,i)=>new xc({schema:e,typeName:$c.ZodEffects,effect:t,...Al(i)}),xc.createWithPreprocess=(e,t,i)=>new xc({schema:t,effect:{type:"preprocess",transform:e},typeName:$c.ZodEffects,...Al(i)});class Ac extends Ol{_parse(e){return this._getType(e)===sl.undefined?vl(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ac.create=(e,t)=>new Ac({innerType:e,typeName:$c.ZodOptional,...Al(t)});class Oc extends Ol{_parse(e){return this._getType(e)===sl.null?vl(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Oc.create=(e,t)=>new Oc({innerType:e,typeName:$c.ZodNullable,...Al(t)});class Ec extends Ol{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===sl.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Ec.create=(e,t)=>new Ec({innerType:e,typeName:$c.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...Al(t)});class _c extends Ol{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return wl(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new dl(i.common.issues)},input:i.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new dl(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}_c.create=(e,t)=>new _c({innerType:e,typeName:$c.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...Al(t)});class kc extends Ol{_parse(e){if(this._getType(e)!==sl.nan){const t=this._getOrReturnCtx(e);return hl(t,{code:cl.invalid_type,expected:sl.nan,received:t.parsedType}),ml}return{status:"valid",value:e.data}}}kc.create=e=>new kc({typeName:$c.ZodNaN,...Al(e)});class Rc extends Ol{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class Mc extends Ol{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return"aborted"===e.status?ml:"dirty"===e.status?(t.dirty(),gl(e.value)):this._def.out._parseAsync({data:e.value,path:i.path,parent:i})})()}{const e=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===e.status?ml:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:i.path,parent:i})}}static create(e,t){return new Mc({in:e,out:t,typeName:$c.ZodPipeline})}}class Dc extends Ol{_parse(e){const t=this._def.innerType._parse(e),i=e=>(Tl(e)&&(e.value=Object.freeze(e.value)),e);return wl(t)?t.then(e=>i(e)):i(t)}unwrap(){return this._def.innerType}}var $c,Bc;Dc.create=(e,t)=>new Dc({innerType:e,typeName:$c.ZodReadonly,...Al(t)}),(Bc=$c||($c={})).ZodString="ZodString",Bc.ZodNumber="ZodNumber",Bc.ZodNaN="ZodNaN",Bc.ZodBigInt="ZodBigInt",Bc.ZodBoolean="ZodBoolean",Bc.ZodDate="ZodDate",Bc.ZodSymbol="ZodSymbol",Bc.ZodUndefined="ZodUndefined",Bc.ZodNull="ZodNull",Bc.ZodAny="ZodAny",Bc.ZodUnknown="ZodUnknown",Bc.ZodNever="ZodNever",Bc.ZodVoid="ZodVoid",Bc.ZodArray="ZodArray",Bc.ZodObject="ZodObject",Bc.ZodUnion="ZodUnion",Bc.ZodDiscriminatedUnion="ZodDiscriminatedUnion",Bc.ZodIntersection="ZodIntersection",Bc.ZodTuple="ZodTuple",Bc.ZodRecord="ZodRecord",Bc.ZodMap="ZodMap",Bc.ZodSet="ZodSet",Bc.ZodFunction="ZodFunction",Bc.ZodLazy="ZodLazy",Bc.ZodLiteral="ZodLiteral",Bc.ZodEnum="ZodEnum",Bc.ZodEffects="ZodEffects",Bc.ZodNativeEnum="ZodNativeEnum",Bc.ZodOptional="ZodOptional",Bc.ZodNullable="ZodNullable",Bc.ZodDefault="ZodDefault",Bc.ZodCatch="ZodCatch",Bc.ZodPromise="ZodPromise",Bc.ZodBranded="ZodBranded",Bc.ZodPipeline="ZodPipeline",Bc.ZodReadonly="ZodReadonly",Yl.create,Jl.create,ec.create,tc.create,ic.create,lc.create;const Fc=dc.create,Lc=pc.create;hc.create,mc.create,gc.create,Ic.create,Cc.create,Ac.create,Oc.create;const Nc=xc.createWithPreprocess,Pc=e=>Jl.create({...e,coerce:!0});
/*!
   * canvas-size
   * v2.0.0
   * https://github.com/jhildenbiddle/canvas-size
   * (c) 2015-2024 John Hildenbiddle <http://hildenbiddle.com>
   * MIT license
   */
function jc(e){const t=e.sizes.shift(),i=Math.max(Math.ceil(t[0]),1),n=Math.max(Math.ceil(t[1]),1),o=[i-1,n-1,1,1],r=performance.now(),a="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;let s,l;a?(s=new OffscreenCanvas(1,1),l=new OffscreenCanvas(i,n)):(s=document.createElement("canvas"),s.width=1,s.height=1,l=document.createElement("canvas"),l.width=i,l.height=n);const c=s.getContext("2d"),d=l.getContext("2d");d&&(d.fillRect.apply(d,o),c.drawImage(l,i-1,n-1,1,1,0,0,1,1));const u=c&&0!==c.getImageData(0,0,1,1).data[3],p=parseInt(performance.now()-r);return[s,l].forEach(e=>{e.height=0,e.width=0}),a?(postMessage({width:i,height:n,testTime:p,isTestPass:u}),!u&&e.sizes.length&&setTimeout(()=>{jc(e)},0)):u?e.onSuccess({width:i,height:n,testTime:p}):(e.onError({width:i,height:n,testTime:p}),e.sizes.length&&setTimeout(()=>{jc(e)},0)),u}const Vc={area:[16384,14188,11402,11180,10836,8192,4096,1],height:[8388607,65535,32767,16384,8192,4096,1],width:[4194303,65535,32767,16384,8192,4096,1]},Uc={max:null,min:1,sizes:[],step:1024,useWorker:!1,onError:Function.prototype,onSuccess:Function.prototype},Hc={};function Wc(e){const t=e.width===e.height,i=1===e.height,n=1===e.width,o=[];if(e.width&&e.height){const r=e.min||Uc.min,a=e.step||Uc.step;let s=Math.max(e.width,e.height);for(;s>=r;){const e=t||i?s:1,r=t||n?s:1;o.push([e,r]),s-=a}}else e.sizes.forEach(e=>{const r=t||i?e:1,a=t||n?e:1;o.push([r,a])});return o}function zc(e){const t="undefined"!=typeof window,i=t&&"Promise"in window,n=t&&"HTMLCanvasElement"in window,o=t&&"OffscreenCanvas"in window,r=URL.createObjectURL(new Blob([])).slice(-36),a=performance.now(),{onError:s,onSuccess:l,...c}=e,d=()=>parseInt(performance.now()-a);let u=null;if(!n)return!1;if(e.useWorker&&o){const e=`\n            var canvasTest = ${jc.toString()};\n            onmessage = function(e) {\n                canvasTest(e.data);\n            };\n        `,t=new Blob([e],{type:"application/javascript"}),i=URL.createObjectURL(t);u=new Worker(i),URL.revokeObjectURL(i),u.onmessage=function(e){const{width:t,height:i,testTime:n,isTestPass:o}=e.data,a={width:t,height:i,testTime:n,totalTime:d()};o?(Hc[r].onSuccess(a),delete Hc[r]):Hc[r].onError(a)}}return i?new Promise(t=>{const i={...e,onError(i){let{width:n,height:o,testTime:r}=i;const a={width:n,height:o,testTime:r,totalTime:d()};let l;if(0===e.sizes.length)l=!0;else{const[[t,i]]=e.sizes.slice(-1);l=n===t&&o===i}s(a),l&&t({...a,success:!1})},onSuccess(e){let{width:i,height:n,testTime:o}=e;const r={width:i,height:n,testTime:o,totalTime:d()};l(r),t({...r,success:!0})}};if(u){const{onError:e,onSuccess:t}=i;Hc[r]={onError:e,onSuccess:t},u.postMessage(c)}else jc(i)}):u?(Hc[r]={onError:s,onSuccess:l},void u.postMessage(c)):jc(e)}const qc={maxArea(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Wc({width:e.max,height:e.max,min:e.min,step:e.step,sizes:[...Vc.area]});return zc({...Uc,...e,sizes:t})},maxHeight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Wc({width:1,height:e.max,min:e.min,step:e.step,sizes:[...Vc.height]});return zc({...Uc,...e,sizes:t})},maxWidth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Wc({width:e.max,height:1,min:e.min,step:e.step,sizes:[...Vc.width]});return zc({...Uc,...e,sizes:t})},test(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={...Uc,...e};return t.sizes=[...t.sizes],t.width&&t.height&&(t.sizes=[[t.width,t.height]]),zc(t)}};const Gc=(()=>{let e=0;return()=>(e+=1,`u${`0000${(Math.random()*36**4|0).toString(36)}`.slice(-4)}${e}`)})();function Xc(e){const t=[];for(let i=0,n=e.length;i<n;i++)t.push(e[i]);return t}let Kc=null;function Zc(e={}){return Kc||(e.includeStyleProperties?(Kc=e.includeStyleProperties,Kc):(Kc=Xc(window.getComputedStyle(document.documentElement)),Kc))}function Yc(e,t){const i=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return i?parseFloat(i.replace("px","")):0}function Qc(e,t={}){return{width:t.width||function(e){const t=Yc(e,"border-left-width"),i=Yc(e,"border-right-width");return e.clientWidth+t+i}(e),height:t.height||function(e){const t=Yc(e,"border-top-width"),i=Yc(e,"border-bottom-width");return e.clientHeight+t+i}(e)}}const Jc=16384;function ed(e){return new Promise((t,i)=>{const n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>t(n))})},n.onerror=i,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function td(e,t,i){const n="http://www.w3.org/2000/svg",o=document.createElementNS(n,"svg"),r=document.createElementNS(n,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${i}`),o.setAttribute("viewBox",`0 0 ${t} ${i}`),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("x","0"),r.setAttribute("y","0"),r.setAttribute("externalResourcesRequired","true"),o.appendChild(r),r.appendChild(e),async function(e){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(e)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}(o)}const id=(e,t)=>{if(e instanceof t)return!0;const i=Object.getPrototypeOf(e);return null!==i&&(i.constructor.name===t.name||id(i,t))};function nd(e,t,i,n){const o=`.${e}:${t}`,r=i.cssText?function(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}(i):function(e,t){return Zc(t).map(t=>`${t}: ${e.getPropertyValue(t)}${e.getPropertyPriority(t)?" !important":""};`).join(" ")}(i,n);return document.createTextNode(`${o}{${r}}`)}function od(e,t,i,n){const o=window.getComputedStyle(e,i),r=o.getPropertyValue("content");if(""===r||"none"===r)return;const a=Gc();try{t.className=`${t.className} ${a}`}catch(l){return}const s=document.createElement("style");s.appendChild(nd(a,i,o,n)),t.appendChild(s)}const rd="application/font-woff",ad="image/jpeg",sd={woff:rd,woff2:rd,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:ad,jpeg:ad,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function ld(e){const t=function(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}(e).toLowerCase();return sd[t]||""}function cd(e){return-1!==e.search(/^(data:)/)}async function dd(e,t,i){const n=await fetch(e,t);if(404===n.status)throw new Error(`Resource "${n.url}" not found`);const o=await n.blob();return new Promise((e,t)=>{const r=new FileReader;r.onerror=t,r.onloadend=()=>{try{e(i({res:n,result:r.result}))}catch(o){t(o)}},r.readAsDataURL(o)})}const ud={};async function pd(e,t,i){const n=function(e,t,i){let n=e.replace(/\?.*/,"");return i&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}(e,t,i.includeQueryParams);if(null!=ud[n])return ud[n];let o;i.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());try{const n=await dd(e,i.fetchRequestInit,({res:e,result:i})=>(t||(t=e.headers.get("Content-Type")||""),function(e){return e.split(/,/)[1]}(i)));o=function(e,t){return`data:${t};base64,${e}`}(n,t)}catch(r){o=i.imagePlaceholder||"";let t=`Failed to fetch resource: ${e}`;r&&(t="string"==typeof r?r:r.message),t&&console.warn(t)}return ud[n]=o,o}async function hd(e,t){return id(e,HTMLCanvasElement)?async function(e){const t=e.toDataURL();return"data:,"===t?e.cloneNode(!1):ed(t)}(e):id(e,HTMLVideoElement)?async function(e,t){if(e.currentSrc){const t=document.createElement("canvas"),i=t.getContext("2d");return t.width=e.clientWidth,t.height=e.clientHeight,null==i||i.drawImage(e,0,0,t.width,t.height),ed(t.toDataURL())}const i=e.poster,n=ld(i);return ed(await pd(i,n,t))}(e,t):id(e,HTMLIFrameElement)?async function(e,t){var i;try{if(null===(i=null==e?void 0:e.contentDocument)||void 0===i?void 0:i.body)return await vd(e.contentDocument.body,t,!0)}catch(n){}return e.cloneNode(!1)}(e,t):e.cloneNode(md(e))}const fd=e=>null!=e.tagName&&"SLOT"===e.tagName.toUpperCase(),md=e=>null!=e.tagName&&"SVG"===e.tagName.toUpperCase();function gd(e,t,i){return id(t,Element)&&(function(e,t,i){const n=t.style;if(!n)return;const o=window.getComputedStyle(e);o.cssText?(n.cssText=o.cssText,n.transformOrigin=o.transformOrigin):Zc(i).forEach(i=>{let r=o.getPropertyValue(i);if("font-size"===i&&r.endsWith("px")){const e=Math.floor(parseFloat(r.substring(0,r.length-2)))-.1;r=`${e}px`}id(e,HTMLIFrameElement)&&"display"===i&&"inline"===r&&(r="block"),"d"===i&&t.getAttribute("d")&&(r=`path(${t.getAttribute("d")})`),n.setProperty(i,r,o.getPropertyPriority(i))})}(e,t,i),function(e,t,i){od(e,t,":before",i),od(e,t,":after",i)}(e,t,i),function(e,t){id(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),id(e,HTMLInputElement)&&t.setAttribute("value",e.value)}(e,t),function(e,t){if(id(e,HTMLSelectElement)){const i=t,n=Array.from(i.children).find(t=>e.value===t.getAttribute("value"));n&&n.setAttribute("selected","")}}(e,t)),t}async function vd(e,t,i){return i||!t.filter||t.filter(e)?Promise.resolve(e).then(e=>hd(e,t)).then(i=>async function(e,t,i){var n,o;if(md(t))return t;let r=[];return r=fd(e)&&e.assignedNodes?Xc(e.assignedNodes()):id(e,HTMLIFrameElement)&&(null===(n=e.contentDocument)||void 0===n?void 0:n.body)?Xc(e.contentDocument.body.childNodes):Xc((null!==(o=e.shadowRoot)&&void 0!==o?o:e).childNodes),0===r.length||id(e,HTMLVideoElement)||await r.reduce((e,n)=>e.then(()=>vd(n,i)).then(e=>{e&&t.appendChild(e)}),Promise.resolve()),t}(e,i,t)).then(i=>gd(e,i,t)).then(e=>async function(e,t){const i=e.querySelectorAll?e.querySelectorAll("use"):[];if(0===i.length)return e;const n={};for(let r=0;r<i.length;r++){const o=i[r].getAttribute("xlink:href");if(o){const i=e.querySelector(o),r=document.querySelector(o);i||!r||n[o]||(n[o]=await vd(r,t,!0))}}const o=Object.values(n);if(o.length){const t="http://www.w3.org/1999/xhtml",i=document.createElementNS(t,"svg");i.setAttribute("xmlns",t),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";const n=document.createElementNS(t,"defs");i.appendChild(n);for(let e=0;e<o.length;e++)n.appendChild(o[e]);e.appendChild(i)}return e}(e,t)):null}const bd=/url\((['"]?)([^'"]+?)\1\)/g,yd=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Td=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;async function wd(e,t,i,n,o){try{const r=i?function(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const i=document.implementation.createHTMLDocument(),n=i.createElement("base"),o=i.createElement("a");return i.head.appendChild(n),i.body.appendChild(o),t&&(n.href=t),o.href=e,o.href}(t,i):t,a=ld(t);let s;return o||(s=await pd(r,a,n)),e.replace(function(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}(t),`$1${s}$3`)}catch(r){}return e}function Id(e){return-1!==e.search(bd)}async function Sd(e,t,i){if(!Id(e))return e;const n=function(e,{preferredFontFormat:t}){return t?e.replace(Td,e=>{for(;;){const[i,,n]=yd.exec(e)||[];if(!n)return"";if(n===t)return`src: ${i};`}}):e}(e,i),o=function(e){const t=[];return e.replace(bd,(e,i,n)=>(t.push(n),e)),t.filter(e=>!cd(e))}(n);return o.reduce((e,n)=>e.then(e=>wd(e,n,t,i)),Promise.resolve(n))}async function Cd(e,t,i){var n;const o=null===(n=t.style)||void 0===n?void 0:n.getPropertyValue(e);if(o){const n=await Sd(o,null,i);return t.style.setProperty(e,n,t.style.getPropertyPriority(e)),!0}return!1}async function xd(e,t){id(e,Element)&&(await async function(e,t){await Cd("background",e,t)||await Cd("background-image",e,t),await Cd("mask",e,t)||await Cd("-webkit-mask",e,t)||await Cd("mask-image",e,t)||await Cd("-webkit-mask-image",e,t)}(e,t),await async function(e,t){const i=id(e,HTMLImageElement);if((!i||cd(e.src))&&(!id(e,SVGImageElement)||cd(e.href.baseVal)))return;const n=i?e.src:e.href.baseVal,o=await pd(n,ld(n),t);await new Promise((n,r)=>{e.onload=n,e.onerror=t.onImageErrorHandler?(...e)=>{try{n(t.onImageErrorHandler(...e))}catch(i){r(i)}}:r;const a=e;a.decode&&(a.decode=n),"lazy"===a.loading&&(a.loading="eager"),i?(e.srcset="",e.src=o):e.href.baseVal=o})}(e,t),await async function(e,t){const i=Xc(e.childNodes).map(e=>xd(e,t));await Promise.all(i).then(()=>e)}(e,t))}const Ad={};async function Od(e){let t=Ad[e];if(null!=t)return t;const i=await fetch(e);return t={url:e,cssText:await i.text()},Ad[e]=t,t}async function Ed(e,t){let i=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,o=(i.match(/url\([^)]+\)/g)||[]).map(async o=>{let r=o.replace(n,"$1");return r.startsWith("https://")||(r=new URL(r,e.url).href),dd(r,t.fetchRequestInit,({result:e})=>(i=i.replace(o,`url(${e})`),[o,e]))});return Promise.all(o).then(()=>i)}function _d(e){if(null==e)return[];const t=[];let i=e.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const n=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const e=n.exec(i);if(null===e)break;t.push(e[0])}i=i.replace(n,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,r=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=o.exec(i);if(null===e){if(e=r.exec(i),null===e)break;o.lastIndex=r.lastIndex}else r.lastIndex=o.lastIndex;t.push(e[0])}return t}async function kd(e,t){if(null==e.ownerDocument)throw new Error("Provided element is not within a Document");const i=Xc(e.ownerDocument.styleSheets),n=await async function(e,t){const i=[],n=[];return e.forEach(i=>{if("cssRules"in i)try{Xc(i.cssRules||[]).forEach((e,o)=>{if(e.type===CSSRule.IMPORT_RULE){let r=o+1;const a=Od(e.href).then(e=>Ed(e,t)).then(e=>_d(e).forEach(e=>{try{i.insertRule(e,e.startsWith("@import")?r+=1:i.cssRules.length)}catch(t){console.error("Error inserting rule from remote css",{rule:e,error:t})}})).catch(e=>{console.error("Error loading remote css",e.toString())});n.push(a)}})}catch(Pd){const r=e.find(e=>null==e.href)||document.styleSheets[0];null!=i.href&&n.push(Od(i.href).then(e=>Ed(e,t)).then(e=>_d(e).forEach(e=>{r.insertRule(e,r.cssRules.length)})).catch(e=>{console.error("Error loading remote stylesheet",e)})),console.error("Error inlining remote css file",Pd)}}),Promise.all(n).then(()=>(e.forEach(e=>{if("cssRules"in e)try{Xc(e.cssRules||[]).forEach(e=>{i.push(e)})}catch(Pd){console.error(`Error while reading CSS rules from ${e.href}`,Pd)}}),i))}(i,t);return function(e){return e.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>Id(e.style.getPropertyValue("src")))}(n)}function Rd(e){return e.trim().replace(/["']/g,"")}async function Md(e,t){const i=await kd(e,t),n=function(e){const t=new Set;return function e(i){(i.style.fontFamily||getComputedStyle(i).fontFamily).split(",").forEach(e=>{t.add(Rd(e))}),Array.from(i.children).forEach(t=>{t instanceof HTMLElement&&e(t)})}(e),t}(e);return(await Promise.all(i.filter(e=>n.has(Rd(e.style.getPropertyValue("font-family")||e.style.fontFamily))).map(e=>{const i=e.parentStyleSheet?e.parentStyleSheet.href:null;return Sd(e.cssText,i,t)}))).join("\n")}async function Dd(e,t={}){const{width:i,height:n}=Qc(e,t),o=await vd(e,t,!0);await async function(e,t){const i=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await Md(e,t);if(i){const t=document.createElement("style"),n=document.createTextNode(i);t.appendChild(n),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}(o,t),await xd(o,t),function(e,t){const{style:i}=e;t.backgroundColor&&(i.backgroundColor=t.backgroundColor),t.width&&(i.width=`${t.width}px`),t.height&&(i.height=`${t.height}px`);const n=t.style;null!=n&&Object.keys(n).forEach(e=>{i[e]=n[e]})}(o,t);return await td(o,i,n)}async function $d(e,t={}){const{width:i,height:n}=Qc(e,t),o=await Dd(e,t),r=await ed(o),a=document.createElement("canvas"),s=a.getContext("2d"),l=t.pixelRatio||function(){let e,t;try{t=process}catch(Pd){}const i=t&&t.env?t.env.devicePixelRatio:null;return i&&(e=parseInt(i,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}(),c=t.canvasWidth||i,d=t.canvasHeight||n;return a.width=c*l,a.height=d*l,t.skipAutoScale||function(e){(e.width>Jc||e.height>Jc)&&(e.width>Jc&&e.height>Jc?e.width>e.height?(e.height*=Jc/e.width,e.width=Jc):(e.width*=Jc/e.height,e.height=Jc):e.width>Jc?(e.height*=Jc/e.width,e.width=Jc):(e.width*=Jc/e.height,e.height=Jc))}(a),a.style.width=`${c}`,a.style.height=`${d}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,a.width,a.height)),s.drawImage(r,0,0,a.width,a.height),a}async function Bd(e,t={}){const i=await $d(e,t),n=await function(e,t={}){return e.toBlob?new Promise(i=>{e.toBlob(i,t.type?t.type:"image/png",t.quality?t.quality:1)}):new Promise(i=>{const n=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),o=n.length,r=new Uint8Array(o);for(let e=0;e<o;e+=1)r[e]=n.charCodeAt(e);i(new Blob([r],{type:t.type?t.type:"image/png"}))})}(i);return n}const Fd={abs:Math.abs,ceil:Math.ceil,floor:Math.floor,max:Math.max,min:Math.min,round:Math.round,sqrt:Math.sqrt,pow:Math.pow};class Ld extends Error{constructor(e,t,i){super(e),this.position=t,this.token=i,this.name="ExpressionError"}}var Nd,Pd;(Pd=Nd||(Nd={}))[Pd.STRING=0]="STRING",Pd[Pd.NUMBER=1]="NUMBER",Pd[Pd.BOOLEAN=2]="BOOLEAN",Pd[Pd.NULL=3]="NULL",Pd[Pd.IDENTIFIER=4]="IDENTIFIER",Pd[Pd.OPERATOR=5]="OPERATOR",Pd[Pd.FUNCTION=6]="FUNCTION",Pd[Pd.DOT=7]="DOT",Pd[Pd.BRACKET_LEFT=8]="BRACKET_LEFT",Pd[Pd.BRACKET_RIGHT=9]="BRACKET_RIGHT",Pd[Pd.PAREN_LEFT=10]="PAREN_LEFT",Pd[Pd.PAREN_RIGHT=11]="PAREN_RIGHT",Pd[Pd.COMMA=12]="COMMA",Pd[Pd.QUESTION=13]="QUESTION",Pd[Pd.COLON=14]="COLON",Pd[Pd.DOLLAR=15]="DOLLAR";const jd=new Set([32,9,10,13]),Vd=new Set([43,45,42,47,37,33,38,124,61,60,62]),Ud=new Map([["true",Nd.BOOLEAN],["false",Nd.BOOLEAN],["null",Nd.NULL]]),Hd=new Map([["===",!0],["!==",!0],["<=",!0],[">=",!0],["&&",!0],["||",!0],["+",!0],["-",!0],["*",!0],["/",!0],["%",!0],["!",!0],["<",!0],[">",!0]]),Wd=new Map([[46,Nd.DOT],[91,Nd.BRACKET_LEFT],[93,Nd.BRACKET_RIGHT],[40,Nd.PAREN_LEFT],[41,Nd.PAREN_RIGHT],[44,Nd.COMMA],[63,Nd.QUESTION],[58,Nd.COLON],[36,Nd.DOLLAR]]),zd=new Map;for(const[YO,QO]of Wd.entries())zd.set(YO,{type:QO,value:String.fromCharCode(YO)});function qd(e){return e>=48&&e<=57}function Gd(e){return e>=97&&e<=122||e>=65&&e<=90||95===e}function Xd(e){return Gd(e)||qd(e)}function Kd(e){return Vd.has(e)}var Zd;!function(e){e[e.Program=0]="Program",e[e.Literal=1]="Literal",e[e.Identifier=2]="Identifier",e[e.MemberExpression=3]="MemberExpression",e[e.CallExpression=4]="CallExpression",e[e.BinaryExpression=5]="BinaryExpression",e[e.UnaryExpression=6]="UnaryExpression",e[e.ConditionalExpression=7]="ConditionalExpression"}(Zd||(Zd={}));const Yd=new Map([["||",2],["&&",3],["===",4],["!==",4],[">",5],[">=",5],["<",5],["<=",5],["+",6],["-",6],["*",7],["/",7],["%",7],["!",8]]),Qd={type:Zd.Literal,value:null},Jd={type:Zd.Literal,value:!0},eu={type:Zd.Literal,value:!1};function tu(e){const t=(e=>{const t=e,i=t.length,n=new Array(Math.ceil(i/3));let o=0,r=0;function a(e){const n=r+1;r++;let o="",a=!1;for(;r<i;){const i=t.charCodeAt(r);if(i===e)return a||(o=t.substring(n,r)),r++,{type:Nd.STRING,value:o};92===i?(a||(o=t.substring(n,r),a=!0),r++,o+=t[r]):a&&(o+=t[r]),r++}throw new Ld(`Unterminated string starting with ${String.fromCharCode(e)}`,r,t.substring(Math.max(0,r-10),r))}function s(){const e=r;for(45===t.charCodeAt(r)&&r++;r<i&&qd(t.charCodeAt(r));)r++;if(r<i&&46===t.charCodeAt(r))for(r++;r<i&&qd(t.charCodeAt(r));)r++;const n=t.slice(e,r);return{type:Nd.NUMBER,value:n}}function l(){r++;const e=r;if(r<i&&Gd(t.charCodeAt(r)))for(r++;r<i&&Xd(t.charCodeAt(r));)r++;const n=t.slice(e,r);return{type:Nd.FUNCTION,value:n}}function c(){const e=r++;for(;r<i&&Xd(t.charCodeAt(r));)r++;const n=t.slice(e,r),o=Ud.get(n);return o?{type:o,value:n}:{type:Nd.IDENTIFIER,value:n}}function d(){if(r+2<i){const e=t.substring(r,r+3);if(Hd.has(e))return r+=3,{type:Nd.OPERATOR,value:e}}if(r+1<i){const e=t.substring(r,r+2);if(Hd.has(e))return r+=2,{type:Nd.OPERATOR,value:e}}const e=t[r];if(Hd.has(e))return r++,{type:Nd.OPERATOR,value:e};throw new Ld(`Unknown operator at position ${r}: ${t.substring(r,r+1)}`,r,t.substring(Math.max(0,r-10),r))}for(;r<i;){const e=t.charCodeAt(r);if(u=e,jd.has(u)){r++;continue}const p=zd.get(e);if(p)n[o++]=p,r++;else if(34!==e&&39!==e)if(qd(e)||45===e&&r+1<i&&qd(t.charCodeAt(r+1)))n[o++]=s();else if(64!==e)if(Gd(e))n[o++]=c();else{if(!Kd(e))throw new Ld(`Unexpected character: ${t[r]}`,r,t.substring(Math.max(0,r-10),r));n[o++]=d()}else n[o++]=l();else n[o++]=a(e)}var u;return o===n.length?n:n.slice(0,o)})(e),i=(e=>{let t=0;const i=e.length,n=()=>t>=i?null:e[t],o=()=>e[t++],r=e=>{const t=n();return null!==t&&t.type===e},a=e=>e.type===Nd.OPERATOR?Yd.get(e.value)||-1:e.type===Nd.DOT||e.type===Nd.BRACKET_LEFT?9:e.type===Nd.QUESTION?1:-1,s=e=>{let i,a;if(o().type===Nd.DOT){if(!r(Nd.IDENTIFIER)){const e=n();throw new Ld("Expected property name",t,e?e.value:"<end of input>")}const e=o();i={type:Zd.Identifier,name:e.value},a=!1}else{if(i=c(0),!r(Nd.BRACKET_RIGHT)){const e=n();throw new Ld("Expected closing bracket",t,e?e.value:"<end of input>")}o(),a=!0}return{type:Zd.MemberExpression,object:e,property:i,computed:a}},l=()=>{const e=n();if(!e)throw new Ld("Unexpected end of input",t,"<end of input>");if(e.type===Nd.OPERATOR&&("!"===e.value||"-"===e.value)){o();const t=l();return{type:Zd.UnaryExpression,operator:e.value,argument:t,prefix:!0}}switch(e.type){case Nd.NUMBER:return o(),{type:Zd.Literal,value:Number(e.value)};case Nd.STRING:return o(),{type:Zd.Literal,value:e.value};case Nd.BOOLEAN:return o(),"true"===e.value?Jd:eu;case Nd.NULL:return o(),Qd;case Nd.IDENTIFIER:return o(),{type:Zd.Identifier,name:e.value};case Nd.FUNCTION:return(()=>{const e=o(),i=[];if(!r(Nd.PAREN_LEFT)){const e=n();throw new Ld("Expected opening parenthesis after function name",t,e?e.value:"<end of input>")}for(o();;){if(r(Nd.PAREN_RIGHT)){o();break}if(!n()){const e=n();throw new Ld("Expected closing parenthesis",t,e?e.value:"<end of input>")}if(i.length>0){if(!r(Nd.COMMA)){const e=n();throw new Ld("Expected comma between function arguments",t,e?e.value:"<end of input>")}o()}const e=c(0);i.push(e)}return{type:Zd.CallExpression,callee:{type:Zd.Identifier,name:e.value},arguments:i}})();case Nd.PAREN_LEFT:{o();const e=c(0);if(!r(Nd.PAREN_RIGHT)){const e=n();throw new Ld("Expected closing parenthesis",t,e?e.value:"<end of input>")}return o(),e}default:throw new Ld(`Unexpected token: ${e.type}`,t,e.value)}},c=(d=0)=>{let u=l();for(;t<i;){const i=e[t],l=a(i);if(l<=d)break;if(i.type!==Nd.QUESTION)if(i.type!==Nd.OPERATOR){if(i.type!==Nd.DOT&&i.type!==Nd.BRACKET_LEFT)break;u=s(u)}else{o();const e=c(l);u={type:Zd.BinaryExpression,operator:i.value,left:u,right:e}}else{o();const e=c(0);if(!r(Nd.COLON)){const e=n();throw new Ld("Expected : in conditional expression",t,e?e.value:"<end of input>")}o();const i=c(0);u={type:Zd.ConditionalExpression,test:u,consequent:e,alternate:i}}}return u},d=c();return{type:Zd.Program,body:d}})(t),n=((e={},t={})=>({context:e,functions:t}))({},Fd);return(e={})=>((e,t,i)=>{let n=t;i&&(n={...t,context:{...t.context,...i}});const o=e=>{switch(e.type){case Zd.Literal:return e.value;case Zd.Identifier:return(e=>{if(!(e.name in n.context))throw new Ld(`Undefined variable: ${e.name}`);return n.context[e.name]})(e);case Zd.MemberExpression:return(e=>{const t=o(e.object);if(null==t)throw new Ld("Cannot access property of null or undefined");return t[e.computed?o(e.property):e.property.name]})(e);case Zd.CallExpression:return(e=>{const t=n.functions[e.callee.name];if(!t)throw new Ld(`Undefined function: ${e.callee.name}`);return t(...e.arguments.map(e=>o(e)))})(e);case Zd.BinaryExpression:return(e=>{if("&&"===e.operator){const t=o(e.left);return t?o(e.right):t}if("||"===e.operator)return o(e.left)||o(e.right);const t=o(e.left),i=o(e.right);switch(e.operator){case"+":return t+i;case"-":return t-i;case"*":return t*i;case"/":return t/i;case"%":return t%i;case"===":return t===i;case"!==":return t!==i;case">":return t>i;case">=":return t>=i;case"<":return t<i;case"<=":return t<=i;default:throw new Ld(`Unknown operator: ${e.operator}`)}})(e);case Zd.UnaryExpression:return(e=>{const t=o(e.argument);if(e.prefix)switch(e.operator){case"!":return!t;case"-":if("number"!=typeof t)throw new Ld(`Cannot apply unary - to non-number: ${t}`);return-t;default:throw new Ld(`Unknown operator: ${e.operator}`)}throw new Ld(`Postfix operators are not supported: ${e.operator}`)})(e);case Zd.ConditionalExpression:return(e=>{const t=o(e.test);return o(t?e.consequent:e.alternate)})(e);default:throw new Ld(`Evaluation error: Unsupported node type: ${e.type}`)}};return o(e.body)})(i,n,e)}function iu(e,t={}){return tu(e)(t)}const nu="2.7.0",ou={selFilterBlurIsOn:!1,selFilterBlur:0,selFilterBrightIsOn:!1,selFilterBright:100,selFilterContIsOn:!1,selFilterCont:100,selFilterGrayIsOn:!1,selFilterGray:0,selFilterHueIsOn:!1,selFilterHue:0,selFilterInvertIsOn:!1,selFilterInvert:0,selFilterOpacIsOn:!1,selFilterOpac:100,selFilterSaturIsOn:!1,selFilterSatur:1,selFilterSepiaIsOn:!1,selFilterSepia:0,selBgColorIsOn:!0,selOverlayOnImage:!1,selFilterBgColor:"#70FF7EFF",selBorderColorIsOn:!1,selFilterBorderColor:"#000000FF",selImgBorderColorIsOn:!1,selFilterImgBorderColor:"#000000FF",selCTitleColorIsOn:!1,selFilterCTitleColor:"#000000FF",selCTextColorIsOn:!1,selFilterCTextColor:"#000000FF",selATitleColorIsOn:!1,selFilterATitleColor:"#000000FF",selATextColorIsOn:!1,selFilterATextColor:"#000000FF",selScoreTextColorIsOn:!1,selFilterSTextColor:"#000000FF",selFilterVisibleIsOn:!1,reqFilterBlurIsOn:!1,reqFilterBlur:0,reqFilterBrightIsOn:!1,reqFilterBright:100,reqFilterContIsOn:!1,reqFilterCont:100,reqFilterGrayIsOn:!1,reqFilterGray:0,reqFilterHueIsOn:!1,reqFilterHue:0,reqFilterInvertIsOn:!1,reqFilterInvert:0,reqFilterOpacIsOn:!0,reqFilterOpac:50,reqFilterSaturIsOn:!1,reqFilterSatur:1,reqFilterSepiaIsOn:!1,reqFilterSepia:0,reqBgColorIsOn:!1,reqOverlayOnImage:!1,reqFilterBgColor:"#FFFFFFFF",reqBorderColorIsOn:!1,reqFilterBorderColor:"#000000FF",reqImgBorderColorIsOn:!1,reqImgFilterBorderColor:"#000000FF",reqCTitleColorIsOn:!1,reqFilterCTitleColor:"#000000FF",reqCTextColorIsOn:!1,reqFilterCTextColor:"#000000FF",reqATitleColorIsOn:!1,reqFilterATitleColor:"#000000FF",reqATextColorIsOn:!1,reqFilterATextColor:"#000000FF",reqScoreTextColorIsOn:!1,reqFilterSTextColor:"#000000FF",reqFilterVisibleIsOn:!1,unselFilterBlurIsOn:!1,unselFilterBlur:0,unselFilterBrightIsOn:!1,unselFilterBright:100,unselFilterContIsOn:!1,unselFilterCont:100,unselFilterGrayIsOn:!1,unselFilterGray:0,unselFilterHueIsOn:!1,unselFilterHue:0,unselFilterInvertIsOn:!1,unselFilterInvert:0,unselFilterOpacIsOn:!1,unselFilterOpac:100,unselFilterSaturIsOn:!1,unselFilterSatur:1,unselFilterSepiaIsOn:!1,unselFilterSepia:0,unselFilterVisibleIsOn:!1},ru={customRowTitle:!1,rowTitle:"Times New Roman",customRowText:!1,rowText:"Times New Roman",customObjectTitle:!1,objectTitle:"Times New Roman",customObjectText:!1,objectText:"Times New Roman",customAddonTitle:!1,addonTitle:"Times New Roman",customAddonText:!1,addonText:"Times New Roman",customScoreText:!1,scoreText:"Times New Roman",rowTitleTextSize:200,rowTextTextSize:100,objectTitleTextSize:200,objectTextTextSize:100,addonTitleTextSize:200,addonTextTextSize:100,scoreTextSize:75,rowTitleColor:"#000000",rowTextColor:"#000000",objectTitleColor:"#000000",objectTextColor:"#000000",addonTitleColor:"#000000",addonTextColor:"#000000",scoreTextColor:"#000000",rowTitleAlign:"center",rowTextAlign:"center",objectTitleAlign:"center",objectTextAlign:"center",addonTitleAlign:"center",addonTextAlign:"center",scoreTextAlign:"center"},au={objectImgBorderStyle:"solid",objectImgBorderWidth:2,objectImageWidth:100,objectImageMarginTop:0,objectImageMarginBottom:0,objectImgBorderRadiusTopLeft:0,objectImgBorderRadiusTopRight:0,objectImgBorderRadiusBottomRight:0,objectImgBorderRadiusBottomLeft:0,objectImgBorderRadiusIsPixels:!0,objectImgBorderIsOn:!1,objectImgOverflowIsOn:!1,objectImgBorderColor:"red",objectImgObjectFillStyle:"",objectImgObjectFillIsOn:!1,objectImgObjectFillHeight:0,objectImageBoxWidth:50},su={rowImgBorderStyle:"solid",rowImgBorderWidth:2,rowImageWidth:100,rowImageMarginTop:0,rowImageMarginBottom:0,rowImgBorderRadiusTopLeft:0,rowImgBorderRadiusTopRight:0,rowImgBorderRadiusBottomRight:0,rowImgBorderRadiusBottomLeft:0,rowImgBorderRadiusIsPixels:!0,rowImgBorderIsOn:!1,rowImgOverflowIsOn:!1,rowImgBorderColor:"red",rowImageBoxWidth:50,rowImgObjectFillStyle:"",rowImgObjectFillIsOn:!1,rowImgObjectFillHeight:0},lu={useAddonImage:!1,addonImgBorderStyle:"solid",addonImgBorderWidth:2,addonImageWidth:100,addonImageMarginTop:0,addonImageMarginBottom:0,addonImgBorderRadiusTopLeft:0,addonImgBorderRadiusTopRight:0,addonImgBorderRadiusBottomRight:0,addonImgBorderRadiusBottomLeft:0,addonImgBorderRadiusIsPixels:!0,addonImgBorderIsOn:!1,addonImgOverflowIsOn:!1,addonImgBorderColor:"red",addonImgObjectFillStyle:"",addonImgObjectFillIsOn:!1,addonImgObjectFillHeight:0,addonImageBoxWidth:50},cu={bgColorIsOn:!1,backgroundColor:"#FFFFFFFF",rowBgColorIsOn:!1,rowBgColor:"#FFFFFFFF",objectBgColorIsOn:!1,objectBgColor:"#FFFFFFFF",isBackgroundRepeat:!1,isBackgroundFitIn:!1,backgroundImage:"",isRowBackgroundRepeat:!1,isRowBackgroundFitIn:!1,rowBackgroundImage:"",isObjectBackgroundRepeat:!1,isObjectBackgroundFitIn:!1,objectBackgroundImage:""},du={objectHeight:!0,objectDesignIsAdvanced:!1,objectMargin:10,objectTextPadding:10,objectBorderStyle:"solid",objectBorderWidth:2,objectBorderIsOn:!1,objectDropShadowH:0,objectDropShadowV:0,objectDropShadowBlur:0,objectDropShadowSpread:0,objectDropShadowIsOn:!1,objectUseBoxShadowIsOn:!1,objectBorderRadiusTopLeft:0,objectBorderRadiusTopRight:0,objectBorderRadiusBottomRight:0,objectBorderRadiusBottomLeft:0,objectBorderRadiusIsPixels:!0,objectOverflowIsOn:!0,objectDropShadowColor:"grey",objectGradientIsOn:!1,objectGradient:"",objectGradientOnSelect:"",objectGradientOnReq:"",objectBorderColor:"red",objectBorderImage:"",objectBorderImageRepeat:"stretch",objectBorderImageWidth:5,objectBorderImageSliceTop:5,objectBorderImageSliceBottom:5,objectBorderImageSliceLeft:5,objectBorderImageSliceRight:5,removeSpaceAddonIsOn:!1,titlePaddingIsOn:!1},uu={rowDesignIsAdvanced:!1,rowMargin:10,rowBodyMarginSides:1,rowBodyMarginTop:25,rowBodyMarginBottom:25,rowTextPaddingY:5,rowTextPaddingX:10,rowOverflowIsOn:!0,rowDropShadowH:0,rowDropShadowV:0,rowDropShadowBlur:0,rowDropShadowSpread:0,rowDropShadowColor:"grey",rowButtonXPadding:0,rowButtonYPadding:0,rowDropShadowIsOn:!1,rowUseBoxShadowIsOn:!1,rowBorderRadiusTopLeft:0,rowBorderRadiusTopRight:0,rowBorderRadiusBottomRight:0,rowBorderRadiusBottomLeft:0,rowBorderRadiusIsPixels:!0,rowBorderStyle:"solid",rowBorderWidth:2,rowBorderIsOn:!1,rowBorderColor:"red",rowGradientIsOn:!1,rowGradient:"",rowBorderImage:"",rowBorderImageRepeat:"stretch",rowBorderImageWidth:5,rowBorderImageSliceTop:5,rowBorderImageSliceBottom:5,rowBorderImageSliceLeft:5,rowBorderImageSliceRight:5},pu={useAddonDesign:!1,addonDesignIsAdvanced:!1,addonMargin:10,addonTextPadding:10,addonBorderStyle:"solid",addonBorderWidth:2,addonBorderIsOn:!1,addonDropShadowH:0,addonDropShadowV:0,addonDropShadowBlur:0,addonDropShadowSpread:0,addonDropShadowIsOn:!1,addonUseBoxShadowIsOn:!1,addonBorderRadiusTopLeft:0,addonBorderRadiusTopRight:0,addonBorderRadiusBottomRight:0,addonBorderRadiusBottomLeft:0,addonBorderRadiusIsPixels:!0,addonOverflowIsOn:!0,addonDropShadowColor:"grey",addonGradientIsOn:!1,addonGradient:"",addonGradientOnSelect:"",addonGradientOnReq:"",addonBorderColor:"red",addonBorderImage:"",addonBorderImageRepeat:"stretch",addonBorderImageWidth:5,addonBorderImageSliceTop:5,addonBorderImageSliceBottom:5,addonBorderImageSliceLeft:5,addonBorderImageSliceRight:5,useAddonBackgroundImage:!1,addonBackgroundImage:"",isAddonBackgroundFitIn:!1,isAddonBackgroundRepeat:!1,addonBgColorIsOn:!1,addonBgColor:"#FFFFFFFF",addonTitlePaddingIsOn:!1},hu={customMultiTextFont:!1,multiChoiceCounterPosition:0,multiChoiceCounterSize:170,multiChoiceTextFont:"Times New Roman",multiChoiceTextSize:100},fu={barTextPadding:17,barTextMargin:0,customBarTextFont:!1,barTextFont:"Times New Roman",barPadding:0,barMargin:0,barTextSize:15,barTextColor:"#000000",barPointPos:"#FF0000FF",barPointNeg:"#FF0000FF",barIconColor:"#0000008A",barBackgroundColor:"#FFFFFFFF"},mu={useBackpackDesign:!1,backpackBgColor:"#FFFFFF",isBackpackBgRepeat:!1,isBackpackBgFitIn:!1,backpackBgImage:"",backPackWidth:1400},app=Fe(

/*! Delete and replace this part with your project if you're pasting it in, leave it here if you have placed your project.json file under index.html. */
{version:nu,isEditModeOnAll:!0,isPointerCursor:!1,importedChoicesIsOpen:!0,curVolume:100,isMute:!1,showMusicPlayer:!1,fadeTransitionColor:"#000000FF",fadeTransitionTime:.25,fadeTransitionIsOn:!1,hideBackpackBtn:0,btnBackpackIsOn:0,showAllAddons:0,tmpRow:[],tmpChoice:[],tmpRequired:[],tmpScore:[],tmpAddon:[],tmpGroup:[],rowIdLength:4,objectIdLength:4,words:[],groups:[],rowDesignGroups:[],objectDesignGroups:[],objectsPerRow:"col-6",globalRequirements:[],googleFonts:[],customFonts:[],compressImageAuto:!1,useTextEditor:!0,useToolbarBtn:!1,useChoiceEditBtn:!0,hideScoresUpdated:!1,hideChoiceDT:!1,hideImages:!1,preloadImages:!1,preloadExternalImages:!1,useVW:!1,addPrefix:!0,activated:[],rows:[],pointTypes:[],variables:[],mdObjects:[],categories:[],printThis:!1,autoSaveIsOn:!1,autoSaveInterval:10,buildAutoSaveIsOn:!1,buildAutoSaveInterval:10,tooltipDelay:1e3,checkDeleteRow:!0,checkDeleteObject:!1,checkSelectAll:!1,defaultRowTitle:"Row",defaultRowText:"This is a row, and inside of it, you can place choices. On both rows and choices Requirements can be placed, which will block a row from being viewed, or make the player unable to select a choice, depending on either Point-types or the Ids of other choices. Point-types can be made in Features then Manage Points. Hovering over buttons will explain what they do. The Design of the project can be changed in 'Modify Design' at the side navigation bar, and private styling for each row can be turned on in the rows Settings. Default text like this can be turned off in Features -> Manage Defaults.",defaultChoiceTitle:"Choice",defaultChoiceText:"This is a Choice, and inside of it, you can place images and text. Scores can be added to it, and have Point-types attached. Addons can be added underneath the image and text. In the Functions at the bottom of the choice, there is an array of different things that can be done. Default text like this can be turned off in Features then Manage Defaults.",defaultBeforePoint:"Cost:",defaultAfterPoint:"points",defaultBeforeReq:"Required:",defaultAfterReq:"choice",defaultAddonTitle:"Addon",defaultAddonText:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.",enableShortcut:!0,orderOrReqText:"0",defaultOrReq:"of",orderSelReqText:"0",defaultSelReq:"choice from",backpack:[{index:0,id:"default_backpack_row",isBackpack:!0,title:"Result",debugTitle:"",titleText:"",objectWidth:"col-md-3",image:"",template:1,isButtonRow:!1,buttonType:!0,buttonId:"",buttonText:"Click",buttonRandom:!1,buttonRandomNumber:1,isResultRow:!0,resultGroupId:"",isInfoRow:!0,defaultAspectWidth:1,defaultAspectHeight:1,allowedChoices:0,currentChoices:0,requireds:[],isEditModeOn:!1,isRequirementOpen:!1,objects:[],rowDesignGroups:[]}],styling:{...ou,...ru,...au,...su,...lu,...cu,...du,...uu,...pu,...hu,...fu,...mu}}
/*! End */

),gu={version:nu,isEditModeOnAll:!0,isPointerCursor:!1,importedChoicesIsOpen:!0,curVolume:100,isMute:!1,showMusicPlayer:!1,fadeTransitionColor:"#000000FF",fadeTransitionTime:.25,fadeTransitionIsOn:!1,hideBackpackBtn:0,btnBackpackIsOn:0,showAllAddons:0,tmpRow:[],tmpChoice:[],tmpRequired:[],tmpScore:[],tmpAddon:[],tmpGroup:[],rowIdLength:4,objectIdLength:4,words:[],groups:[],rowDesignGroups:[],objectDesignGroups:[],objectsPerRow:"col-6",globalRequirements:[],googleFonts:[],customFonts:[],compressImageAuto:!1,useTextEditor:!0,useToolbarBtn:!1,useChoiceEditBtn:!0,hideScoresUpdated:!1,hideChoiceDT:!1,hideImages:!1,preloadImages:!1,preloadExternalImages:!1,useVW:!1,addPrefix:!0,activated:[],rows:[],pointTypes:[],variables:[],mdObjects:[],categories:[],printThis:!1,autoSaveIsOn:!1,autoSaveInterval:10,buildAutoSaveIsOn:!1,buildAutoSaveInterval:10,tooltipDelay:1e3,checkDeleteRow:!0,checkDeleteObject:!1,checkSelectAll:!1,defaultRowTitle:"Row",defaultRowText:"This is a row, and inside of it, you can place choices. On both rows and choices Requirements can be placed, which will block a row from being viewed, or make the player unable to select a choice, depending on either Point-types or the Ids of other choices. Point-types can be made in Features then Manage Points. Hovering over buttons will explain what they do. The Design of the project can be changed in 'Modify Design' at the side navigation bar, and private styling for each row can be turned on in the rows Settings. Default text like this can be turned off in Features -> Manage Defaults.",defaultChoiceTitle:"Choice",defaultChoiceText:"This is a Choice, and inside of it, you can place images and text. Scores can be added to it, and have Point-types attached. Addons can be added underneath the image and text. In the Functions at the bottom of the choice, there is an array of different things that can be done. Default text like this can be turned off in Features then Manage Defaults.",defaultBeforePoint:"Cost:",defaultAfterPoint:"points",defaultBeforeReq:"Required:",defaultAfterReq:"choice",defaultAddonTitle:"Addon",defaultAddonText:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.",enableShortcut:!0,orderOrReqText:"0",defaultOrReq:"of",orderSelReqText:"0",defaultSelReq:"choice from",backpack:[{index:0,id:"default_backpack_row",isBackpack:!0,title:"Result",debugTitle:"",titleText:"",objectWidth:"col-md-3",image:"",template:1,isButtonRow:!1,buttonType:!0,buttonId:"",buttonText:"Click",buttonRandom:!1,buttonRandomNumber:1,isResultRow:!0,resultGroupId:"",isInfoRow:!0,defaultAspectWidth:1,defaultAspectHeight:1,allowedChoices:0,currentChoices:0,requireds:[],isEditModeOn:!1,isRequirementOpen:!1,objects:[],rowDesignGroups:[]}],styling:{...ou,...ru,...au,...su,...lu,...cu,...du,...uu,...pu,...hu,...fu,...mu}},vu=Fe(new al),bu=Fe(new al),yu=Fe(new al),Tu=Fe(new al),wu=Fe(new al),Iu=Fe(new al),Su=Fe(new al),Cu=Fe(new al),xu=Fe(new al),Au=Fe(new al),Ou=Fe(new al),Eu=Fe(new rl),_u=Fe([]),ku=Fe({value:"appCyoaViewer"}),Ru=Fe({value:"light"}),Mu={ALLOWED_TAGS:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr","font","iframe","img"],ADD_ATTR:["href","target","style","class"]},Du=gn(null),$u=gn(null),Bu=Fe({isBgmInit:!1,bgmIsPlaying:!1,bgmPlayInterval:0,bgmTitleInterval:0,bgmFadeInterval:0,bgmFadeTimer:0,bgmTitle:"No Audio Title",curBgmTime:0,curBgmLength:0,isSeeking:!1,lastFadeTime:0,isFadingOut:!1,bgmObjectId:"",noCors:!1}),Fu=Fe({currentDialog:"none"}),Lu=Fe({labelText:"",timeoutMs:4e3,isOpen:!1}),Nu=Fe({allowDeselect:!1,isSingleFile:!1}),Pu=Fe({stored:!1,name:"Auto Save",time:"",app:""}),ju=Fe(Array.from({length:99},(e,t)=>({stored:!1,name:`Slot ${t+1}`,time:"",app:""}))),Vu=Fe(Array.from({length:99},(e,t)=>({stored:!1,name:`Slot ${t+1}`,time:"",app:""})));Fe({backgroundColor:"",backgroundImage:"",barBgColor:""});const Uu=new Set,Hu={value:!1},Wu=mn(window.innerWidth,e=>{const t=()=>e(window.innerWidth);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)});let zu=null,qu=null;function Gu(){return new Promise((e,t)=>{const i=indexedDB.open("cyoaPlusDB");i.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains("cyoaStore")||t.createObjectStore("cyoaStore"),t.objectStoreNames.contains("buildStore")||t.createObjectStore("buildStore")},i.onsuccess=t=>{const i=t.target.result;e(i)},i.onerror=t})}function Xu(){return new Promise((e,t)=>{if(zu)return e(zu);const i=indexedDB.open("cyoaDB");let n=!1,o=[],r=[],a=[];i.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains("buildStore")||t.createObjectStore("buildStore",{keyPath:"title"}),n=!0},i.onsuccess=i=>{const s=i.target.result;if(1===s.version)if(n)Gu().then(t=>{zu=t,e(zu)}).catch(t).finally(()=>{s.close()});else if(s.objectStoreNames.contains("buildStore")){const i=s.transaction(["buildStore"],"readonly").objectStore("buildStore").getAll();i.onsuccess=()=>{const n=i.result;for(let e=0;e<n.length;e++){const t=i.result[e];Vu[e].stored=!0,Vu[e].name=t.title,Vu[e].time="Unknown"}Gu().then(t=>{zu=t,e(zu)}).catch(t).finally(()=>{qu=s})},i.onerror=i=>{console.error(i),Gu().then(t=>{zu=t,e(zu)}).catch(t).finally(()=>{s.close()})}}else Gu().then(t=>{zu=t,e(zu)}).catch(t).finally(()=>{s.close()});else{const i=[new Promise((e,t)=>{if(s.objectStoreNames.contains("cyoaStore")){const i=s.transaction("cyoaStore","readonly").objectStore("cyoaStore").openCursor();i.onsuccess=t=>{const i=t.target.result;i?(o.push({key:i.key,value:i.value}),i.continue()):e()},i.onerror=t}else e()}),new Promise((e,t)=>{if(s.objectStoreNames.contains("buildStore")){const i=s.transaction("buildStore","readonly").objectStore("buildStore").openCursor();i.onsuccess=t=>{const i=t.target.result;i?(r.push({key:i.key,value:i.value}),i.continue()):e()},i.onerror=t}else e()})];Promise.all(i).then(()=>(s.close(),new Promise((e,t)=>{const i=indexedDB.deleteDatabase("cyoaDB");i.onsuccess=()=>{const i=indexedDB.open("cyoaDB",1);i.onupgradeneeded=e=>{e.target.result.createObjectStore("buildStore",{keyPath:"title"});const t=e.target.transaction;if(t){const e=t.objectStore("buildStore");let i=0;for(let t=0;t<r.length;t++){const n=r[t];void 0!==n.value.title?(e.put(n.value),Vu[i].stored=!0,Vu[i].name=n.title,Vu[i].time="Unknown",i+=1):a.push(n)}}},i.onsuccess=t=>{const i=t.target.result;qu=i,e()},i.onerror=e=>{t(e)}},i.onerror=e=>{t(e)}}))).catch(e=>{console.error(e),s.close()}).finally(()=>{const i=indexedDB.open("cyoaPlusDB");i.onupgradeneeded=e=>{const t=e.target.result;!t.objectStoreNames.contains("cyoaStore")&&o.length>0&&t.createObjectStore("cyoaStore"),t.objectStoreNames.contains("buildStore")||t.createObjectStore("buildStore");const i=e.target.transaction;if(i){if(o.length>0){const e=i.objectStore("cyoaStore");for(let t=0;t<o.length;t++){const i=o[t];e.put(i.value,i.key)}}if(a.length>0){const e=i.objectStore("buildStore");for(let t=0;t<a.length;t++){const i=a[t];e.put(i.value,i.key)}}}},i.onsuccess=t=>{const i=t.target.result;zu=i,e(zu)},i.onerror=e=>{t(e)}})}},i.onerror=e=>{t(e)}})}let Ku=null;function Zu(e,t){return new Promise((i,n)=>{const o=setTimeout(()=>i(),e);t&&t.addEventListener("abort",()=>{clearTimeout(o),n(new DOMException("Aborted","AbortError"))})})}async function Yu(){const e=new AbortController;Ku=e;const t=`${location.pathname.replace(/\/index\.html$/,"/")}autoSave`;for(;app.buildAutoSaveIsOn;){try{await Zu(1e3*app.buildAutoSaveInterval*60,e.signal)}catch(i){break}if(!app.buildAutoSaveIsOn)break;const n=(await Xu()).transaction("buildStore","readwrite").objectStore("buildStore"),o=navigator.language,r=new Date,a=new Intl.DateTimeFormat(o,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(r),s={stored:!0,name:"Auto Save",time:a,app:Ju()};try{await new Promise((e,i)=>{const o=n.put(s,t);o.onsuccess=()=>e(),o.onerror=()=>i(o.error)}),Pu.stored=!0,Pu.time=a,Lu.labelText="Auto-save completed successfully.",Lu.isOpen=!0}catch(i){console.error(i)}}}async function Qu(e,t,i=!1){const n=i?await new Promise((e,t)=>qu?e(qu):t()):await Xu();return new Promise((i,o)=>{const r=n.transaction(t,"readonly").objectStore(t).get(e);r.onsuccess=()=>i(void 0!==r.result?r.result:null),r.onerror=o})}function Ju(){let e=[];return Array.from(vu.entries()).forEach(([t,i])=>{if(i.isRowButton){if(void 0!==Tu.get(t)){let n=`${t}/RP#${i.rndPoint}/NUM#${i.pointNum}`;e.push(n)}}else if(i.isVariable){void 0!==xu.get(t)&&e.push(t)}else{const n=wu.get(t);if(void 0!==n){const o=n.choice;let r=t,a=[];if(0===i.multiple){for(let e=0;e<o.scores.length;e++){const t=o.scores[e];t.isRandom&&t.setValue&&a.push(`${e}:${t.value}`)}a.length>0&&(r+=`/RS#${a.join("/AND#")}`),o.isActivateRandom&&o.activatedRandom&&(r+=`/RND#${o.activatedRandom.join("/AND#").replace(/\/ON#/g,"/RON#")}`),o.textfieldIsOn&&o.customTextfieldIsOn&&void 0!==o.wordChangeSelect&&(r+=`/WORD#${o.wordChangeSelect.replace(/,/g,"/CHAR#")}`),o.isImageUpload&&o.image!==o.defaultImage&&(r+=`/IMG#${o.image.replace(/,/g,"/CHAR#")}`),e.push(r)}else{r+=`/ON#${i.multiple}`;for(let e=0;e<o.scores.length;e++){const t=o.scores[e];t.isRandom&&t.setValue&&a.push(`${e}:${t.value}`)}a.length>0&&(r+=`/RS#${a.join("/AND#")}`),o.isActivateRandom&&o.activatedRandomMul&&(r+=`/RND#${o.activatedRandomMul.flat(2).join("/AND#").replace(/\/ON#/g,"/RON#")}`),e.push(r)}}}}),e.join(",")}function ep(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}_${String(e.getHours()).padStart(2,"0")}-${String(e.getMinutes()).padStart(2,"0")}-${String(e.getSeconds()).padStart(2,"0")}`}function tp(e){if(e.customTextIsOn)return void 0!==e.customText?e.customText:"";switch(e.type){case"id":{let t=e.reqId.split("/ON#"),i=wu.get(t[0]);if(void 0!==i){let n=i.choice;return`${e.beforeText}${t.length>1?` ${t[1]}`:""} ${n.title} ${e.afterText}`}break}case"points":{let t=yu.get(e.reqId);if(void 0!==t)return`${e.beforeText} ${e.reqPoints} ${t.name} ${e.afterText}`;break}case"or":{let t=[];for(let i=0;i<e.orRequired.length;i++){let n=e.orRequired[i].req;if(void 0!==n){let e=n.split("/ON#"),i=wu.get(e[0]),o="";if(void 0!==i){let n=i.choice;o=e.length>1?`${e[1]} `:"",t.push(`${o}${n.title}`)}}}return"1"===app.orderOrReqText?`${e.beforeText} ${t.join(", ")} ${void 0!==e.orNum?`${app.defaultOrReq} ${e.orNum}`:`${app.defaultOrReq} 1`} ${e.afterText}`:`${e.beforeText} ${void 0!==e.orNum?`${e.orNum} ${app.defaultOrReq}`:`1 ${app.defaultOrReq}`} ${t.join(", ")} ${e.afterText}`}case"selFromGroups":if(void 0!==e.selGroups){let t=[];for(let i=0;i<e.selGroups.length;i++){let n=e.selGroups[i],o=Iu.get(n);void 0!==o&&t.push(o.name)}return"1"===app.orderSelReqText?`${e.beforeText} ${t.join(", ")} ${app.defaultOrReq} ${e.selNum} ${e.afterText}`:`${e.beforeText} ${e.selNum} ${app.defaultOrReq} ${t.join(", ")} ${e.afterText}`}case"selFromRows":if(void 0!==e.selRows){let t=[];for(let i=0;i<e.selRows.length;i++){let n=e.selRows[i],o=Tu.get(n);void 0!==o&&t.push(o.title)}return"1"===app.orderSelReqText?`${e.beforeText} ${t.join(", ")} ${app.defaultOrReq} ${e.selNum} ${e.afterText}`:`${e.beforeText} ${e.selNum} ${app.defaultOrReq} ${t.join(", ")} ${e.afterText}`}case"selFromWhole":return"1"===app.orderSelReqText?`${e.beforeText} ${app.defaultOrReq} ${e.selNum} ${e.afterText}`:`${e.beforeText} ${e.selNum} ${app.defaultOrReq} ${e.afterText}`}return`${e.beforeText} ${e.afterText}`}function ip(e){return Tu.has(e)||wu.has(e)||Cu.has(e)||yu.has(e)||Au.has(e)||Ou.has(e)||Iu.has(e)||xu.has(e)}function np(e,t){let i=app.addPrefix?"row-":"",n="abcdefghijklmnopqrstuvwxyz0123456789";for(var o=0;o<t;o++)i+=n.charAt(Math.floor(36*Math.random()));return ip(i)?e>2?np(0,++t):np(++e,t):i}function op(e,t){let i=app.addPrefix?"word-":"",n="abcdefghijklmnopqrstuvwxyz0123456789";for(var o=0;o<t;o++)i+=n.charAt(Math.floor(36*Math.random()));return ip(i)?e>2?op(0,++t):op(++e,t):i}function rp(e,t,i=!1){let n=app.addPrefix&&!i?"choice-":"",o="abcdefghijklmnopqrstuvwxyz0123456789";for(var r=0;r<t;r++)n+=o.charAt(Math.floor(36*Math.random()));return ip(n)?e>2?rp(0,++t):rp(++e,t):n}function ap(e,t,i){let n=app.addPrefix?"design-":"",o="abcdefghijklmnopqrstuvwxyz0123456789";for(var r=0;r<t;r++)n+=o.charAt(Math.floor(36*Math.random()));return ip(n)?e>2?ap(0,++t):ap(++e,t):n}function sp(e,t){let i=app.addPrefix?"group-":"",n="abcdefghijklmnopqrstuvwxyz0123456789";for(var o=0;o<t;o++)i+=n.charAt(Math.floor(36*Math.random()));return ip(i)?e>2?sp(0,++t):sp(++e,t):i}function lp(e,t){let i=app.addPrefix?"point-":"",n="abcdefghijklmnopqrstuvwxyz0123456789";for(var o=0;o<t;o++)i+=n.charAt(Math.floor(36*Math.random()));return ip(i)?e>2?lp(0,++t):lp(++e,t):i}function cp(e,t){let i=app.addPrefix?"variable-":"",n="abcdefghijklmnopqrstuvwxyz0123456789";for(var o=0;o<t;o++)i+=n.charAt(Math.floor(36*Math.random()));return ip(i)?e>2?cp(0,++t):cp(++e,t):i}function dp(e,t){let i="s-",n="abcdefghijklmnopqrstuvwxyz0123456789";for(var o=0;o<t;o++)i+=n.charAt(Math.floor(36*Math.random()));return Eu.has(i)?e>2?dp(0,++t):dp(++e,t):i}function up(e){switch(e){case"col-sm-6":case"col-sm-5":return 2;case"col-md-4":return 3;case"col-md-3":return 4;case"w-20":return 5;case"col-lg-2":return 6;case"w-14":return 7;case"w-12":return 8;case"w-11":return 9;case"w-10":return 10;case"w-9":return 11;case"col-xl-1":return 12;default:return 1}}let pp,hp=[];function fp(){return function(){if(hp.length!==app.words.length)return!0;for(let e=0;e<hp.length;e++){if(hp[e].id!==app.words[e].id)return!0;if(hp[e].replaceText!==app.words[e].replaceText)return!0}return!1}()&&(hp=JSON.parse(JSON.stringify(app.words)),pp=new RegExp(app.words.map(e=>e.id).sort((e,t)=>t.length-e.length).map(e=>e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")).join("|"),"g")),pp}function mp(e){let t=e;return app.words&&(t=t.replace(fp(),e=>{const t=yu.get(e);if(void 0!==t){return(t.startingSum%1==0?t.startingSum:parseFloat(t.startingSum.toFixed(void 0!==t.decimalPlaces?t.decimalPlaces:2))).toString()}{const t=wu.get(e);if(void 0!==t){const e=t.choice;if(e.isSelectableMultiple&&e.isMultipleUseVariable)return e.multipleUseVariable.toString()}else{const t=Cu.get(e);if(void 0!==t)return t.replaceText}}return e})),t}function gp(e,t,i){if(void 0!==i){if(void 0!==i.styling&&i.isPrivateStyling&&i[e])return i.styling;if(void 0!==app.objectDesignGroups&&i.objectDesignGroups)for(let t=0;t<i.objectDesignGroups.length;t++){let n=Ou.get(i.objectDesignGroups[t]);if(void 0!==n&&n[e]){let e=n.activatedId,t=Su.get(e);if(""===e||bp(n.activatedId))return n.styling;if(void 0!==app.globalRequirements&&void 0!==t&&Ip(t.requireds))return n.styling}}}if(void 0!==t){if(void 0!==t.styling&&t.isPrivateStyling&&t[e])return t.styling;if(void 0!==app.rowDesignGroups&&t.rowDesignGroups)for(let i=0;i<t.rowDesignGroups.length;i++){let n=Au.get(t.rowDesignGroups[i]);if(void 0!==n&&n[e]){let e=n.activatedId,t=Su.get(e);if(""===e||bp(n.activatedId))return n.styling;if(void 0!==app.globalRequirements&&void 0!==t&&Ip(t.requireds))return n.styling}}}return app.styling}function vp(e,t){if(t.has(e)){return vp(`${e}_dup`,t)}return e}function bp(e,t=vu){const[i,n="0"]=e.split("/ON#"),o=parseInt(n);if(o>0){return(t.get(i)?.multiple||0)>=o}return t.has(i)}function yp(e,t=1){switch(e){case"5":case"4":case"3":return 10*t+1;default:return 10*t+2}}function Tp(e){if("number"==typeof e)return e;if("string"==typeof e)return Number(e);const t=Tp(e.left),i=Tp(e.right);switch(e.operator){case"1":return t+i;case"2":return t-i;case"3":return t*i;case"4":return 0!==i?t/i:t;case"5":return 0!==i?t%i:t;default:return t}}function wp(e,t=vu){if(e.required)switch(e.type){case"id":return bp(e.reqId,t);case"points":const i=yu.get(e.reqId);if(void 0!==i){if(void 0===e.operator)return i.startingSum>e.reqPoints;switch(e.operator){case"1":return i.startingSum>e.reqPoints;case"2":return i.startingSum>=e.reqPoints;case"3":return i.startingSum==e.reqPoints;case"4":return i.startingSum<=e.reqPoints;case"5":return i.startingSum<e.reqPoints}}return!1;case"or":let n=void 0===e.orNum?1:e.orNum,o=0;for(let p=0;p<e.orRequired.length;p++){let i=e.orRequired[p].req;void 0!==i&&bp(i,t)&&o++}return o>=n;case"pointCompare":const r=yu.get(e.reqId),a=yu.get(e.reqId1);if(void 0!==r&&void 0!==a){let t=a.startingSum;if(e.more)for(let n=0;n<e.more.length;n++){let i=0;const o=e.more[n],r=o.operator||"1",a=yp(r,o.priority);if(o.id){const e=yu.get(o.id);void 0!==e&&(i=e.startingSum)}else void 0!==o.points&&(i=o.points);const s={left:t,operator:r,right:i,priority:a};t="number"!=typeof t&&a<t.priority?{left:t.left,operator:t.operator,right:{left:t.right,operator:r,right:i,priority:a},priority:t.priority}:s}const i=Tp(t);switch(e.operator){case"1":return r.startingSum>i;case"2":return r.startingSum>=i;case"3":return r.startingSum==i;case"4":return r.startingSum<=i;case"5":return r.startingSum<i;default:return!1}}return!1;case"selFromGroups":if(e.selGroups){let t=0,i=void 0===e.selFromOperators?"1":e.selFromOperators,n=void 0===e.selNum?1:e.selNum;for(let o=0;o<e.selGroups.length;o++){const i=Iu.get(e.selGroups[o]);if(void 0!==i){const e=i.elements;for(let i=0;i<e.length;i++)vu.has(e[i])&&t++}}switch(i){case"1":return!(n>t||0===n&&t>0);case"2":return n===t;case"3":return!(n<t||0===n&&t>0);default:return!1}}case"selFromRows":if(e.selRows){let t=0,i=void 0===e.selFromOperators?"1":e.selFromOperators,n=void 0===e.selNum?1:e.selNum;for(let o=0;o<e.selRows.length;o++){const i=Tu.get(e.selRows[o]);void 0!==i&&(t+=i.currentChoices)}switch(i){case"1":return!(n>t||0===n&&t>0);case"2":return n===t;case"3":return!(n<t||0===n&&t>0);default:return!1}}case"selFromWhole":let s=0,l=void 0===e.selFromOperators?"1":e.selFromOperators,c=void 0===e.selNum?1:e.selNum;for(let e=0;e<app.rows.length;e++)s+=app.rows[e].currentChoices;switch(l){case"1":return!(c>s||0===c&&s>0);case"2":return c===s;case"3":return!(c<s||0===c&&s>0);default:return!1}case"gid":const d=Su.get(e.reqId);return void 0!==d&&void 0!==app.globalRequirements&&Ip(d.requireds,t);case"word":const u=Cu.get(e.reqId);if(void 0!==u){let t=0;for(let i=0;i<e.orRequired.length;i++){let n=e.orRequired[i].req;void 0!==n&&u.replaceText===n&&t++}return t>=1}return!1}else switch(e.type){case"id":return!bp(e.reqId,t);case"or":let i=void 0===e.orNum?1:e.orNum,n=0;for(let r=0;r<e.orRequired.length;r++){let i=e.orRequired[r].req;(""===i||void 0!==i&&bp(i,t))&&n++}return n<e.orRequired.length-i+1;case"gid":const o=Su.get(e.reqId);return void 0!==o&&void 0!==app.globalRequirements&&!Ip(o.requireds,t)}return!1}function Ip(e,t=vu){let i=!0;if(void 0!==e)for(let n=0;n<e.length;n++){const o=e[n];let r=!0;if(void 0!==o.requireds)for(let e=0;e<o.requireds.length;e++)r=r&&wp(o.requireds[e],t);r&&(i=i&&wp(e[n],t))}return i}function Sp(e){const t=new Audio;return t.controls=!1,t.preload="metadata",e&&(t.crossOrigin="anonymous"),function(e){let t=!1,i=1,n=!1,o=!0;return e.addEventListener("loadedmetadata",()=>{n=Number.isFinite(e.duration)&&e.seekable&&e.seekable.length>0,n&&(Bu.curBgmLength=e.duration)}),e.addEventListener("play",()=>{o=!1}),e.addEventListener("ended",()=>{o=!0}),{type:"audio",load(t,i){e.src=t,e.loop=!!i?.loop,e.load(),o=!0,n=!1},play:()=>e.play().catch(e=>{throw o=!0,console.warn(e),e}),pause:()=>e.pause(),stop:()=>{e.pause(),n&&(e.currentTime=0),o=!0},mute:()=>{t=!0,e.muted=!0},unMute:()=>{t=!1,e.muted=!1},setVolume:n=>{i=n/100,t||(e.volume=i)},isPlaying:()=>!e.paused&&!o,isStopped:()=>o,isMuted:()=>t,seekTo:t=>{if(!n)return!1;try{return e.currentTime=t,!0}catch{return!1}},getCurrentTime:()=>n?e.currentTime:0,getDuration:()=>n?e.duration:0,getTitle:()=>e.src.split("/").pop()??"",getId:()=>e.src}}(t)}function Cp(e,t,i,n){function o(){const i=n.play();Bu.noCors=!1,Promise.resolve(i).catch(()=>{n=function(e,t){const i=Sp(!1);return i.load(e,{loop:t}),i.play(),Du.set(i),Bu.noCors=!0,i}(t,!e.bgmNoLoop)})}function r(){let r=0,a=0,s=0;if(i&&n.load(t,{loop:!e.bgmNoLoop}),e.bgmFadeIn&&void 0!==e.bgmFadeInSec&&e.bgmFadeInSec>0){const t=e.bgmFadeInSec/20;Bu.lastFadeTime=e.bgmFadeInSec,n.setVolume(0),o(),0!==Bu.bgmFadeInterval&&(window.clearInterval(Bu.bgmFadeInterval),Bu.bgmFadeInterval=0),0!==Bu.bgmPlayInterval&&(window.clearInterval(Bu.bgmPlayInterval),Bu.bgmPlayInterval=0),Bu.isFadingOut&&(Bu.isFadingOut=!1),Bu.bgmFadeInterval=window.setInterval(()=>{n.isPlaying()&&(r<app.curVolume?(r+=5,n.setVolume(r),Bu.lastFadeTime=Bu.lastFadeTime-t):(n.setVolume(app.curVolume),window.clearInterval(Bu.bgmFadeInterval),Bu.bgmFadeInterval=0,Bu.lastFadeTime=0))},t)}else Bu.isFadingOut&&(Bu.isFadingOut=!1,window.clearInterval(Bu.bgmFadeInterval),Bu.bgmFadeInterval=0),o(),n.setVolume(app.curVolume);Bu.bgmObjectId=e.id,app.showMusicPlayer&&(0!==Bu.bgmTitleInterval&&(window.clearInterval(Bu.bgmTitleInterval),Bu.bgmTitleInterval=0),Bu.bgmTitleInterval=window.setInterval(()=>{n.getId()!==t||""===n.getTitle()||0===n.getDuration()&&!Bu.noCors||(Bu.bgmTitle=n.getTitle(),Bu.curBgmLength=n.getDuration(),window.clearInterval(Bu.bgmTitleInterval),Bu.bgmTitleInterval=0)},1e3),0!==Bu.bgmPlayInterval&&(window.clearInterval(Bu.bgmPlayInterval),Bu.bgmPlayInterval=0),Bu.bgmPlayInterval=window.setInterval(()=>{if(!Bu.isSeeking&&n.isPlaying()){const e=Math.floor(n.getCurrentTime());e!==Bu.curBgmTime?a!==e?Bu.curBgmTime=e:(s++,s>Bu.curBgmLength&&(s=1),Bu.curBgmTime=s):(a=e,s=e+1,Bu.curBgmTime=s)}},1e3))}if(Bu.isFadingOut){const e=Bu.lastFadeTime;0!==Bu.bgmFadeTimer&&(window.clearTimeout(Bu.bgmFadeTimer),Bu.bgmFadeTimer=0),Bu.bgmFadeTimer=window.setTimeout(()=>{r()},e)}else r()}function xp(e,t){const i=app.curVolume/5;if(e.bgmFadeOut&&void 0!==e.bgmFadeOutSec&&e.bgmFadeOutSec>0&&i>0){const n=e.bgmFadeOutSec/i;let o=app.curVolume;Bu.lastFadeTime=e.bgmFadeOutSec,Bu.isFadingOut=!0,0!==Bu.bgmFadeInterval&&(window.clearInterval(Bu.bgmFadeInterval),Bu.bgmFadeInterval=0),Bu.bgmFadeInterval=window.setInterval(()=>{void 0!==t.setVolume&&(o>0?(o-=5,t.setVolume(o),Bu.lastFadeTime-=n):Bu.isFadingOut&&(t.pause(),t.setVolume(app.curVolume),window.clearInterval(Bu.bgmFadeInterval),Bu.bgmFadeInterval=0,Bu.lastFadeTime=0,Bu.isFadingOut=!1,0!==Bu.bgmTitleInterval&&(window.clearInterval(Bu.bgmTitleInterval),Bu.bgmTitleInterval=0),0!==Bu.bgmPlayInterval&&(window.clearInterval(Bu.bgmPlayInterval),Bu.bgmPlayInterval=0),Bu.bgmTitle="No Audio Title",Bu.curBgmTime=0,Bu.curBgmLength=0))},n)}else t.pause(),0!==Bu.bgmTitleInterval&&(window.clearInterval(Bu.bgmTitleInterval),Bu.bgmTitleInterval=0),0!==Bu.bgmPlayInterval&&(window.clearInterval(Bu.bgmPlayInterval),Bu.bgmPlayInterval=0),Bu.bgmTitle="No Audio Title",Bu.curBgmTime=0,Bu.curBgmLength=0}function Ap(e,t,i){const n=vn($u);let o=vn(Du);if(e.useAudioURL?(!o||"audio"!==o.type||o.getId()!==t&&!0===Bu.noCors)&&(o?.stop(),o=Sp(!0),Du.set(o)):!n||o&&"youtube"===o.type||(o?.stop(),o=function(e){return{type:"youtube",load(t,i){i?.loop?(e.loadPlaylist(t),e.setLoop(!0)):(e.loadVideoById(t),e.setLoop(!1))},play:()=>e.playVideo(),pause:()=>e.pauseVideo(),stop:()=>e.stopVideo(),mute:()=>e.mute(),unMute:()=>e.unMute(),setVolume:t=>e.setVolume(t),isPlaying:()=>1===e.getPlayerState(),isStopped:()=>2===e.getPlayerState(),isMuted:()=>e.isMuted(),seekTo:t=>(e.seekTo(t,!0),!0),getCurrentTime:()=>e.getCurrentTime(),getDuration:()=>e.getDuration(),getTitle:()=>e.playerInfo?.videoData?.title??"",getId:()=>e.playerInfo?.videoData?.video_id??""}}(n),Du.set(o)),o){const i=Bu.bgmIsPlaying;o.getId()===t?Bu.bgmObjectId===e.id?i?(o.isStopped()||o.stop(),Cp(e,t,!1,o)):xp(e,o):i?(o.stop(),Cp(e,t,!1,o)):xp(e,o):i&&Cp(e,t,!0,o)}else i<10?window.setTimeout(()=>{Ap(e,t,++i)},200):console.log("Failed to play bgm")}async function Op(e){const t=new((await new Promise(e=>{if(window.YT&&window.YT.Player)e(window.YT);else{const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.head.appendChild(t),window.onYouTubeIframeAPIReady=()=>e(window.YT)}})).Player)("bgm-player",{width:0,height:0,events:{onReady:()=>{$u.set(t),Ap(e,e.bgmId||"",0),app.isMute&&!t.isMuted()&&t.mute()}}})}function Ep(e,t,i=!1){if(void 0!==e){if(t){const t=["addonBorderRadiusTopLeft","addonBorderRadiusTopRight","addonBorderRadiusBottomLeft","addonBorderRadiusBottomRight","addonImgBorderRadiusTopLeft","addonImgBorderRadiusTopRight","addonImgBorderRadiusBottomLeft","addonImgBorderRadiusBottomRight","objectBorderRadiusTopLeft","objectBorderRadiusTopRight","objectBorderRadiusBottomLeft","objectBorderRadiusBottomRight","objectImgBorderRadiusTopLeft","objectImgBorderRadiusTopRight","objectImgBorderRadiusBottomLeft","objectImgBorderRadiusBottomRight","rowBorderRadiusTopLeft","rowBorderRadiusTopRight","rowBorderRadiusBottomLeft","rowBorderRadiusBottomRight","rowImgBorderRadiusTopLeft","rowImgBorderRadiusTopRight","rowImgBorderRadiusBottomLeft","rowImgBorderRadiusBottomRight"];for(let i=0;i<t.length;i++){const n=t[i];void 0!==e[n]&&(e[n]=10*e[n])}}const n=["selFilterBgColor","selFilterBorderColor","selFilterCTitleColor","selFilterCTextColor","selFilterATitleColor","selFilterATextColor","selFilterSTextColor","reqFilterBgColor","reqFilterBorderColor","reqFilterCTitleColor","reqFilterCTextColor","reqFilterATitleColor","reqFilterATextColor","reqFilterSTextColor","rowTitleColor","rowTextColor","objectTitleColor","objectTextColor","addonTitleColor","addonTextColor","scoreTextColor","objectImgBorderColor","rowImgBorderColor","addonImgBorderColor","backgroundColor","rowBgColor","objectBgColor","objectDropShadowColor","objectBorderColor","rowDropShadowColor","rowBorderColor","addonDropShadowColor","addonBorderColor","addonBgColor","barTextColor","barIconColor","barBackgroundColor","backpackBgColor","barPointNeg","barPointPos"];for(let t=0;t<n.length;t++){const i=n[t];"object"==typeof e[i]&&(e[i]=e[i].hexa)}i&&(void 0===e.customMultiTextFont&&(e.customMultiTextFont=!1),void 0===e.multiChoiceCounterPosition&&(e.multiChoiceCounterPosition=0),void 0===e.multiChoiceCounterSize&&(e.multiChoiceCounterSize=170),void 0===e.multiChoiceTextFont&&(e.multiChoiceTextFont="Times New Roman"),void 0===e.multiChoiceTextSize&&(e.multiChoiceTextSize=100))}}function _p(e,t,i){switch(t){case"1":return e-i;case"2":return e+i;case"3":return e*i;case"4":return e/i;case"5":return i;default:return e}}function kp(e){delete e.tmpDiscount,delete e.discountTextA,delete e.discountTextB,delete e.dupTextA,delete e.dupTextB,delete e.discountedFrom,delete e.discountIsOn,delete e.discountScore,delete e.discountScoreCal,delete e.notStackableDiscount,delete e.discountShow,delete e.discountBeforeText,delete e.discountAfterText,delete e.isChangeDiscount,delete e.tmpDisScore,delete e.appliedDiscount,delete e.replaceText,delete e.hideDisValue,delete e.hideDisIcon}function Rp(e,t){for(let i=0;i<t.scores.length;i++){const n=t.scores[i],o=n.appliedDiscount;if(!n.isNotDiscountable&&(void 0===e.discountPointTypes||0===e.discountPointTypes.length||-1!==e.discountPointTypes.indexOf(n.id))){const i=yu.get(n.id);if(void 0!==i&&void 0!==e.discountOperator&&void 0!==e.discountValue){let r=i.allowFloat?n.value:Math.floor(n.value),a=n.discountIsOn&&void 0!==n.discountScore?n.discountScore:n.value;a=i.allowFloat?a:Math.floor(a);let s=0,l=0,c=[],d=!1,u=0;if(e.stackableDiscount){if(n.notStackableDiscount){if(void 0!==n.tmpDiscount){for(let e=0;e<n.tmpDiscount.length;e++)n.tmpDiscount[e].isStackable&&(c=n.tmpDiscount[e].discountedFrom,r=n.tmpDiscount[e].discountedValue,u=e);n.tmpDiscount.splice(u,1)}}else if(void 0!==n.discountedFrom){let o=n.discountedFrom.indexOf(e.id);if(n.discountedFrom.splice(o,1),n.discountedFrom.length>0){let o=!1,c=!1,d=!1;s=r;for(let e=0;e<n.discountedFrom.length;e++){const t=wu.get(n.discountedFrom[e]);if(void 0!==t){const e=t.choice;void 0!==e.discountOperator&&void 0!==e.discountValue&&(s=_p(s,e.discountOperator,e.discountValue),s=i.allowFloat?s:Math.floor(s),l=s,e.replaceScoreText&&(o=e.replaceScoreText),e.hideScoreValue&&(c=e.hideScoreValue),e.hideScoreIcon&&(d=e.hideScoreIcon),e.discountLowLimitIsOn&&void 0!==e.discountLowLimit&&(s=Math.max(s,e.discountLowLimit)))}}if(e.discountShow){let t=void 0!==e.discountAfterText&&void 0!==n.discountTextA?n.discountTextA.indexOf(e.discountAfterText):-1,i=void 0!==e.discountBeforeText&&void 0!==n.discountTextB?n.discountTextB.indexOf(e.discountBeforeText):-1;e.discountTextDuplicated?(-1!==t&&void 0!==n.dupTextA&&void 0!==e.discountAfterText&&(n.dupTextA[e.discountAfterText]-=1,0===n.dupTextA[e.discountAfterText]&&(n.discountTextA?.splice(t,1),delete n.dupTextA[e.discountAfterText])),-1!==i&&void 0!==n.dupTextB&&void 0!==e.discountBeforeText&&(n.dupTextB[e.discountBeforeText]-=1,0===n.dupTextB[e.discountBeforeText]&&(n.discountTextB?.splice(t,1),delete n.dupTextB[e.discountBeforeText]))):(-1!==t&&void 0!==n.discountTextA&&(n.discountTextA.splice(t,1),n.discountAfterText=n.discountTextA.join(" ")),-1!==i&&void 0!==n.discountTextB&&(n.discountTextB.splice(i,1),n.discountBeforeText=n.discountTextB.join(" ")))}if(n.discountScore=s,n.discountScoreCal=l,n.replaceText=o,n.hideDisValue=c,n.hideDisIcon=d,e.useDiscountCount&&n.appliedDiscount){n.tmpDisScore=a-n.value,t.isActive&&(n.isChangeDiscount=!0);continue}}else{if(void 0!==n.tmpDiscount)for(let e=0;e<n.tmpDiscount.length;e++)n.tmpDiscount[e].isStackable||s>n.tmpDiscount[e].discountedValue&&(c=n.tmpDiscount[e].discountedFrom,l=n.tmpDiscount[e].calcValue,s=n.tmpDiscount[e].discountedValue,u=e,d=!0);d&&void 0!==n.tmpDiscount?0===c.length?n.tmpDiscount.splice(u,1):(n.discountedFrom=c,n.tmpDiscount[u].showDiscount&&(n.discountBeforeText=n.tmpDiscount[u].beforeText,n.discountAfterText=n.tmpDiscount[u].afterText,n.replaceText=n.tmpDiscount[u].replaceText||!1,n.hideDisValue=n.tmpDiscount[u].hideValue||!1,n.hideDisIcon=n.tmpDiscount[u].hideIcon||!1),n.tmpDiscount.splice(u,1),n.notStackableDiscount=!0):kp(n)}}}else if(n.notStackableDiscount)if(void 0!==n.discountedFrom&&n.discountedFrom.length>0&&void 0!==n.tmpDiscount){if(-1!==n.discountedFrom.indexOf(e.id)){if(n.tmpDiscount.length>0){r=n.tmpDiscount[0].discountedValue,d=!0;for(let e=1;e<n.tmpDiscount.length;e++)r>n.tmpDiscount[e].discountedValue&&(r=n.tmpDiscount[e].discountedValue,u=e)}d?(n.discountScore=r,n.discountScoreCal=n.tmpDiscount[u].calcValue,n.discountedFrom=n.tmpDiscount[u].discountedFrom,n.notStackableDiscount=!n.tmpDiscount[u].isStackable,n.discountShow=n.tmpDiscount[u].showDiscount,n.tmpDiscount[u].isStackable&&n.tmpDiscount[u].showDiscount?(n.discountBeforeText=n.discountTextB?.join(""),n.discountAfterText=n.discountTextA?.join("")):n.tmpDiscount[u].showDiscount?(n.discountBeforeText=n.tmpDiscount[u].beforeText,n.discountAfterText=n.tmpDiscount[u].afterText,n.replaceText=n.tmpDiscount[u].replaceText||!1,n.hideDisValue=n.tmpDiscount[u].hideValue||!1,n.hideDisIcon=n.tmpDiscount[u].hideIcon||!1):(n.discountBeforeText="",n.discountAfterText="",n.replaceText=!1,n.hideDisValue=!1,n.hideDisIcon=!1),n.tmpDiscount.splice(u,1)):kp(n)}else for(let t=0;t<n.tmpDiscount.length;t++)if(-1!==n.tmpDiscount[t].discountedFrom.indexOf(e.id)){n.tmpDiscount.splice(t,1);break}}else kp(n);else if(void 0!==n.tmpDiscount){if(n.tmpDiscount=n.tmpDiscount.filter(t=>-1!==t.discountedFrom.indexOf(e.id)),n.tmpDiscount.length>0){r=n.tmpDiscount[0].discountedValue,d=!0;for(let e=1;e<n.tmpDiscount.length;e++)r>n.tmpDiscount[e].discountedValue&&(r=n.tmpDiscount[e].discountedValue,u=e)}d?(n.discountScore=r,n.discountScoreCal=n.tmpDiscount[u].calcValue,n.discountedFrom=n.tmpDiscount[u].discountedFrom,n.notStackableDiscount=!n.tmpDiscount[u].isStackable,n.notStackableDiscount?n.tmpDiscount[u].showDiscount?(n.discountBeforeText=n.tmpDiscount[u].beforeText,n.discountAfterText=n.tmpDiscount[u].afterText,n.replaceText=n.tmpDiscount[u].replaceText||!1,n.hideDisValue=n.tmpDiscount[u].hideValue||!1,n.hideDisIcon=n.tmpDiscount[u].hideIcon||!1):(n.discountBeforeText="",n.discountAfterText="",n.replaceText=!1,n.hideDisValue=!1,n.hideDisIcon=!1):(n.discountBeforeText=n.discountTextB?.join(""),n.discountAfterText=n.discountTextA?.join("")),n.tmpDiscount.splice(u,1)):kp(n)}else kp(n);let p=void 0!==n.discountScore?n.discountScore:n.value;p=i.allowFloat?p:Math.floor(p),p!==a&&o?(n.tmpDisScore=a-p,t.isActive&&(n.isChangeDiscount=!0)):t.isActive&&(n.isChangeDiscount=!1)}}}}function Mp(e,t){for(let i=0;i<t.scores.length;i++){const n=t.scores[i];if(!n.isNotDiscountable&&(void 0===e.discountPointTypes||0===e.discountPointTypes.length||-1!==e.discountPointTypes.indexOf(n.id))){const i=yu.get(n.id);if(void 0!==i&&void 0!==e.discountOperator&&void 0!==e.discountValue){let o,r=i.allowFloat?n.value:Math.floor(n.value),a=n.discountIsOn&&void 0!==n.discountScore?n.discountScore:r,s=0,l=0,c=[],d=!1,u=0;if(void 0===n.discountedFrom&&(n.discountedFrom=[]),e.stackableDiscount)if(n.notStackableDiscount){if(void 0!==n.tmpDiscount){for(let t=0;t<n.tmpDiscount.length;t++)n.tmpDiscount[t].isStackable&&(c=n.tmpDiscount[t].discountedFrom,c.push(e.id),r=n.tmpDiscount[t].discountedValue,d=!0,u=t);s=_p(r,e.discountOperator,e.discountValue),s=i.allowFloat?s:Math.floor(s),l=s,e.discountLowLimitIsOn&&void 0!==e.discountLowLimit&&(s=Math.max(s,e.discountLowLimit)),void 0!==n.discountScore&&n.discountScore>s?(n.tmpDisScore=n.discountScore-s,t.isActive&&(n.isChangeDiscount=!0),o={isStackable:!1,discountedFrom:n.discountedFrom,calcValue:void 0!==n.discountScoreCal?n.discountScoreCal:n.discountScore,discountedValue:n.discountScore,showDiscount:!1,replaceText:!1,hideValue:!1,hideIcon:!1},n.discountShow&&(o.showDiscount=!0,o.beforeText=e.discountBeforeText,o.afterText=e.discountAfterText,e.replaceScoreText&&(o.replaceText=!0),e.hideScoreValue&&(o.hideValue=!0),e.hideScoreIcon&&(o.hideIcon=!0)),n.discountScore=s,n.discountScoreCal=l,e.discountShow&&(n.discountShow=!0,Dp(e,n)),void 0!==n.discountTextA&&(n.discountAfterText=n.discountTextA.join(" ")),void 0!==n.discountTextB&&(n.discountBeforeText=n.discountTextB.join(" ")),n.discountedFrom.push(...c),d&&n.tmpDiscount.splice(u,1),n.tmpDiscount.push(o),n.notStackableDiscount=!1):(t.isActive&&(n.isChangeDiscount=!1),c.push(e.id),e.discountShow&&Dp(e,n),d?(n.tmpDiscount[u].discountedFrom=c,n.tmpDiscount[u].calcValue=l,n.tmpDiscount[u].discountedValue=s):(o={isStackable:e.stackableDiscount||!1,discountedFrom:c,calcValue:l,discountedValue:s,showDiscount:e.discountShow||!1,replaceText:e.replaceScoreText||!1,hideValue:e.hideScoreValue||!1,hideIcon:e.hideScoreIcon||!1},n.tmpDiscount.push(o)))}}else r=n.discountIsOn&&void 0!==n.discountScoreCal?n.discountScoreCal:n.value,r=i.allowFloat?r:Math.floor(r),a=n.discountIsOn&&void 0!==n.discountScore?n.discountScore:n.value,a=i.allowFloat?a:Math.floor(a),s=_p(r,e.discountOperator,e.discountValue),s=i.allowFloat?s:Math.floor(s),l=s,e.discountLowLimitIsOn&&void 0!==e.discountLowLimit&&(s=Math.max(s,e.discountLowLimit)),Array.isArray(n.discountedFrom)||(n.discountedFrom=[]),n.discountScore=s,n.discountScoreCal=l,n.discountedFrom.push(e.id),n.discountScore!==a?(n.tmpDisScore=a-n.discountScore,t.isActive&&(n.isChangeDiscount=!0)):!n.appliedDiscount&&e.useDiscountCount&&e.discountCount?(void 0===e.appliedDisChoices&&(e.appliedDisChoices=[]),n.tmpDisScore=n.value-n.discountScore,t.isActive&&(n.isChangeDiscount=!0)):t.isActive&&(n.isChangeDiscount=!1),n.discountIsOn||(n.discountIsOn=!0),e.discountShow&&(n.discountShow=!0,Dp(e,n)),void 0!==n.discountTextA&&(n.discountAfterText=n.discountTextA.join(" ")),void 0!==n.discountTextB&&(n.discountBeforeText=n.discountTextB.join(" "));else void 0===n.tmpDiscount&&(n.tmpDiscount=[]),s=_p(r,e.discountOperator,e.discountValue),s=i.allowFloat?s:Math.floor(s),l=s,e.discountLowLimitIsOn&&void 0!==e.discountLowLimit&&(s=Math.max(s,e.discountLowLimit)),n.discountIsOn?void 0!==n.discountScore&&(n.discountScore>s?(o={isStackable:!n.notStackableDiscount,discountedFrom:n.discountedFrom,calcValue:void 0!==n.discountScoreCal?n.discountScoreCal:n.discountScore,discountedValue:n.discountScore,showDiscount:n.discountShow||!1},n.discountShow&&(o.showDiscount=!0,o.beforeText=n.discountBeforeText,o.afterText=n.discountAfterText,o.replaceText=n.replaceText||!1,o.hideValue=n.hideDisValue||!1,o.hideIcon=n.hideDisIcon||!1),n.discountScore=s,n.discountScoreCal=l,n.discountShow=e.discountShow,n.discountBeforeText=e.discountBeforeText,n.discountAfterText=e.discountAfterText,n.discountedFrom=[e.id],n.notStackableDiscount=!0,n.replaceText=e.replaceScoreText||!1,n.hideDisValue=e.hideScoreValue||!1,n.hideDisIcon=e.hideScoreIcon||!1):(o={isStackable:e.stackableDiscount||!1,discountedFrom:[e.id],calcValue:l,discountedValue:s,showDiscount:e.discountShow||!1,replaceText:n.replaceText||!1,hideValue:n.hideDisValue||!1,hideIcon:n.hideDisIcon||!1},e.discountShow&&(o.showDiscount=!0,o.beforeText=e.discountBeforeText,o.afterText=e.discountAfterText,e.replaceScoreText&&(o.replaceText=!0),e.hideScoreValue&&(o.hideValue=!0),e.hideScoreIcon&&(o.hideIcon=!0))),n.tmpDiscount.push(o)):(n.discountScore=s,n.discountScoreCal=l,e.discountShow&&(n.discountShow=e.discountShow,n.discountBeforeText=e.discountBeforeText,n.discountAfterText=e.discountAfterText,n.replaceText=e.replaceScoreText||!1,n.hideDisValue=e.hideScoreValue||!1,n.hideDisIcon=e.hideScoreIcon||!1),Array.isArray(n.discountedFrom)||(n.discountedFrom=[]),n.discountIsOn=!0,n.discountedFrom.push(e.id),n.notStackableDiscount=!0),void 0!==n.discountScore&&n.discountScore!==a?(n.tmpDisScore=a-n.discountScore,t.isActive&&(n.isChangeDiscount=!0)):t.isActive&&(n.isChangeDiscount=!1)}}}}function Dp(e,t){void 0===t.discountTextA&&(t.discountTextA=[]),void 0===t.discountTextB&&(t.discountTextB=[]),void 0===t.dupTextA&&(t.dupTextA={}),void 0===t.dupTextB&&(t.dupTextB={}),e.discountTextDuplicated?(void 0!==e.discountAfterText&&(-1!==t.discountTextA.indexOf(e.discountAfterText)?t.dupTextA[e.discountAfterText]=(t.dupTextA[e.discountAfterText]||0)+1:(t.dupTextA[e.discountAfterText]=1,t.discountTextA.push(e.discountAfterText))),void 0!==e.discountBeforeText&&(-1!==t.discountTextB.indexOf(e.discountBeforeText)?t.dupTextB[e.discountBeforeText]=(t.dupTextB[e.discountBeforeText]||0)+1:(t.dupTextB[e.discountBeforeText]=1,t.discountTextB.push(e.discountBeforeText)))):(void 0!==e.discountAfterText&&t.discountTextA.push(e.discountAfterText),void 0!==e.discountBeforeText&&t.discountTextB.push(e.discountBeforeText)),t.replaceText=e.replaceScoreText||!1,t.hideDisValue=e.hideScoreValue||!1,t.hideDisIcon=e.hideScoreIcon||!1}function $p(e,t){if(t.discountedFrom&&t.discountedFrom.length>0)for(let i=0;i<t.discountedFrom.length;i++){const n=wu.get(t.discountedFrom[i]);if(void 0!==n){const i=n.choice;let o=_p(t.value,i.discountOperator,i.discountValue);o=e.allowFloat?o:Math.floor(o);let r=o;i.discountLowLimitIsOn&&void 0!==i.discountLowLimit&&(o=Math.max(o,i.discountLowLimit)),t.discountScore=o,t.discountScoreCal=r}}}function Bp(e,t){let i=!0;const n=new Map,o=new al(JSON.parse(JSON.stringify([...vu]))),r=o.get(e.id);t?e.isSelectableMultiple&&e.isMultipleUseVariable?void 0!==r?r.multiple+=1:o.set(e.id,{multiple:e.multipleUseVariable+1}):o.set(e.id,{multiple:0}):void 0!==r&&o.delete(e.id);for(let a=0;a<e.scores.length;a++){const r=e.scores[a],s=yu.get(r.id);if(void 0!==s){if(r.useExpression&&!r.setValue)if(r.isRandom&&r.expMinValue&&r.expMaxValue)try{const t=r.expMinValue.replace(/\{([^{}]+)\}/g,(e,t)=>{const i=n.get(t);if(void 0!==i)return`${i}`;{const e=yu.get(t);if(void 0!==e)return`${e.startingSum}`}throw new Error(`Undefined variable: "${t}"`)}),i=r.expMaxValue.replace(/\{([^{}]+)\}/g,(e,t)=>{const i=n.get(t);if(void 0!==i)return`${i}`;{const e=yu.get(t);if(void 0!==e)return`${e.startingSum}`}throw new Error(`Undefined variable: "${t}"`)}),o=iu(t),a=iu(i);r.value=Math.floor(Math.random()*(a-o+1))+o,r.value=s.allowFloat?r.value:Math.floor(r.value),r.setValue=!0,e.isSelectableMultiple&&e.isMultipleUseVariable&&(void 0===r.mulValue&&(r.mulValue=[]),r.mulValue.push(r.value))}catch(Pd){console.error(Pd)}else if(r.expValue)try{const t=r.expValue.replace(/\{([^{}]+)\}/g,(e,t)=>{const i=n.get(t);if(void 0!==i)return`${i}`;{const e=yu.get(t);if(void 0!==e)return`${e.startingSum}`}throw new Error(`Undefined variable: "${t}"`)});r.value=iu(t),r.value=s.allowFloat?r.value:Math.floor(r.value),r.setValue=!0,e.isSelectableMultiple&&e.isMultipleUseVariable&&(void 0===r.mulValue&&(r.mulValue=[]),r.mulValue.push(r.value))}catch(Pd){console.error(Pd)}let a=r.discountIsOn&&void 0!==r.discountScore&&r.appliedDiscount?r.discountScore:r.value;if(r.multiplyByTimes&&(a*=Math.abs(e.multipleUseVariable)+1),Ip(r.requireds,o)&&!r.isActive){const e=n.get(r.id);void 0!==e?(s.belowZeroNotAllowed&&(i=i&&(t?e-a>=0:e+a>=0)),n.set(r.id,e-a)):(s.belowZeroNotAllowed&&(i=i&&(t?s.startingSum-a>=0:s.startingSum+a>=0)),n.set(r.id,s.startingSum-a))}}}if(e.multiplyPointtypeIsOnCheck&&void 0!==e.pointTypeToMultiply){let t=0;for(let n=0;n<e.pointTypeToMultiply.length;n++){let o=yu.get(e.pointTypeToMultiply[n]);if(void 0!==o&&o.belowZeroNotAllowed){let r=o.startingSum;for(let i=_u.length-1;i>=0;i--){let a=_u[i];if(a.multiplyPointtypeIsOnCheck&&void 0!==a.startingSumAtMultiply){let e=a.startingSumAtMultiply[n].value*a.startingSumAtMultiply[n].calcVal;e=o.allowFloat?e:Math.floor(e),r-=e,r+=a.startingSumAtMultiply[n].value}if(a.dividePointtypeIsOnCheck&&void 0!==a.startingSumAtDivide){let e=a.startingSumAtDivide[n].value/a.startingSumAtDivide[n].calcVal;e=o.allowFloat?e:Math.floor(e),r-=e,r+=a.startingSumAtDivide[n].value}if(a.setPointtypeIsOnCheck&&void 0!==a.startingSumAtSet&&(r=a.startingSumAtSet[n].value),a.id===e.id){t=i;break}}for(let e=t+1;e<_u.length;e++){let t=_u[e];t.multiplyPointtypeIsOnCheck&&void 0!==t.startingSumAtMultiply&&(r*=t.startingSumAtMultiply[n].calcVal,r=o.allowFloat?r:Math.floor(r)),t.dividePointtypeIsOnCheck&&void 0!==t.startingSumAtDivide&&(r/=t.startingSumAtDivide[n].calcVal,r=o.allowFloat?r:Math.floor(r)),t.setPointtypeIsOnCheck&&void 0!==t.startingSumAtSet&&(r=t.startingSumAtSet[n].calcVal,r=o.allowFloat?r:Math.floor(r))}i=i&&r>=0}}}if(e.dividePointtypeIsOnCheck&&void 0!==e.pointTypeToDivide){let t=0;for(let n=0;n<e.pointTypeToDivide.length;n++){let o=yu.get(e.pointTypeToDivide[n]);if(void 0!==o&&o.belowZeroNotAllowed){let r=o.startingSum;for(let i=_u.length-1;i>=0;i--){let a=_u[i];if(a.multiplyPointtypeIsOnCheck&&void 0!==a.startingSumAtMultiply){let e=a.startingSumAtMultiply[n].value*a.startingSumAtMultiply[n].calcVal;e=o.allowFloat?e:Math.floor(e),r-=e,r+=a.startingSumAtMultiply[n].value}if(a.dividePointtypeIsOnCheck&&void 0!==a.startingSumAtDivide){let e=a.startingSumAtDivide[n].value/a.startingSumAtDivide[n].calcVal;e=o.allowFloat?e:Math.floor(e),r-=e,r+=a.startingSumAtDivide[n].value}if(a.setPointtypeIsOnCheck&&void 0!==a.startingSumAtSet&&(r=a.startingSumAtSet[n].value),a.id===e.id){t=i;break}}for(let e=t+1;e<_u.length;e++){let t=_u[e];t.multiplyPointtypeIsOnCheck&&void 0!==t.startingSumAtMultiply&&(r*=t.startingSumAtMultiply[n].calcVal,r=o.allowFloat?r:Math.floor(r)),t.dividePointtypeIsOnCheck&&void 0!==t.startingSumAtDivide&&(r/=t.startingSumAtDivide[n].calcVal,r=o.allowFloat?r:Math.floor(r)),t.setPointtypeIsOnCheck&&void 0!==t.startingSumAtSet&&(r=t.startingSumAtSet[n].calcVal,r=o.allowFloat?r:Math.floor(r))}i=i&&r>=0}}}if(e.setPointtypeIsOnCheck&&void 0!==e.pointTypeToSet){let t=0;for(let n=0;n<e.pointTypeToSet.length;n++){let o=yu.get(e.pointTypeToSet[n]);if(void 0!==o&&o.belowZeroNotAllowed){let r=o.startingSum;for(let i=_u.length-1;i>=0;i--){let a=_u[i];if(a.multiplyPointtypeIsOnCheck&&void 0!==a.startingSumAtMultiply){let e=a.startingSumAtMultiply[n].value*a.startingSumAtMultiply[n].calcVal;e=o.allowFloat?e:Math.floor(e),r-=e,r+=a.startingSumAtMultiply[n].value}if(a.dividePointtypeIsOnCheck&&void 0!==a.startingSumAtDivide){let e=a.startingSumAtDivide[n].value/a.startingSumAtDivide[n].calcVal;e=o.allowFloat?e:Math.floor(e),r-=e,r+=a.startingSumAtDivide[n].value}if(a.setPointtypeIsOnCheck&&void 0!==a.startingSumAtSet&&(r=a.startingSumAtSet[n].value),a.id===e.id){t=i;break}}for(let e=t+1;e<_u.length;e++){let t=_u[e];t.multiplyPointtypeIsOnCheck&&void 0!==t.startingSumAtMultiply&&(r*=t.startingSumAtMultiply[n].calcVal,r=o.allowFloat?r:Math.floor(r)),t.dividePointtypeIsOnCheck&&void 0!==t.startingSumAtDivide&&(r/=t.startingSumAtDivide[n].calcVal,r=o.allowFloat?r:Math.floor(r)),t.setPointtypeIsOnCheck&&void 0!==t.startingSumAtSet&&(r=t.startingSumAtSet[n].calcVal,r=o.allowFloat?r:Math.floor(r))}i=i&&r>=0}}}return i}function Fp(e,t){t.isRandom&&void 0!==t.maxValue&&void 0!==t.minValue&&(t.value=Math.floor(Math.random()*(t.maxValue-t.minValue+1))+t.minValue,t.value=e.allowFloat?t.value:Math.floor(t.value),t.setValue=!0)}function Lp(){const e=new Set,t=new Set;function i(n){if(n.activateOtherChoice&&void 0!==n.activateThisChoice)if(n.activatedRandom){if(n.isSelectableMultiple){for(let r=0;r<n.multipleUseVariable;r++)if(void 0!==n.activatedRandomMul)for(var o=0;o<n.activatedRandomMul[o].length;o++){const a=n.activatedRandomMul[r][o].split("/ON#"),s=wu.get(a[0]);if(void 0!==s){const o=s.choice;if(vu.has(o.id)||n.activateAfterReset)n.isAllowDeselect&&!n.activateAfterReset||(n.activateAfterReset&&t.add(o.id),e.add(o.id),a.length>1&&o.isSelectableMultiple&&(void 0===o.tempMultipleValue?o.tempMultipleValue=parseInt(a[1]):o.tempMultipleValue+=parseInt(a[1])),i(o));else{const e=bu.get(o.id);void 0!==e?a.length>1&&(e.multiple+=parseInt(a[1])):bu.set(o.id,{multiple:a.length>1?parseInt(a[1]):0,isAllowDeselect:o.isAllowDeselect||!1})}}}}else if(void 0!==n.activatedRandom)for(let r=0;r<n.activatedRandom.length;r++){const o=n.activatedRandom[r].split("/ON#"),a=wu.get(o[0]);if(void 0!==a){const r=a.choice;if(vu.has(r.id)||n.activateAfterReset)n.isAllowDeselect&&!n.activateAfterReset||(n.activateAfterReset&&t.add(r.id),e.add(r.id),o.length>1&&r.isSelectableMultiple&&(void 0===r.tempMultipleValue?r.tempMultipleValue=parseInt(o[1]):r.tempMultipleValue+=parseInt(o[1])),i(r));else{const e=bu.get(r.id);void 0!==e?o.length>1&&(e.multiple+=parseInt(o[1])):bu.set(r.id,{multiple:o.length>1?parseInt(o[1]):0,isAllowDeselect:r.isAllowDeselect||!1})}}}}else{const o=n.activateThisChoice.split(",");for(let r=0;r<o.length;r++){const a=o[r].split("/ON#"),s=wu.get(a[0]);if(void 0!==s){const o=s.choice;if(vu.has(o.id)||n.activateAfterReset)n.isAllowDeselect&&!n.activateAfterReset||(n.activateAfterReset&&t.add(o.id),e.add(o.id),a.length>1&&o.isSelectableMultiple&&(void 0===o.tempMultipleValue?o.tempMultipleValue=parseInt(a[1]):o.tempMultipleValue+=parseInt(a[1])),i(o));else{const e=bu.get(o.id);void 0!==e?a.length>1&&(e.multiple+=parseInt(a[1])):bu.set(o.id,{multiple:a.length>1?parseInt(a[1]):0,isAllowDeselect:o.isAllowDeselect||!1})}}}}}bu.clear(),Array.from(vu.entries()).forEach(([t])=>{const n=wu.get(t);if(void 0!==n){const t=n.choice;t.notDeselectedByClean&&(e.add(t.id),i(t))}else{const e=xu.get(t);void 0!==e&&(e.isTrue=!e.isTrue),vu.delete(t)}});let n=new Set;for(let r of vu.keys())n.add(r);for(let[r,a]of wu)a.choice.isActive&&n.add(r);let o=[...n,...t];for(let r=o.length-1;r>=0;r--){const i=wu.get(o[r]);if(void 0!==i){const n=i.choice;if(delete n.multiplyPointtypeIsOnCheck,delete n.startingSumAtMultiply,delete n.dividePointtypeIsOnCheck,delete n.startingSumAtDivide,delete n.numDiscountChoices,delete n.appliedDisChoices,n.addToAllowChoice&&void 0!==n.idOfAllowChoice&&void 0!==n.numbAddToAllowChoice)for(let e=0;e<n.idOfAllowChoice.length;e++){const t=Tu.get(n.idOfAllowChoice[e]);void 0!==t&&(t.allowedChoices-=n.numbAddToAllowChoice)}if(n.muteBgm&&Du){const e=vn(Du);app.isMute=!1,e&&"function"==typeof e.unMute&&e.unMute()}if(e.has(n.id))n.isSelectableMultiple&&n.isMultipleUseVariable&&void 0!==n.tempMultipleValue&&(n.multipleUseVariable=n.tempMultipleValue,delete n.tempMultipleValue),t.has(n.id)&&(n.isActive=!0,vu.set(n.id,{multiple:n.isSelectableMultiple&&n.isMultipleUseVariable?n.multipleUseVariable:0}));else{if(delete n.activatedRandom,delete n.activatedRandomMul,n.isContentHidden&&void 0!==n.hiddenContentsRow&&void 0!==n.hiddenContentsType)for(let e=0;e<n.hiddenContentsRow.length;e++){const t=Tu.get(n.hiddenContentsRow[e]);if(void 0!==t)for(let e=0;e<n.hiddenContentsType.length;e++)switch(n.hiddenContentsType[e]){case"1":delete t.objectTitleRemoved;break;case"2":delete t.objectImageRemoved;break;case"3":delete t.objectTextRemoved;break;case"4":delete t.objectScoreRemoved;break;case"5":delete t.objectRequirementRemoved;break;case"6":delete t.addonTitleRemoved;break;case"7":delete t.addonImageRemoved;break;case"8":delete t.addonTextRemoved}}if(n.isChangeVariables&&void 0!==n.changedVariables)for(let e=0;e<n.changedVariables.length;e++){const t=xu.get(n.changedVariables[e]);void 0!==t&&("1"===n.changeType?t.isTrue=!0:"2"===n.changeType?t.isTrue=!1:"3"===n.changeType&&(t.isTrue=!t.isTrue))}if(n.textfieldIsOn&&void 0!==n.idOfTheTextfieldWord&&void 0!==n.wordChangeSelect){const e=Cu.get(n.idOfTheTextfieldWord);void 0!==e&&(e.replaceText=void 0===n.wordChangeDeselect?"":n.wordChangeDeselect)}if(n.isImageUpload&&void 0!==n.defaultImage&&(n.image=n.defaultImage),n.setBgmIsOn&&Du&&n.bgmId){const e=vn(Du);e&&e.getId()===n.bgmId&&(e.stop(),Bu.bgmIsPlaying=!1,0!==Bu.bgmFadeInterval&&(window.clearInterval(Bu.bgmFadeInterval),Bu.bgmFadeInterval=0),0!==Bu.bgmTitleInterval&&(window.clearInterval(Bu.bgmTitleInterval),Bu.bgmTitleInterval=0),0!==Bu.bgmPlayInterval&&(window.clearInterval(Bu.bgmPlayInterval),Bu.bgmPlayInterval=0),Bu.lastFadeTime=0,Bu.isFadingOut=!1,Bu.bgmTitle="No Audio Title",Bu.curBgmTime=0,Bu.curBgmLength=0)}void 0!==n.initMultipleTimesMinus&&(n.numMultipleTimesMinus=n.initMultipleTimesMinus),n.multipleUseVariable=0,n.isActive=!1,vu.delete(n.id)}}else vu.delete(o[r])}for(let r=0;r<app.pointTypes.length;r++){const e=app.pointTypes[r];e.startingSum=e.initValue}for(let r=0;r<app.rows.length;r++){const e=app.rows[r];e.isEditModeOn=!1,e.currentChoices=0,e.index=r,delete e.isSimpleEditMode,delete e.templateStack,delete e.widthStack;for(let t=0;t<e.objects.length;t++){const i=e.objects[t];i.index=t,delete i.isEditModeOn,void 0!==i.defaultTemplate&&(i.template=i.defaultTemplate),void 0!==i.defaultWidth&&(i.width=i.defaultWidth),i.isActive||(delete i.forcedActivated,delete i.activatedFrom,delete i.numDiscountChoices,delete i.appliedDisChoices),delete i.templateStack,delete i.widthStack;for(let e=0;e<i.scores.length;e++){const t=i.scores[e];i.isSelectableMultiple?(delete t.isActiveMul,delete t.isActiveMulMinus):delete t.isActive,i.notDeselectedByClean||delete t.setValue,kp(t)}}}for(let r=0;r<app.backpack.length;r++){const e=app.backpack[r];e.isEditModeOn=!1,e.currentChoices=0,e.index=r,delete e.isSimpleEditMode,delete e.templateStack,delete e.widthStack;for(let t=0;t<e.objects.length;t++){const i=e.objects[t];i.index=t,delete i.isEditModeOn,void 0!==i.defaultTemplate&&(i.template=i.defaultTemplate),void 0!==i.defaultWidth&&(i.width=i.defaultWidth),i.isActive||(delete i.forcedActivated,delete i.activatedFrom,delete i.numDiscountChoices,delete i.appliedDisChoices),delete i.templateStack,delete i.widthStack;for(let e=0;e<i.scores.length;e++){const t=i.scores[e];i.isSelectableMultiple?(delete t.isActiveMul,delete t.isActiveMulMinus):delete t.isActive,i.notDeselectedByClean||delete t.setValue,kp(t)}}}if(void 0!==app.defaultBgColor&&(app.styling.backgroundColor=app.defaultBgColor,delete app.defaultBgColor),void 0!==app.defaultBgImage&&(app.styling.backgroundImage=app.defaultBgImage,delete app.defaultBgImage),void 0!==app.defaultBarBgColor&&(app.styling.barBackgroundColor=app.defaultBarBgColor,delete app.defaultBarBgColor),void 0!==app.defaultBarIconColor&&(app.styling.barIconColor=app.defaultBarIconColor,delete app.defaultBarIconColor),void 0!==app.defaultBarTextColor&&(app.styling.barTextColor=app.defaultBarTextColor,delete app.defaultBarTextColor),delete app.bgColorStack,delete app.bgImageStack,delete app.barBgColorStack,delete app.barIconColorStack,delete app.barTextColorStack,app.btnBackpackIsOn=0,app.showAllAddons=0,app.isMute=!1,app.curVolume=100,Du){const e=vn(Du);e&&"function"==typeof e.unMute&&e.unMute()}_u.splice(0),o=[...vu.keys()];for(let r=0;r<o.length;r++){const e=wu.get(o[r]);if(void 0!==e){const t=e.choice;if(Ip(t.requireds)&&Bp(t,!0)){if(t.discountOther&&void 0!==t.discountOperator&&void 0!==t.discountValue)if(t.isDisChoices){if(void 0!==t.discountChoices)for(let e=0;e<t.discountChoices.length;e++){const i=wu.get(t.discountChoices[e]);void 0!==i&&Mp(t,i.choice)}}else if(void 0!==t.discountGroups)for(let e=0;e<t.discountGroups.length;e++){const i=Iu.get(t.discountGroups[e]);if(void 0!==i)for(let e=0;e<i.elements.length;e++){const n=wu.get(i.elements[e]);void 0!==n&&Mp(t,n.choice)}}if(t.addToAllowChoice&&void 0!==t.idOfAllowChoice&&void 0!==t.numbAddToAllowChoice)for(let e=0;e<t.idOfAllowChoice.length;e++){const i=Tu.get(t.idOfAllowChoice[e]);void 0!==i&&(i.allowedChoices+=t.numbAddToAllowChoice)}}}}for(let r=0;r<o.length;r++){const e=wu.get(o[r]);if(void 0!==e){const t=e.choice,i=e.row;if(Ip(t.requireds)&&Bp(t,!0)){for(let e=0;e<t.scores.length;e++){const i=t.scores[e],n=yu.get(i.id);if(void 0!==n)if(t.isSelectableMultiple&&t.isMultipleUseVariableultiple)for(let e=0;e<t.multipleUseVariable;e++)Ip(i.requireds)&&(void 0===i.isActiveMul&&(i.isActiveMul=[]),i.isActiveMul[e]||(i.multiplyByTimes?n.startingSum-=i.discountIsOn&&void 0!==i.discountScore?i.discountScore*(e+1):i.value*(e+1):n.startingSum-=i.discountIsOn&&void 0!==i.discountScore?i.discountScore:i.value,i.isActiveMul[e]=!0));else t.isSelectableMultiple||Ip(i.requireds)&&!i.isActive&&(n.startingSum-=i.discountIsOn&&void 0!==i.discountScore?i.discountScore:i.value,i.isActive=!0)}if(t.multiplyPointtypeIsOn&&void 0!==t.pointTypeToMultiply&&void 0!==t.multiplyWithThis){let e=0;t.multiplyPointtypeIsOnCheck=!0,"object"!=typeof t.startingSumAtMultiply&&(t.startingSumAtMultiply=[]);for(let i=0;i<t.pointTypeToMultiply.length;i++){let n=yu.get(t.pointTypeToMultiply[i]);if(void 0!==n)if(t.multiplyPointtypeIsId&&"string"==typeof t.multiplyWithThis){let o=yu.get(t.multiplyWithThis);void 0!==o?(t.startingSumAtMultiply[i]={value:n.startingSum,calcVal:o.startingSum},n.startingSum*=o.startingSum):e++}else"number"==typeof t.multiplyWithThis&&(t.startingSumAtMultiply[i]={value:n.startingSum,calcVal:t.multiplyWithThis},n.startingSum*=t.multiplyWithThis);else e++}e===t.pointTypeToMultiply.length&&delete t.multiplyPointtypeIsOnCheck,t.multiplyPointtypeIsOnCheck&&_u.push(t)}if(t.dividePointtypeIsOn&&void 0!==t.pointTypeToDivide&&void 0!==t.divideWithThis){let e=0;t.dividePointtypeIsOnCheck=!0,"object"!=typeof t.startingSumAtDivide&&(t.startingSumAtDivide=[]);for(let i=0;i<t.pointTypeToDivide.length;i++){let n=yu.get(t.pointTypeToDivide[i]);if(void 0!==n)if(t.dividePointtypeIsId&&"string"==typeof t.divideWithThis){let o=yu.get(t.divideWithThis);void 0!==o?0===o.startingSum?e++:(t.startingSumAtDivide[i]={value:n.startingSum,calcVal:o.startingSum},n.startingSum/=o.startingSum):e++}else"number"==typeof t.divideWithThis&&(0===t.dividedWithThis?e++:(t.startingSumAtDivide[i]={value:n.startingSum,calcVal:t.divideWithThis},n.startingSum/=t.divideWithThis));else e++}e===t.pointTypeToDivide.length&&delete t.dividePointtypeIsOnCheck,!t.multiplyPointtypeIsOnCheck&&t.dividePointtypeIsOnCheck&&_u.push(t)}if(t.changeBackground&&(t.changeBgImage?void 0!==t.bgImage&&(void 0===app.bgImageStack&&(app.bgImageStack=[],app.defaultBgImage=app.styling.backgroundImage||""),app.bgImageStack.push({id:t.id,data:t.bgImage}),app.styling.backgroundImage=t.bgImage):void 0!==t.changedBgColorCode&&(void 0===app.bgColorStack&&(app.bgColorStack=[],app.defaultBgColor=app.styling.backgroundColor||""),app.bgColorStack.push({id:t.id,data:t.changedBgColorCode}),app.styling.backgroundColor=t.changedBgColorCode)),t.changePointBar&&(t.changeBarBgColorIsOn&&void 0!==t.changedBarBgColor&&(void 0===app.barBgColorStack&&(app.barBgColorStack=[],app.defaultBarBgColor=app.styling.barBackgroundColor||"#FFFFFFFF"),app.barBgColorStack.push({id:t.id,data:t.changedBarBgColor}),app.styling.barBackgroundColor=t.changedBarBgColor),t.changeBarIconColorIsOn&&void 0!==t.changedBarIconColor&&(void 0===app.barIconColorStack&&(app.barIconColorStack=[],app.defaultBarIconColor=app.styling.barIconColor||"#0000008A"),app.barIconColorStack.push({id:t.id,data:t.changedBarIconColor}),app.styling.barIconColor=t.changedBarIconColor),t.changeBarTextColorIsOn&&void 0!==t.changedBarTextColor&&(void 0===app.barTextColorStack&&(app.barTextColorStack=[],app.defaultBarTextColor=app.styling.barTextColor||"#000000"),app.barTextColorStack.push({id:t.id,data:t.changedBarTextColor}),app.styling.barTextColor=t.changedBarTextColor)),t.changeTemplates&&t.changeTemplatesList&&t.changeToThisTemplate){const e=t.changeTemplatesList.split(",");for(let i=0;i<e.length;i++){const n=e[i],o=wu.get(n);if(void 0!==o){const e=o.choice;if(Mh(e,t.id,t.changeToThisTemplate),t.changeAddonTemplate)for(let i=0;i<e.addons.length;i++){Mh(e.addons[i],t.id,t.changeToThisTemplate)}continue}const r=Tu.get(n);if(void 0!==r){Mh(r,t.id,t.changeToThisTemplate);continue}const a=Iu.get(n);if(void 0!==a){const e=a.rowElements;for(let n=0;n<e.length;n++){const i=Tu.get(e[n]);void 0!==i&&Mh(i,t.id,t.changeToThisTemplate)}const i=a.elements;for(let n=0;n<i.length;n++){const e=wu.get(i[n]);if(void 0!==e){Mh(e.choice,t.id,t.changeToThisTemplate)}}continue}}}if(t.changeWidth&&t.changeWidthList&&t.changeToThisWidth){const e=t.changeWidthList.split(",");for(let i=0;i<e.length;i++){const n=e[i],o=wu.get(n);if(void 0!==o){$h(o.choice,t.id,t.changeToThisWidth);continue}const r=Tu.get(n);if(void 0!==r){$h(r,t.id,t.changeToThisWidth);continue}const a=Iu.get(n);if(void 0!==a){const e=a.rowElements;for(let n=0;n<e.length;n++){const i=Tu.get(e[n]);void 0!==i&&$h(i,t.id,t.changeToThisWidth)}const i=a.elements;for(let n=0;n<i.length;n++){const e=wu.get(i[n]);if(void 0!==e){$h(e.choice,t.id,t.changeToThisWidth)}}continue}}}if(t.muteBgm&&Du){const e=vn(Du);app.isMute=!0,e&&"function"==typeof e.mute&&e.mute()}t.backpackBtnRequirement&&(app.btnBackpackIsOn+=1),t.showAllAddons&&(app.showAllAddons+=1),i.currentChoices+=1}else{if(t.discountOther&&void 0!==t.discountOperator&&void 0!==t.discountValue)if(t.isDisChoices){if(void 0!==t.discountChoices)for(let e=0;e<t.discountChoices.length;e++){const i=wu.get(t.discountChoices[e]);void 0!==i&&Rp(t,i.choice)}}else if(void 0!==t.discountGroups)for(let e=0;e<t.discountGroups.length;e++){const i=Iu.get(t.discountGroups[e]);if(void 0!==i)for(let e=0;e<i.elements.length;e++){const n=wu.get(i.elements[e]);void 0!==n&&Rp(t,n.choice)}}if(t.addToAllowChoice&&void 0!==t.idOfAllowChoice&&void 0!==t.numbAddToAllowChoice)for(let e=0;e<t.idOfAllowChoice.length;e++){const i=Tu.get(t.idOfAllowChoice[e]);void 0!==i&&(i.allowedChoices-=t.numbAddToAllowChoice)}vu.delete(t.id),t.forcedActivated&&bu.set(t.id,{multiple:t.multipleUseVariable})}}else vu.delete(o[r])}}function Np(e,t,i=!1,n){let o=t;if(t.isResultRow||t.isGroupRow){const t=wu.get(e.id);void 0!==t&&(o=t.row)}!Ip(e.requireds)||t.isInfoRow||i&&e.isNotSelectable||e.forcedActivated||(e.isActive?e.selectOnce||zp(e,o,n):qp(e,o,n))}function Pp(e,t,i,n,o){if(!t.isNotSelectable||!e.isNotActiveUnselectable){let r=!1;if(t.activateOtherChoice&&void 0!==t.activateThisChoice&&-1===o.linkedObjects.indexOf(e.id)&&t.activateThisChoice.split(",").some(t=>t.split("/ON#")[0]===e.id)&&(o.linkedObjects.push(e.id),r=!0),t.isSelectableMultiple){if(t.isMultipleUseVariable&&void 0!==t.numMultipleTimesMinus&&void 0!==t.numMultipleTimesPluss){let r=t.multipleUseVariable;if(n>0)for(let a=0;a<n;a++)Gp(t,i,o),r++,e.isAllowDeselect||(t.numMultipleTimesMinus+=1);else if(n<0)for(let a=0;a>-1*n;a++)Xp(t,i,o),r--,e.isAllowDeselect||(t.numMultipleTimesPluss-=1);if(t.multipleUseVariable!==r){const i=Math.abs(t.numMultipleTimesMinus-t.numMultipleTimesPluss);if(t.numMultipleTimesMinus>t.numMultipleTimePluss){const o=bu.get(t.id);n>0?(t.numMultipleTimesMinus-=i,void 0!==o?o.multiple+=i:bu.set(t.id,{multiple:i,isAllowDeselect:e.isAllowDeselect||!1})):n<0&&(void 0!==o?o.multiple-=i:bu.set(t.id,{multiple:-i,isAllowDeselect:e.isAllowDeselect||!1}))}}}}else t.isActive||Np(t,i,!1,o),e.isAllowDeselect||(t.forcedActivated=!0),void 0===t.activatedFrom&&(t.activatedFrom=0),r||t.activatedFrom++;t.isActive||(delete t.forcedActivated,bu.set(t.id,{multiple:n,isAllowDeselect:e.isAllowDeselect||!1}))}}function jp(e,t,i,n,o){if(t.activateOtherChoice&&void 0!==t.activateThisChoice&&-1===o.linkedObjects.indexOf(e.id)&&t.activateThisChoice.split(",").some(t=>t.split("/ON#")[0]===e.id)&&o.linkedObjects.push(e.id),t.isSelectableMultiple){if(t.isMultipleUseVariable&&void 0!==t.numMultipleTimesMinus&&void 0!==t.numMultipleTimesPluss)if(t.isActive){if(n>0)for(let r=0;r<n;r++)e.isAllowDeselect||(t.numMultipleTimesMinus-=1),e.isNotDeactivate||Xp(t,i,o);else if(n<0)for(let r=0;r>-1*n;r++)e.isAllowDeselect||(t.numMultipleTimesPluss+=1),e.isNotDeactivate||Gp(t,i,o)}else{const i=bu.get(t.id);let o=0;void 0!==i?(o=i.multiple-n,0===o?bu.delete(t.id):bu.set(t.id,{multiple:o,isAllowDeselect:e.isAllowDeselect||!1})):bu.delete(t.id)}}else void 0!==t.activatedFrom?(t.activatedFrom--,(t.activatedFrom<=0||-1!==o.linkedObjects.indexOf(e.id))&&(t.isActive?(delete t.activatedFrom,delete t.forcedActivated,e.isNotDeactivate||zp(t,i,o)):bu.delete(t.id))):(delete t.forcedActivated,!e.isNotDeactivate&&t.isActive&&zp(t,i,o))}function Vp(e,t){if(void 0!==e.activateThisChoice){let i=e.activateThisChoice.split(","),n=new Map;for(let e=0;e<i.length;e++){let[t,o="0"]=i[e].split("/ON#"),r=parseInt(o),a=Iu.get(t);if(void 0!==a)for(let e=0;e<a.elements.length;e++){const t=wu.get(a.elements[e]);if(void 0!==t){const e=t.choice,i=e.isSelectableMultiple&&e.isMultipleUseVariable&&void 0!==e.numMultipleTimesPluss&&e.numMultipleTimesPluss>=e.multipleUseVariable+r&&!e.isInfoRow&&!e.isNotSelectable&&Ip(e.requireds);vu.has(e.id)&&!i||n.set(e.id,r)}}else{const e=wu.get(t);if(void 0!==e){const i=e.choice,o=i.isSelectableMultiple&&i.isMultipleUseVariable&&void 0!==i.numMultipleTimesPluss&&i.numMultipleTimesPluss>=i.multipleUseVariable+r&&!i.isInfoRow&&!i.isNotSelectable&&Ip(i.requireds);vu.has(t)&&!o||n.set(t,r)}}}let o=[...n.keys()],r=Math.min(o.length,e.numActivateRandom||0),a=r;for(let e=o.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[o[e],o[t]]=[o[t],o[e]]}let s=[];for(let l=0;l<r;){const i=o[l],c=wu.get(i);if(void 0!==c){const d=c.row,u=c.choice,p=n.get(i)||0,h=u.multipleUseVariable;if(Pp(e,u,d,p,t),!u.isActive||u.isSelectableMultiple&&u.isMultipleUseVariable&&u.multipleUseVariable===h){if(s.length<r&&o.length>a){o[l]=o[a++],void 0!==u.activatedFrom&&(u.activatedFrom--,0===u.activatedFrom&&bu.delete(u.id));continue}break}let f=p>0?`${i}/ON#${p}`:i;s.push(f)}l++}e.isSelectableMultiple?(void 0===e.activatedRandomMul&&(e.activatedRandomMul=[]),e.activatedRandomMul[e.multipleUseVariable-1]=[...s]):e.activatedRandom=[...s]}}function Up(e,t,i,n=new Set,o=[],r){const a=Array.from(vu.keys());for(let s=a.length-1;s>=0;s--){const l=a[s],c=wu.get(l);if(void 0!==c){const a=c.row,s=c.choice,l=new al,d=new Set,u=new Set;let p=new Set,h=!1,f=!1,m=e.appliedDisChoices?e.appliedDisChoices.indexOf(s.id):-1;for(let i=0;i<s.scores.length;i++){const o=s.scores[i];if(!o.isNotRecalculatable){const i=yu.get(o.id);if(void 0!==i){if(e.discountOther&&o.isChangeDiscount&&o.isActive&&void 0!==o.tmpDisScore&&(!e.useDiscountCount||e.useDiscountCount&&e.appliedDisChoices)){const t=s.multipleUseVariable;let n=!1;if(e.useDiscountCount&&o.discountedFrom&&o.discountedFrom.length>0)if(-1!==m)for(let i=0;i<o.discountedFrom.length;i++){const t=wu.get(o.discountedFrom[i]);if(void 0!==t){const i=t.choice,o=i.isSelectableMultiple&&i.isMultipleUseVariable&&i.stackableDiscount&&i.discountCount?i.discountCount*i.multipleUseVariable+Number(e.id===i.id):i.discountCount;i.useDiscountCount&&i.appliedDisChoices&&o&&o>i.appliedDisChoices.length&&(i.id!==e.id&&p.add(i),n=!0)}}else n=!0;if(n){delete o.isChangeDiscount,delete o.tmpDisScore;continue}if(s.isSelectableMultiple&&s.isMultipleUseVariable&&void 0!==s.numMultipleTimesMinus){for(let e=t-1;e>=0;e--)s.isActive&&(i.belowZeroNotAllowed&&i.startingSum+o.tmpDisScore<0?s.forcedActivated&&s.isActive?(s.forcedActivated=!1,s.numMultipleTimesMinus--,Xp(s,a,r),s.forcedActivated=!0):Xp(s,a,r):i.startingSum+=o.tmpDisScore);s.isActive&&(l.set(o.id,o.tmpDisScore),delete o.isChangeDiscount,delete o.tmpDisScore)}else if(!s.isSelectableMultiple)if(i.belowZeroNotAllowed&&i.startingSum+o.tmpDisScore<0)if(s.forcedActivated&&(delete s.forcedActivated,s.isAllowDeselect||bu.set(s.id,{multiple:s.multipleUseVariable})),s.isSelectableMultiple&&s.isMultipleUseVariable)for(let e=0;e<s.multipleUseVariable;e++)s.isActive&&Xp(s,a,r);else s.isActive&&zp(s,a,r);else i.startingSum+=o.tmpDisScore,l.set(o.id,o.tmpDisScore),delete o.isChangeDiscount,delete o.tmpDisScore;h=e.id!==s.id,o.discountIsOn||delete o.appliedDiscount,f=!0}if(!n.has(o.idx)){const c=e.scores.length>0,p=e.scores.length||1;for(let f=0;f<p;f++){const p=c?e.scores[f]:null,m=p&&t.get(p.id)||0,g=p?yu.get(p.id):null;if((!c||c&&g)&&s.isActive){const t=Ip(o.requireds),c=new al(JSON.parse(JSON.stringify([...vu])));c.set(e.id,{multiple:e.multipleUseVariable}),a.currentChoices+=1,g&&(g.startingSum+=m);const p=Ip(o.requireds,c);if(a.currentChoices-=1,g&&(g.startingSum-=m),p!==t){o.setValue||Fp(i,o);let e=o.discountIsOn&&void 0!==o.discountScore&&o.appliedDiscount?o.discountScore:o.value;e=i.allowFloat?e:Math.floor(e);let t=!1;if(p){if(s.isSelectableMultiple&&s.isMultipleUseVariable&&void 0!==s.numMultipleTimesMinus){for(let n=s.multipleUseVariable-1;n>=0;n--)void 0!==o.isActiveMul&&o.isActiveMul[n]&&(i.belowZeroNotAllowed&&i.startingSum+e<0?s.forcedActivated&&s.isActive?(s.forcedActivated=!1,s.numMultipleTimesMinus--,Xp(s,a,r),s.forcedActivated=!0):Xp(s,a,r):(i.startingSum+=e,l.set(o.id,e),o.isActiveMul[n]=!1,t||(t=!0)))}else s.isSelectableMultiple||o.isActive&&(i.belowZeroNotAllowed&&i.startingSum+e<0?(s.forcedActivated&&delete s.forcedActivated,zp(s,a,r)):(i.startingSum+=e,l.set(o.id,e),delete o.isActive,t=!0));if(t&&o.discountIsOn&&o.appliedDiscount&&o.discountedFrom)for(let e=0;e<o.discountedFrom.length;e++){const t=wu.get(o.discountedFrom[e]);if(void 0!==t){const e=t.choice;if(e.useDiscountCount&&void 0!==e.discountCount&&e.appliedDisChoices&&-1!==e.appliedDisChoices.indexOf(s.id)){delete o.appliedDiscount,u.add(e);break}delete o.appliedDiscount;break}}o.setValue&&delete o.setValue}else{if(s.isSelectableMultiple&&s.isMultipleUseVariable&&void 0!==s.numMultipleTimesMinus){const n=s.multipleUseVariable;void 0===o.isActiveMul&&(o.isActiveMul=[]);for(let c=n-1;c>=0;c--)o.isActiveMul[c]||(i.belowZeroNotAllowed&&i.startingSum+e<0?s.forcedActivated&&s.isActive?(s.forcedActivated=!1,s.numMultipleTimesMinus--,Xp(s,a,r),s.forcedActivated=!0):Xp(s,a,r):(i.startingSum-=e,l.set(o.id,e),o.isActiveMul[c]=!0,t||(t=!0)))}else s.isSelectableMultiple||o.isActive||(i.belowZeroNotAllowed&&i.startingSum-e<0?(s.forcedActivated&&delete s.forcedActivated,zp(s,a,r)):(i.startingSum-=e,l.set(o.id,e),o.isActive=!0,t=!0));if(t&&o.discountIsOn&&!o.appliedDiscount&&o.discountedFrom)for(let e=0;e<o.discountedFrom.length;e++){const t=wu.get(o.discountedFrom[e]);if(void 0!==t){const e=t.choice;if(!e.useDiscountCount||void 0===e.discountCount){o.appliedDiscount=!0;break}{const t=e.isSelectableMultiple&&e.isMultipleUseVariable&&e.stackableDiscount?e.discountCount*e.multipleUseVariable:e.discountCount;if(e.appliedDisChoices||(e.appliedDisChoices=[]),t>e.appliedDisChoices.length||-1!==e.appliedDisChoices.indexOf(s.id)){o.appliedDiscount=!0,d.add(e);break}}}}}h||(h=!0),n.add(o.idx)}}}}}}}if(p.size>0){const t=Array.from(p);for(let i=0;i<t.length;i++){const n=t[i];n.appliedDisChoices||(n.appliedDisChoices=[]),-1===n.appliedDisChoices.indexOf(s.id)&&n.appliedDisChoices.push(s.id),-1!==m&&e.appliedDisChoices.splice(m,1)}}f&&e.appliedDisChoices&&-1!==m&&e.appliedDisChoices.splice(m,1),u.size>0&&u.forEach(e=>{if(e.appliedDisChoices&&!e.scores.some(e=>e.appliedDiscount)){const t=e.appliedDisChoices.indexOf(s.id);-1!==t&&e.appliedDisChoices.splice(t,1)}}),d.size>0&&d.forEach(e=>{e.appliedDisChoices&&-1===e.appliedDisChoices.indexOf(s.id)&&e.appliedDisChoices.push(s.id)}),h&&(0===o.length?o.push(`Scores Updated On: ${s.title}`):o.push(`, ${s.title}`),Up(s,l,i+1,n,o,r))}}if(0===i){if(o.length>0&&!app.hideScoresUpdated){const e=document.createElement("div");e.innerHTML=o.join(""),Lu.labelText=e.textContent,Lu.isOpen=!0}o.splice(0)}}function Hp(e,t,i,n=new Set,o=[],r){const a=Array.from(vu.keys());for(let s=0;s<a.length;s++){const l=a[s],c=wu.get(l);if(void 0!==c){const a=c.row,s=c.choice,l=new al,d=new Set,u=new Set;let p=!1,h=!1;e&&e.useDiscountCount&&!e.appliedDisChoices&&(e.appliedDisChoices=[]);for(let i=0;i<s.scores.length;i++){const o=s.scores[i];if(!o.isNotRecalculatable){const i=yu.get(o.id);if(void 0!==i){if(e&&e.discountOther&&o.isChangeDiscount&&o.isActive&&void 0!==o.tmpDisScore&&s.id!==e.id){const t=s.multipleUseVariable,n=e.isSelectableMultiple&&e.isMultipleUseVariable&&e.stackableDiscount&&e.discountCount?e.discountCount*e.multipleUseVariable:e.discountCount;if(!e.useDiscountCount||e.useDiscountCount&&n&&n>e.appliedDisChoices.length){if(s.isSelectableMultiple&&s.isMultipleUseVariable&&void 0!==s.numMultipleTimesMinus){for(let e=t-1;e>=0;e--)s.isActive&&(i.belowZeroNotAllowed&&i.startingSum+o.tmpDisScore<0?s.forcedActivated&&s.isActive?(s.forcedActivated=!1,s.numMultipleTimesMinus--,Xp(s,a,r),s.forcedActivated=!0):Xp(s,a,r):i.startingSum+=o.tmpDisScore);s.isActive&&(l.set(o.id,o.tmpDisScore),delete o.isChangeDiscount,delete o.tmpDisScore)}else s.isSelectableMultiple||(i.belowZeroNotAllowed&&i.startingSum+o.tmpDisScore<0?(s.forcedActivated&&delete s.forcedActivated,zp(s,a,r)):(i.startingSum+=o.tmpDisScore,l.set(o.id,o.tmpDisScore),delete o.isChangeDiscount,delete o.tmpDisScore));h=!0,s.isActive&&(o.appliedDiscount=!0,p=!0)}}if(!n.has(o.idx)){const c=e&&e.scores.length>0,p=e&&e.scores.length||1;for(let f=0;f<p;f++){const p=c?e.scores[f]:null,m=p&&t.get(p.id)||0,g=p?yu.get(p.id):null,v=e?null:yu.get(t.keys().next().value||""),b=v&&t.values().next().value||0;if((!c||c&&g)&&s.isActive&&!o.isChanged){const t=Ip(o.requireds),c=new al(JSON.parse(JSON.stringify([...vu])));e?(c.delete(e.id),a.currentChoices-=1,g&&(g.startingSum+=m)):v&&(v.startingSum-=b);const p=Ip(o.requireds,c);if(e?(a.currentChoices+=1,g&&(g.startingSum-=m)):v&&(v.startingSum+=b),p!==t){o.setValue||Fp(i,o);let e=o.discountIsOn&&void 0!==o.discountScore&&o.appliedDiscount?o.discountScore:o.value;e=i.allowFloat?e:Math.floor(e);let t=!1;if(p){if(s.isSelectableMultiple&&s.isMultipleUseVariable&&void 0!==s.numMultipleTimesMinus){for(let n=s.multipleUseVariable-1;n>=0;n--)void 0!==o.isActiveMul&&o.isActiveMul[n]&&(i.belowZeroNotAllowed&&i.startingSum+e<0?s.forcedActivated&&s.isActive?(s.forcedActivated=!1,s.numMultipleTimesMinus--,Xp(s,a,r),s.forcedActivated=!0):Xp(s,a,r):(i.startingSum+=e,l.set(o.id,e),o.isActiveMul[n]=!1,t||(t=!0)))}else s.isSelectableMultiple||o.isActive&&(i.belowZeroNotAllowed&&i.startingSum+e<0?(s.forcedActivated&&delete s.forcedActivated,zp(s,a,r)):(i.startingSum+=e,l.set(o.id,e),delete o.isActive,t=!0));if(t&&o.discountIsOn&&o.appliedDiscount&&o.discountedFrom)for(let e=0;e<o.discountedFrom.length;e++){const t=wu.get(o.discountedFrom[e]);if(void 0!==t){const e=t.choice;if(e.useDiscountCount&&void 0!==e.discountCount&&e.appliedDisChoices&&-1!==e.appliedDisChoices.indexOf(s.id)){delete o.appliedDiscount,u.add(e);break}delete o.appliedDiscount;break}}o.setValue&&delete o.setValue}else{if(s.isSelectableMultiple&&s.isMultipleUseVariable&&void 0!==s.numMultipleTimesMinus){const n=s.multipleUseVariable;void 0===o.isActiveMul&&(o.isActiveMul=[]);for(let c=n-1;c>=0;c--)o.isActiveMul[c]||(i.belowZeroNotAllowed&&i.startingSum+e<0?s.forcedActivated&&s.isActive?(s.forcedActivated=!1,s.numMultipleTimesMinus--,Xp(s,a,r),s.forcedActivated=!0):Xp(s,a,r):(i.startingSum-=e,l.set(o.id,e),o.isActiveMul[c]=!0,t||(t=!0)))}else s.isSelectableMultiple||o.isActive||(i.belowZeroNotAllowed&&i.startingSum-e<0?(s.forcedActivated&&delete s.forcedActivated,zp(s,a,r)):(i.startingSum-=e,l.set(o.id,e),o.isActive=!0,t=!0));if(t&&o.discountIsOn&&!o.appliedDiscount&&o.discountedFrom)for(let e=0;e<o.discountedFrom.length;e++){const t=wu.get(o.discountedFrom[e]);if(void 0!==t){const e=t.choice;if(!e.useDiscountCount||void 0===e.discountCount){o.appliedDiscount=!0;break}{const t=e.isSelectableMultiple&&e.isMultipleUseVariable&&e.stackableDiscount?e.discountCount*e.multipleUseVariable:e.discountCount;if(e.appliedDisChoices||(e.appliedDisChoices=[]),t>e.appliedDisChoices.length||-1!==e.appliedDisChoices.indexOf(s.id)){o.appliedDiscount=!0,d.add(e);break}}}}}h||(h=!0),n.add(o.idx)}}}}}}}p&&e&&e.appliedDisChoices&&-1===e.appliedDisChoices.indexOf(s.id)&&e.appliedDisChoices.push(s.id),u.size>0&&u.forEach(e=>{if(e.appliedDisChoices&&!e.scores.some(e=>e.appliedDiscount)){const t=e.appliedDisChoices.indexOf(s.id);-1!==t&&e.appliedDisChoices.splice(t,1)}}),d.size>0&&d.forEach(e=>{e.appliedDisChoices&&-1===e.appliedDisChoices.indexOf(s.id)&&e.appliedDisChoices.push(s.id)}),h&&(0===o.length?o.push(`Scores Updated On: ${s.title}`):o.push(`, ${s.title}`),Hp(s,l,i+1,n,o,r))}}if(0===i){if(o.length>0&&!app.hideScoresUpdated){const e=document.createElement("div");e.innerHTML=o.join(""),Lu.labelText=e.textContent,Lu.isOpen=!0}o.splice(0)}}function Wp(e){let t=!1;Array.from(bu.entries()).forEach(([i,n])=>{const o=wu.get(i);if(void 0!==o){const r=o.row,a=o.choice;a.isActive||(Np(a,r,!1,e),a.isActive&&(bu.delete(i),t=!0,n.isAllowDeselect||(a.forcedActivated=!0)))}}),t&&Wp(e)}function zp(e,t,i){if(Bp(e,!1)){const n=()=>{const n=new al;let o=new Set;for(let t=0;t<e.scores.length;t++){const i=e.scores[t];if(Ip(i.requireds)&&i.isActive||i.isActive){const e=yu.get(i.id);if(void 0!==e){let t=i.value;if(i.discountIsOn&&void 0!==i.discountScore&&i.appliedDiscount){if(i.discountedFrom&&i.discountedFrom.length>0)for(let e=0;e<i.discountedFrom.length;e++){const t=wu.get(i.discountedFrom[e]);if(void 0!==t){const e=t.choice;if(e.useDiscountCount&&void 0!==e.discountCount&&e.appliedDisChoices&&e.appliedDisChoices.length>0){o.add(e);break}}}t=i.discountScore}t=e.allowFloat?t:Math.floor(t),e.startingSum+=t;let r=n.get(i.id);void 0!==r?n.set(i.id,-t+r):n.set(i.id,-t),delete i.isActive,delete i.setValue,delete i.appliedDiscount}}else delete i.setValue,delete i.appliedDiscount}if(o.size>0&&o.forEach(t=>{if(t.appliedDisChoices){const i=t.appliedDisChoices.indexOf(e.id);-1!==i&&t.appliedDisChoices.splice(i,1)}}),e.activateOtherChoice&&void 0!==e.activateThisChoice)if(e.isActivateRandom&&void 0!==e.activatedRandom){for(let t=0;t<e.activatedRandom.length;t++){const n=wu.get(e.activatedRandom[t]);if(void 0!==n){const t=n.row,o=n.choice;jp(e,o,t,0,i)}}delete e.activatedRandom}else{const t=e.activateThisChoice.split(",");for(let n=0;n<t.length;n++){const o=t[n].split("/ON#"),r=o.length>1?parseInt(o[1]):0,a=wu.get(o[0]);if(void 0!==a){const t=a.row,n=a.choice;jp(e,n,t,r,i)}else{const t=Iu.get(o[0]);if(void 0!==t){const n=t.elements;for(let t=0;t<n.length;t++){const o=wu.get(n[t]);if(void 0!==o){const t=o.row,n=o.choice;jp(e,n,t,r,i)}}}}}}if(e.discountOther&&void 0!==e.discountOperator&&void 0!==e.discountValue)if(void 0===e.discountPointTypes&&(e.discountPointTypes=[]),e.isDisChoices){const t=new Set;if(void 0!==e.discountRows)for(let i=0;i<e.discountRows.length;i++){const n=Tu.get(e.discountRows[i]);if(void 0!==n)for(let i=0;i<n.objects.length;i++){const o=n.objects[i];Rp(e,o),t.add(o.id)}}if(void 0!==e.discountChoices)for(let i=0;i<e.discountChoices.length;i++)if(!t.has(e.discountChoices[i])){const t=wu.get(e.discountChoices[i]);void 0!==t&&Rp(e,t.choice)}}else if(void 0!==e.discountGroups)for(let t=0;t<e.discountGroups.length;t++){const i=Iu.get(e.discountGroups[t]);if(void 0!==i)for(let t=0;t<i.elements.length;t++){const n=wu.get(i.elements[t]);void 0!==n&&Rp(e,n.choice)}}if(e.isActive=!1,t.currentChoices-=1,vu.delete(e.id),Array.from(vu.entries()).forEach(([t,n])=>{const o=wu.get(t);if(void 0!==o){const t=o.row,r=o.choice;if(r.id!==e.id&&!Ip(r.requireds))if(r.forcedActivated&&(delete r.forcedActivated,r.isAllowDeselect||bu.set(r.id,{multiple:n.multiple})),0===n.multiple)r.isActive&&zp(r,t,i);else if(n.multiple>0)for(let e=0;e<n.multiple;e++)r.isActive&&Xp(r,t,i)}}),e.multiplyPointtypeIsOnCheck&&void 0!==e.pointTypeToMultiply){let t=0;for(let i=0;i<e.pointTypeToMultiply.length;i++){let n=yu.get(e.pointTypeToMultiply[i]);if(void 0!==n){for(let o=_u.length-1;o>=0;o--){let r=_u[o];if(r.multiplyPointtypeIsOnCheck&&void 0!==r.startingSumAtMultiply){let e=r.startingSumAtMultiply[i].value*r.startingSumAtMultiply[i].calcVal;e=n.allowFloat?e:Math.floor(e),n.startingSum-=e,n.startingSum+=r.startingSumAtMultiply[i].value}if(r.dividePointtypeIsOnCheck&&void 0!==r.startingSumAtDivide){let e=r.startingSumAtDivide[i].value/r.startingSumAtDivide[i].calcVal;e=n.allowFloat?e:Math.floor(e),n.startingSum-=e,n.startingSum+=r.startingSumAtDivide[i].value}if(r.setPointtypeIsOnCheck&&void 0!==r.startingSumAtSet&&(n.startingSum=r.startingSumAtSet[i].value),r.id===e.id){t=o;break}}for(let e=t+1;e<_u.length;e++){let t=_u[e];t.multiplyPointtypeIsOnCheck&&void 0!==t.startingSumAtMultiply&&(t.startingSumAtMultiply[i].value=n.startingSum,n.startingSum*=t.startingSumAtMultiply[i].calcVal,n.startingSum=n.allowFloat?n.startingSum:Math.floor(n.startingSum)),t.dividePointtypeIsOnCheck&&void 0!==t.startingSumAtDivide&&(t.startingSumAtDivide[i].value=n.startingSum,n.startingSum/=t.startingSumAtDivide[i].calcVal,n.startingSum=n.allowFloat?n.startingSum:Math.floor(n.startingSum)),t.setPointtypeIsOnCheck&&void 0!==t.startingSumAtSet&&(t.startingSumAtSet[i].value=n.startingSum,n.startingSum=t.startingSumAtSet[i].calcVal,n.startingSum=n.allowFloat?n.startingSum:Math.floor(n.startingSum))}}}delete e.multiplyPointtypeIsOnCheck,delete e.startingSumAtMultiply,e.dividePointtypeIsOnCheck||e.setPointtypeIsOnCheck||_u.splice(t,1)}if(e.dividePointtypeIsOnCheck&&void 0!==e.pointTypeToDivide){let t=0;for(let i=0;i<e.pointTypeToDivide.length;i++){let n=yu.get(e.pointTypeToDivide[i]);if(void 0!==n){for(let o=_u.length-1;o>=0;o--){let r=_u[o];if(r.multiplyPointtypeIsOnCheck&&void 0!==r.startingSumAtMultiply){let e=r.startingSumAtMultiply[i].value*r.startingSumAtMultiply[i].calcVal;e=n.allowFloat?e:Math.floor(e),n.startingSum-=e,n.startingSum+=r.startingSumAtMultiply[i].value}if(r.dividePointtypeIsOnCheck&&void 0!==r.startingSumAtDivide){let e=r.startingSumAtDivide[i].value/r.startingSumAtDivide[i].calcVal;e=n.allowFloat?e:Math.floor(e),n.startingSum-=e,n.startingSum+=r.startingSumAtDivide[i].value}if(r.setPointtypeIsOnCheck&&void 0!==r.startingSumAtSet&&(n.startingSum=r.startingSumAtSet[i].value),r.id===e.id){t=o;break}}for(let e=t+1;e<_u.length;e++){let t=_u[e];t.multiplyPointtypeIsOnCheck&&void 0!==t.startingSumAtMultiply&&(t.startingSumAtMultiply[i].value=n.startingSum,n.startingSum*=t.startingSumAtMultiply[i].calcVal,n.startingSum=n.allowFloat?n.startingSum:Math.floor(n.startingSum)),t.dividePointtypeIsOnCheck&&void 0!==t.startingSumAtDivide&&(t.startingSumAtDivide[i].value=n.startingSum,n.startingSum/=t.startingSumAtDivide[i].calcVal,n.startingSum=n.allowFloat?n.startingSum:Math.floor(n.startingSum)),t.setPointtypeIsOnCheck&&void 0!==t.startingSumAtSet&&(t.startingSumAtSet[i].value=n.startingSum,n.startingSum=t.startingSumAtSet[i].calcVal,n.startingSum=n.allowFloat?n.startingSum:Math.floor(n.startingSum))}}}delete e.dividePointtypeIsOnCheck,delete e.startingSumAtDivide,e.setPointtypeIsOnCheck||_u.splice(t,1)}if(e.setPointtypeIsOnCheck&&void 0!==e.pointTypeToSet){let t=0;for(let i=0;i<e.pointTypeToSet.length;i++){let n=yu.get(e.pointTypeToSet[i]);if(void 0!==n){for(let o=_u.length-1;o>=0;o--){let r=_u[o];if(r.multiplyPointtypeIsOnCheck&&void 0!==r.startingSumAtMultiply){let e=r.startingSumAtMultiply[i].value*r.startingSumAtMultiply[i].calcVal;e=n.allowFloat?e:Math.floor(e),n.startingSum-=e,n.startingSum+=r.startingSumAtMultiply[i].value}if(r.dividePointtypeIsOnCheck&&void 0!==r.startingSumAtDivide){let e=r.startingSumAtDivide[i].value/r.startingSumAtDivide[i].calcVal;e=n.allowFloat?e:Math.floor(e),n.startingSum-=e,n.startingSum+=r.startingSumAtDivide[i].value}if(r.setPointtypeIsOnCheck&&void 0!==r.startingSumAtSet&&(n.startingSum=r.startingSumAtSet[i].value),r.id===e.id){t=o;break}}for(let e=t+1;e<_u.length;e++){let t=_u[e];t.multiplyPointtypeIsOnCheck&&void 0!==t.startingSumAtMultiply&&(t.startingSumAtMultiply[i].value=n.startingSum,n.startingSum*=t.startingSumAtMultiply[i].calcVal,n.startingSum=n.allowFloat?n.startingSum:Math.floor(n.startingSum)),t.dividePointtypeIsOnCheck&&void 0!==t.startingSumAtDivide&&(t.startingSumAtDivide[i].value=n.startingSum,n.startingSum/=t.startingSumAtDivide[i].calcVal,n.startingSum=n.allowFloat?n.startingSum:Math.floor(n.startingSum)),t.setPointtypeIsOnCheck&&void 0!==t.startingSumAtSet&&(t.startingSumAtSet[i].value=n.startingSum,n.startingSum=t.startingSumAtSet[i].calcVal,n.startingSum=n.allowFloat?n.startingSum:Math.floor(n.startingSum))}}}delete e.setPointtypeIsOnCheck,delete e.startingSumAtSet,_u.splice(t,1)}if(e.isChangeVariables&&void 0!==e.changedVariables)for(let t=0;t<e.changedVariables.length;t++){const i=xu.get(e.changedVariables[t]);void 0!==i&&("1"===e.changeType?i.isTrue=!1:"2"===e.changeType?i.isTrue=!0:"3"===e.changeType&&(i.isTrue=!i.isTrue))}if(e.addToAllowChoice&&void 0!==e.idOfAllowChoice&&void 0!==e.numbAddToAllowChoice)for(let t=0;t<e.idOfAllowChoice.length;t++){const n=Tu.get(e.idOfAllowChoice[t]);if(void 0!==n&&(n.allowedChoices-=e.numbAddToAllowChoice,n.allowedChoices>0&&n.currentChoices>=n.allowedChoices))for(let e=0;e<n.objects.length;e++){const t=n.objects[e];if(t.isActive&&!t.forcedActivated)if(t.isSelectableMultiple){let e=t.multipleUseVariable;for(let o=0;o<e;o++)Xp(t,n,i)}else zp(t,n,i);if(n.allowedChoices>=n.currentChoices)break}}if(e.textfieldIsOn&&void 0!==e.idOfTheTextfieldWord&&void 0!==e.wordChangeSelect){const t=Cu.get(e.idOfTheTextfieldWord);void 0!==t&&(t.replaceText=void 0===e.wordChangeDeselect?"":e.wordChangeDeselect)}if(e.isImageUpload&&void 0!==e.defaultImage&&(e.image=e.defaultImage),e.backpackBtnRequirement&&void 0!==app.btnBackpackIsOn&&(app.btnBackpackIsOn-=1),e.showAllAddons&&void 0!==app.showAllAddons&&(app.showAllAddons-=1),e.changeBackground)if(e.changeBgImage){if(void 0!==app.bgImageStack){const t=app.bgImageStack.findIndex(t=>t.id===e.id);-1!==t&&app.bgImageStack.splice(t,1);const i=app.bgImageStack.length;i>0?app.styling.backgroundImage=app.bgImageStack[i-1].data:(app.styling.backgroundImage=app.defaultBgImage||"",delete app.bgImageStack)}}else if(void 0!==e.changedBgColorCode&&void 0!==app.bgColorStack){const t=app.bgColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.bgColorStack.splice(t,1);const i=app.bgColorStack.length;i>0?app.styling.backgroundColor=app.bgColorStack[i-1].data:(app.styling.backgroundColor=app.defaultBgColor||"#FFFFFFFF",delete app.bgColorStack)}if(e.changePointBar){if(e.changeBarBgColorIsOn&&void 0!==e.changedBarBgColor&&void 0!==app.barBgColorStack){const t=app.barBgColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.barBgColorStack.splice(t,1);const i=app.barBgColorStack.length;i>0?app.styling.barBackgroundColor=app.barBgColorStack[i-1].data:(app.styling.barBackgroundColor=app.defaultBarBgColor||"#FFFFFFFF",delete app.barBgColorStack)}if(e.changeBarIconColorIsOn&&void 0!==e.changedBarIconColor&&void 0!==app.barIconColorStack){const t=app.barIconColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.barIconColorStack.splice(t,1);const i=app.barIconColorStack.length;i>0?app.styling.barIconColor=app.barIconColorStack[i-1].data:(app.styling.barIconColor=app.defaultBarIconColor||"#0000008A",delete app.barIconColorStack)}if(e.changeBarTextColorIsOn&&void 0!==e.changedBarTextColor&&void 0!==app.barTextColorStack){const t=app.barTextColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.barTextColorStack.splice(t,1);const i=app.barTextColorStack.length;i>0?app.styling.barTextColor=app.barTextColorStack[i-1].data:(app.styling.barTextColor=app.defaultBarIconColor||"#000000",delete app.barTextColorStack)}}if(e.changeTemplates&&e.changeTemplatesList&&e.changeToThisTemplate){const t=e.changeTemplatesList.split(",");for(let i=0;i<t.length;i++){const n=t[i],o=wu.get(n);if(void 0!==o){const t=o.choice;if(Dh(t,e.id),e.changeAddonTemplate)for(let i=0;i<t.addons.length;i++){Dh(t.addons[i],e.id)}continue}const r=Tu.get(n);if(void 0!==r){Dh(r,e.id);continue}const a=Iu.get(n);if(void 0!==a){const t=a.rowElements;for(let n=0;n<t.length;n++){const i=Tu.get(t[n]);void 0!==i&&Dh(i,e.id)}const i=a.elements;for(let n=0;n<i.length;n++){const t=wu.get(i[n]);if(void 0!==t){const i=t.choice;if(Dh(i,e.id),e.changeAddonTemplate)for(let t=0;t<i.addons.length;t++){Dh(i.addons[t],e.id)}}}continue}}}if(e.changeWidth&&e.changeWidthList&&e.changeToThisWidth){const t=e.changeWidthList.split(",");for(let i=0;i<t.length;i++){const n=t[i],o=wu.get(n);if(void 0!==o){Bh(o.choice,e.id);continue}const r=Tu.get(n);if(void 0!==r){Bh(r,e.id);continue}const a=Iu.get(n);if(void 0!==a){const t=a.rowElements;for(let n=0;n<t.length;n++){const i=Tu.get(t[n]);void 0!==i&&Bh(i,e.id)}const i=a.elements;for(let n=0;n<i.length;n++){const t=wu.get(i[n]);if(void 0!==t){Bh(t.choice,e.id)}}continue}}}if(e.setBgmIsOn&&Du&&e.bgmId&&(Bu.bgmIsPlaying=!1,Ap(e,e.bgmId,0)),e.muteBgm&&Du){const e=vn(Du);app.isMute=!1,e&&"function"==typeof e.unMute&&e.unMute()}if(e.isContentHidden&&void 0!==e.hiddenContentsRow&&void 0!==e.hiddenContentsType)for(let t=0;t<e.hiddenContentsRow.length;t++){const i=Tu.get(e.hiddenContentsRow[t]);if(void 0!==i)for(let t=0;t<e.hiddenContentsType.length;t++)switch(e.hiddenContentsType[t]){case"1":delete i.objectTitleRemoved;break;case"2":delete i.objectImageRemoved;break;case"3":delete i.objectTextRemoved;break;case"4":delete i.objectScoreRemoved;break;case"5":delete i.objectRequirementRemoved;break;case"6":delete i.addonTitleRemoved;break;case"7":delete i.addonImageRemoved;break;case"8":delete i.addonTextRemoved}}delete e.tempSlots,Up(e,n,0,void 0,void 0,i),Wp(i),delete e.appliedDisChoices};e.isSelectDelayed&&void 0!==e.selectDelayTime?e.selectDelayTimer||(e.selectDelayTimer=window.setTimeout(()=>{-1===i.linkedObjects.indexOf(e.id)&&(e.isFadeTransition?(void 0===e.fadeTransitionColor||""===e.fadeTransitionColor?app.fadeTransitionColor="000000FF":app.fadeTransitionColor=e.fadeTransitionColor,void 0===e.fadeInTransitionTime?app.fadeTransitionTime=.25:app.fadeTransitionTime=e.fadeInTransitionTime/1e3,app.fadeTransitionIsOn=!0,window.setTimeout(()=>{void 0!==e.fadeOutTransitionTime&&(app.fadeTransitionTime=e.fadeOutTransitionTime/1e3),app.fadeTransitionIsOn=!1,n()},1e3*app.fadeTransitionTime)):n()),0===i.linkedObjects.indexOf(e.id)&&i.linkedObjects.splice(0),delete e.selectDelayTimer},e.selectDelayTime)):(-1===i.linkedObjects.indexOf(e.id)&&(e.isFadeTransition?(void 0===e.fadeTransitionColor||""===e.fadeTransitionColor?app.fadeTransitionColor="000000FF":app.fadeTransitionColor=e.fadeTransitionColor,void 0===e.fadeInTransitionTime?app.fadeTransitionTime=.25:app.fadeTransitionTime=e.fadeInTransitionTime/1e3,app.fadeTransitionIsOn=!0,window.setTimeout(()=>{void 0!==e.fadeOutTransitionTime&&(app.fadeTransitionTime=e.fadeOutTransitionTime/1e3),app.fadeTransitionIsOn=!1,n()},1e3*app.fadeTransitionTime)):n()),0===i.linkedObjects.indexOf(e.id)&&i.linkedObjects.splice(0))}}function qp(e,t,i){let n=!0;if(t.allowedChoices>0&&t.currentChoices>=t.allowedChoices){let e=0;for(let n=0;n<t.objects.length;n++){const o=t.objects[n];if(o.isActive){if(!o.forcedActivated&&!o.selectOnce){if(o.isSelectableMultiple){let e=o.multipleUseVariable;for(let n=0;n<e;n++)Xp(o,t,i)}else Np(o,t,!1,i);break}e++}}e>=t.allowedChoices&&(n=!1)}if(n){for(let t=0;t<e.scores.length;t++){const i=e.scores[t],n=yu.get(i.id);void 0===n||i.setValue||Fp(n,i)}if(Bp(e,!0)){const n=()=>{const n=new al;if(e.isActive=!0,vu.set(e.id,{multiple:0}),t.currentChoices+=1,e.discountOther&&void 0!==e.discountOperator&&void 0!==e.discountValue)if(e.isDisChoices){const t=new Set;if(void 0!==e.discountRows)for(let i=0;i<e.discountRows.length;i++){const n=Tu.get(e.discountRows[i]);if(void 0!==n)for(let i=0;i<n.objects.length;i++){const o=n.objects[i];Mp(e,o),t.add(o.id)}}if(void 0!==e.discountChoices)for(let i=0;i<e.discountChoices.length;i++)if(!t.has(e.discountChoices[i])){const t=wu.get(e.discountChoices[i]);void 0!==t&&Mp(e,t.choice)}}else if(void 0!==e.discountGroups)for(let t=0;t<e.discountGroups.length;t++){const i=Iu.get(e.discountGroups[t]);if(void 0!==i)for(let t=0;t<i.elements.length;t++){const n=wu.get(i.elements[t]);void 0!==n&&Mp(e,n.choice)}}let o=new Set;for(let t=0;t<e.scores.length;t++){const i=e.scores[t];if(Ip(i.requireds)&&!i.isActive){const e=yu.get(i.id);if(void 0!==e){let t=i.value;if(i.useExpression&&i.setValue&&$p(e,i),i.appliedDiscount&&void 0!==i.discountScore)t=i.discountScore;else if(i.discountIsOn&&void 0!==i.discountScore&&i.discountedFrom&&i.discountedFrom.length>0){let e=!1;for(let n=0;n<i.discountedFrom.length;n++){const r=wu.get(i.discountedFrom[n]);if(void 0!==r){const n=r.choice;if(!n.useDiscountCount||void 0===n.discountCount){t=i.discountScore,i.appliedDiscount=!0,e=!0;break}{const r=n.isSelectableMultiple&&n.isMultipleUseVariable&&n.stackableDiscount?n.discountCount*n.multipleUseVariable:n.discountCount;if(n.appliedDisChoices||(n.appliedDisChoices=[]),r>n.appliedDisChoices.length){o.add(n),t=i.discountScore,i.appliedDiscount=!0,e=!0;break}}}}if(!e&&void 0!==i.tmpDiscount)for(let n=0;n<i.tmpDiscount.length;n++)t>i.tmpDiscount[n].discountedValue&&(t=i.tmpDiscount[n].discountedValue)}t=e.allowFloat?t:Math.floor(t),e.startingSum-=t,i.isActive=!0;let r=n.get(i.id);void 0!==r?n.set(i.id,t+r):n.set(i.id,t)}}}if(o.size>0&&o.forEach(t=>{t.appliedDisChoices&&-1===t.appliedDisChoices.indexOf(e.id)&&t.appliedDisChoices.push(e.id)}),e.duplicateRow&&void 0!==e.duplicateRowId&&void 0!==e.duplicateRowPlace&&eh(e),e.activateOtherChoice&&void 0!==e.activateThisChoice)if(e.isActivateRandom)Vp(e,i);else{const t=e.activateThisChoice.split(",");for(let n=0;n<t.length;n++){const o=t[n].split("/ON#"),r=o.length>1?parseInt(o[1]):0,a=wu.get(o[0]);if(void 0!==a){const t=a.row,n=a.choice;Pp(e,n,t,r,i)}else{const t=Iu.get(o[0]);if(void 0!==t){const n=t.elements;for(let t=0;t<n.length;t++){const o=wu.get(n[t]);if(void 0!==o){const t=o.row,n=o.choice;Pp(e,n,t,r,i)}}}}}}if(e.deactivateOtherChoice&&void 0!==e.deactivateThisChoice){const t=e.deactivateThisChoice.split(",");for(let e=0;e<t.length;e++){const n=t[e].split("/ON#"),o=n.length>1?parseInt(n[1]):0,r=wu.get(n[0]);if(void 0!==r){const e=r.row,t=r.choice;if(t.isActive)if(t.isSelectableMultiple&&t.isMultipleUseVariable)for(let n=0;n<o;n++)Xp(t,e,i);else zp(t,e,i)}else{const e=Iu.get(n[0]);if(void 0!==e){const t=e.elements;for(let e=0;e<t.length;e++){const n=wu.get(t[e]);if(void 0!==n){const e=n.row,t=n.choice;if(t.isActive)if(t.isSelectableMultiple&&t.isMultipleUseVariable)for(let n=0;n<o;n++)Xp(t,e,i);else zp(t,e,i)}}}}}}if(Array.from(vu.entries()).forEach(([t,n])=>{const o=wu.get(t);if(void 0!==o){const t=o.row,r=o.choice;if(r.id!==e.id&&!Ip(r.requireds))if(r.forcedActivated&&(delete r.forcedActivated,r.isAllowDeselect||bu.set(r.id,{multiple:n.multiple})),0===n.multiple)r.isActive&&zp(r,t,i);else if(n.multiple>0)for(let e=0;e<n.multiple;e++)r.isActive&&Xp(r,t,i)}}),e.multiplyPointtypeIsOn&&void 0!==e.pointTypeToMultiply&&void 0!==e.multiplyWithThis){let t=0;e.multiplyPointtypeIsOnCheck=!0,"object"!=typeof e.startingSumAtMultiply&&(e.startingSumAtMultiply=[]);for(let i=0;i<e.pointTypeToMultiply.length;i++){let n=yu.get(e.pointTypeToMultiply[i]);if(void 0!==n)if(e.multiplyPointtypeIsId&&"string"==typeof e.multiplyWithThis){let o=yu.get(e.multiplyWithThis);void 0!==o?(e.startingSumAtMultiply[i]={value:n.startingSum,calcVal:o.startingSum},n.startingSum*=o.startingSum,n.startingSum=n.allowFloat?n.startingSum:Math.floor(n.startingSum)):t++}else"number"==typeof e.multiplyWithThis&&(e.startingSumAtMultiply[i]={value:n.startingSum,calcVal:e.multiplyWithThis},n.startingSum*=e.multiplyWithThis,n.startingSum=n.allowFloat?n.startingSum:Math.floor(n.startingSum));else t++}t===e.pointTypeToMultiply.length&&delete e.multiplyPointtypeIsOnCheck,e.multiplyPointtypeIsOnCheck&&_u.push(e)}if(e.dividePointtypeIsOn&&void 0!==e.pointTypeToDivide&&void 0!==e.divideWithThis){let t=0;e.dividePointtypeIsOnCheck=!0,"object"!=typeof e.startingSumAtDivide&&(e.startingSumAtDivide=[]);for(let i=0;i<e.pointTypeToDivide.length;i++){let n=yu.get(e.pointTypeToDivide[i]);void 0!==n?0===e.dividedWithThis?t++:(e.startingSumAtDivide[i]={value:n.startingSum,calcVal:e.divideWithThis},n.startingSum/=e.divideWithThis,n.startingSum=n.allowFloat?n.startingSum:Math.floor(n.startingSum)):t++}t===e.pointTypeToDivide.length&&delete e.dividePointtypeIsOnCheck,!e.multiplyPointtypeIsOnCheck&&e.dividePointtypeIsOnCheck&&_u.push(e)}if(e.setPointtypeIsOn&&void 0!==e.pointTypeToSet&&void 0!==e.setWithThis){let t=0;e.setPointtypeIsOnCheck=!0,"object"!=typeof e.startingSumAtSet&&(e.startingSumAtSet=[]);for(let i=0;i<e.pointTypeToSet.length;i++){let n=yu.get(e.pointTypeToSet[i]);if(void 0!==n){let t=0;try{t=iu(e.setWithThis.replace(/\{([^{}]+)\}/g,(e,t)=>{const i=yu.get(t);if(void 0!==i)return`${i.startingSum}`;throw new Error(`Undefined variable: "${t}"`)})),t=n.allowFloat?t:Math.floor(t)}catch(Pd){console.error(Pd)}e.startingSumAtSet[i]={value:n.startingSum,calcVal:t},n.startingSum=t}else t++}t===e.pointTypeToSet.length&&delete e.setPointtypeIsOnCheck,e.multiplyPointtypeIsOnCheck||e.dividePointtypeIsOnCheck||!e.setPointtypeIsOnCheck||_u.push(e)}if(e.isChangeVariables&&void 0!==e.changedVariables)for(let t=0;t<e.changedVariables.length;t++){const i=xu.get(e.changedVariables[t]);void 0!==i&&("1"===e.changeType?i.isTrue=!0:"2"===e.changeType?i.isTrue=!1:"3"===e.changeType&&(i.isTrue=!i.isTrue))}if(e.addToAllowChoice&&void 0!==e.idOfAllowChoice&&void 0!==e.numbAddToAllowChoice)for(let t=0;t<e.idOfAllowChoice.length;t++){const n=Tu.get(e.idOfAllowChoice[t]);if(void 0!==n&&(n.allowedChoices+=e.numbAddToAllowChoice,n.allowedChoices>0&&n.currentChoices>=n.allowedChoices))for(let e=0;e<n.objects.length;e++){const t=n.objects[e];if(t.isActive&&!t.forcedActivated)if(t.isSelectableMultiple){let e=t.multipleUseVariable;for(let o=0;o<e;o++)Xp(t,n,i)}else zp(t,n,i);if(n.allowedChoices>=n.currentChoices)break}}if(e.textfieldIsOn&&void 0!==e.idOfTheTextfieldWord&&void 0!==e.wordChangeSelect){const t=Cu.get(e.idOfTheTextfieldWord);void 0!==t&&(t.replaceText=e.wordChangeSelect)}if(e.isImageUpload&&(e.defaultImage=e.image,Fu.currentDialog="appImageUpload",Fu.data=e,Fu.imgProp="image"),e.backpackBtnRequirement&&(app.btnBackpackIsOn+=1),e.showAllAddons&&(app.showAllAddons+=1),e.changeBackground&&(e.changeBgImage?void 0!==e.bgImage&&(void 0===app.bgImageStack&&(app.bgImageStack=[],app.defaultBgImage=app.styling.backgroundImage||""),app.bgImageStack.push({id:e.id,data:e.bgImage}),app.styling.backgroundImage=e.bgImage):void 0!==e.changedBgColorCode&&(void 0===app.bgColorStack&&(app.bgColorStack=[],app.defaultBgColor=app.styling.backgroundColor||""),app.bgColorStack.push({id:e.id,data:e.changedBgColorCode}),app.styling.backgroundColor=e.changedBgColorCode)),e.changePointBar&&(e.changeBarBgColorIsOn&&void 0!==e.changedBarBgColor&&(void 0===app.barBgColorStack&&(app.barBgColorStack=[],app.defaultBarBgColor=app.styling.barBackgroundColor||"#FFFFFFFF"),app.barBgColorStack.push({id:e.id,data:e.changedBarBgColor}),app.styling.barBackgroundColor=e.changedBarBgColor),e.changeBarIconColorIsOn&&void 0!==e.changedBarIconColor&&(void 0===app.barIconColorStack&&(app.barIconColorStack=[],app.defaultBarIconColor=app.styling.barIconColor||"#0000008A"),app.barIconColorStack.push({id:e.id,data:e.changedBarIconColor}),app.styling.barIconColor=e.changedBarIconColor),e.changeBarTextColorIsOn&&void 0!==e.changedBarTextColor&&(void 0===app.barTextColorStack&&(app.barTextColorStack=[],app.defaultBarTextColor=app.styling.barTextColor||"#000000"),app.barTextColorStack.push({id:e.id,data:e.changedBarTextColor}),app.styling.barTextColor=e.changedBarTextColor)),e.changeTemplates&&e.changeTemplatesList&&e.changeToThisTemplate){const t=e.changeTemplatesList.split(",");for(let i=0;i<t.length;i++){const n=t[i],o=wu.get(n);if(void 0!==o){const t=o.choice;if(Mh(t,e.id,e.changeToThisTemplate),e.changeAddonTemplate)for(let i=0;i<t.addons.length;i++){Mh(t.addons[i],e.id,e.changeToThisTemplate)}continue}const r=Tu.get(n);if(void 0!==r){Mh(r,e.id,e.changeToThisTemplate);continue}const a=Iu.get(n);if(void 0!==a){const t=a.rowElements;for(let n=0;n<t.length;n++){const i=Tu.get(t[n]);void 0!==i&&Mh(i,e.id,e.changeToThisTemplate)}const i=a.elements;for(let n=0;n<i.length;n++){const t=wu.get(i[n]);if(void 0!==t){const i=t.choice;if(Mh(i,e.id,e.changeToThisTemplate),e.changeAddonTemplate)for(let t=0;t<i.addons.length;t++){Mh(i.addons[t],e.id,e.changeToThisTemplate)}}}continue}}}if(e.changeWidth&&e.changeWidthList&&e.changeToThisWidth){const t=e.changeWidthList.split(",");for(let i=0;i<t.length;i++){const n=t[i],o=wu.get(n);if(void 0!==o){$h(o.choice,e.id,e.changeToThisWidth);continue}const r=Tu.get(n);if(void 0!==r){$h(r,e.id,e.changeToThisWidth);continue}const a=Iu.get(n);if(void 0!==a){const t=a.rowElements;for(let n=0;n<t.length;n++){const i=Tu.get(t[n]);void 0!==i&&$h(i,e.id,e.changeToThisWidth)}const i=a.elements;for(let n=0;n<i.length;n++){const t=wu.get(i[n]);if(void 0!==t){$h(t.choice,e.id,e.changeToThisWidth)}}continue}}}if(e.setBgmIsOn&&e.bgmId&&(Bu.bgmIsPlaying=!0,Bu.isBgmInit||e.useAudioURL?Ap(e,e.bgmId,0):(Op(e),Bu.isBgmInit=!0)),e.muteBgm&&Du){const e=vn(Du);app.isMute=!0,e&&"function"==typeof e.mute&&e.mute()}if(e.isContentHidden&&void 0!==e.hiddenContentsRow&&void 0!==e.hiddenContentsType)for(let t=0;t<e.hiddenContentsRow.length;t++){const i=Tu.get(e.hiddenContentsRow[t]);if(void 0!==i){i.textIsRemoved||(i.textIsRemoved=!0);for(let t=0;t<e.hiddenContentsType.length;t++)switch(e.hiddenContentsType[t]){case"1":i.objectTitleRemoved=!0;break;case"2":i.objectImageRemoved=!0;break;case"3":i.objectTextRemoved=!0;break;case"4":i.objectScoreRemoved=!0;break;case"5":i.objectRequirementRemoved=!0;break;case"6":i.addonTitleRemoved=!0;break;case"7":i.addonImageRemoved=!0;break;case"8":i.addonTextRemoved=!0}}}e.scrollToRow&&qt().then(()=>{setTimeout(()=>{if(e.scrollToObject){if(e.scrollObjectId){const t=wu.get(e.scrollObjectId);if(void 0!==t){const e=t.choice,n=t.row,o=app.useToolbarBtn||!i.bCreatorMode||"appCyoaViewer"===ku.value?n.index:n.index+1,r="appCyoaViewer"===ku.value?0:1,a=i.mainDiv?.children[o]?.children[r]?.children[1]?.children;if(void 0!==a){if(i.isBackpack){const t=document.getElementById("backpackDialog");t?.scrollTo({top:a[e.index].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}window.scrollTo({top:a[e.index].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}}}}else if(e.scrollRowId){const t=Tu.get(e.scrollRowId);if(void 0!==t){const e=i.mainDiv?.children;if(void 0!==e){const n=app.useToolbarBtn||!i.bCreatorMode?t.index:t.index+1;if(i.isBackpack){const t=document.getElementById("backpackDialog");t?.scrollTo({top:e[n].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}else window.scrollTo({top:e[n].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}}}},10)}),e.cleanACtivatedOnSelect&&Lp(),Hp(e,n,0,void 0,void 0,i),Wp(i),!Ip(e.requireds)&&e.isActive&&zp(e,t,i)};if(e.isSelectDelayed&&void 0!==e.selectDelayTime)e.selectDelayTimer||(e.selectDelayTimer=window.setTimeout(()=>e.customTextfieldIsOn&&!i.isOverDlg?(Fu.choice=e,Fu.row=t,Fu.context=void 0!==e.wordPromptText?e.wordPromptText:"",Fu.prevText=e.wordChangeSelect||"",Fu.isWord=!0,Fu.currentDialog="dlgCommon",void(Fu.cFunc=(e,t)=>{"accept"===e.detail.action&&Fu.choice&&Fu.row&&(Fu.isWord&&(Fu.choice.wordChangeSelect=t),i.isOverDlg=!0,qp(Fu.choice,Fu.row,i))})):e.confirmIsOn&&!i.isOverDlg?(Fu.choice=e,Fu.row=t,Fu.context=void 0!==e.wordPromptText?e.wordPromptText:"",Fu.isWord=!1,Fu.currentDialog="dlgCommon",void(Fu.cFunc=(e,t)=>{"accept"===e.detail.action&&Fu.choice&&Fu.row&&(Fu.isWord&&(Fu.choice.wordChangeSelect=t),i.isOverDlg=!0,qp(Fu.choice,Fu.row,i))})):(-1===i.linkedObjects.indexOf(e.id)&&(e.isFadeTransition?(void 0===e.fadeTransitionColor||""===e.fadeTransitionColor?app.fadeTransitionColor="000000FF":app.fadeTransitionColor=e.fadeTransitionColor,void 0===e.fadeInTransitionTime?app.fadeTransitionTime=.25:app.fadeTransitionTime=e.fadeInTransitionTime/1e3,app.fadeTransitionIsOn=!0,window.setTimeout(()=>{void 0!==e.fadeOutTransitionTime&&(app.fadeTransitionTime=e.fadeOutTransitionTime/1e3),app.fadeTransitionIsOn=!1,n()},1e3*app.fadeTransitionTime)):n()),0===i.linkedObjects.indexOf(e.id)&&i.linkedObjects.splice(0),void delete e.selectDelayTimer),e.selectDelayTime));else{if(e.customTextfieldIsOn&&!i.isOverDlg)return Fu.choice=e,Fu.row=t,Fu.context=void 0!==e.wordPromptText?e.wordPromptText:"",Fu.prevText=e.wordChangeSelect||"",Fu.isWord=!0,Fu.currentDialog="dlgCommon",void(Fu.cFunc=(e,t)=>{"accept"===e.detail.action&&Fu.choice&&Fu.row&&(Fu.isWord&&(Fu.choice.wordChangeSelect=t),i.isOverDlg=!0,qp(Fu.choice,Fu.row,i))});if(e.confirmIsOn&&!i.isOverDlg)return Fu.choice=e,Fu.row=t,Fu.context=void 0!==e.wordPromptText?e.wordPromptText:"",Fu.isWord=!1,Fu.currentDialog="dlgCommon",void(Fu.cFunc=(e,t)=>{"accept"===e.detail.action&&Fu.choice&&Fu.row&&(Fu.isWord&&(Fu.choice.wordChangeSelect=t),i.isOverDlg=!0,qp(Fu.choice,Fu.row,i))});-1===i.linkedObjects.indexOf(e.id)&&(e.isFadeTransition?(void 0===e.fadeTransitionColor||""===e.fadeTransitionColor?app.fadeTransitionColor="000000FF":app.fadeTransitionColor=e.fadeTransitionColor,void 0===e.fadeInTransitionTime?app.fadeTransitionTime=.25:app.fadeTransitionTime=e.fadeInTransitionTime/1e3,app.fadeTransitionIsOn=!0,window.setTimeout(()=>{void 0!==e.fadeOutTransitionTime&&(app.fadeTransitionTime=e.fadeOutTransitionTime/1e3),app.fadeTransitionIsOn=!1,n()},1e3*app.fadeTransitionTime)):n()),0===i.linkedObjects.indexOf(e.id)&&i.linkedObjects.splice(0)}}else for(let t=0;t<e.scores.length;t++){const i=e.scores[t];i.setValue&&delete i.setValue}}}function Gp(e,t,i){const n=Ip(e.requireds)&&!t.isInfoRow&&!e.isNotSelectable;let o=!0,r=t;if(t.isResultRow){const t=wu.get(e.id);void 0!==t&&(r=t.row)}if(n&&e.isMultipleUseVariable&&0===e.multipleUseVariable&&r.allowedChoices>0&&r.currentChoices>=r.allowedChoices){let e=0;for(let t=0;t<r.objects.length;t++){const n=r.objects[t];if(n.isActive){if(!n.forcedActivated&&!n.selectOnce){if(n.isSelectableMultiple){let e=n.multipleUseVariable;for(let t=0;t<e;t++)Xp(n,r,i)}else Np(n,r,!1,i);break}e++}}e>=r.allowedChoices&&(o=!1)}if(o){for(let t=0;t<e.scores.length;t++){const i=e.scores[t],n=yu.get(i.id);void 0===n||i.setValue||Fp(n,i)}if(Bp(e,!0)){const o=()=>{const n=new al,o=e.isActive,a=e.multipleUseVariable>=0,s=Math.abs(e.multipleUseVariable);if(e.multipleUseVariable+=1,0===e.multipleUseVariable?(vu.delete(e.id),e.isActive=!1,r.currentChoices-=1):(1===e.multipleUseVariable&&(e.isActive=!0,r.currentChoices+=1),vu.set(e.id,{multiple:e.multipleUseVariable})),a){if(e.discountOther&&void 0!==e.discountOperator&&void 0!==e.discountValue&&(e.stackableDiscount||!e.stackableDiscount&&1===e.multipleUseVariable))if(e.isDisChoices){const t=new Set;if(void 0!==e.discountRows)for(let i=0;i<e.discountRows.length;i++){const n=Tu.get(e.discountRows[i]);if(void 0!==n)for(let i=0;i<n.objects.length;i++){const o=n.objects[i];Mp(e,o),t.add(o.id)}}if(void 0!==e.discountChoices)for(let i=0;i<e.discountChoices.length;i++)if(!t.has(e.discountChoices[i])){const t=wu.get(e.discountChoices[i]);void 0!==t&&Mp(e,t.choice)}}else if(void 0!==e.discountGroups)for(let i=0;i<e.discountGroups.length;i++){const t=Iu.get(e.discountGroups[i]);if(void 0!==t)for(let i=0;i<t.elements.length;i++){const n=wu.get(t.elements[i]);void 0!==n&&Mp(e,n.choice)}}let t=new Set;for(let i=0;i<e.scores.length;i++){const o=e.scores[i];if(void 0===o.isActiveMul&&(o.isActiveMul=[]),Ip(o.requireds)&&!o.isActiveMul[s]){const e=yu.get(o.id);if(void 0!==e){let i=o.value;if(o.useExpression&&o.setValue&&$p(e,o),o.appliedDiscount&&void 0!==o.discountScore)i=o.discountScore;else if(o.discountIsOn&&void 0!==o.discountScore&&o.discountedFrom&&o.discountedFrom.length>0){let e=!1;for(let n=0;n<o.discountedFrom.length;n++){const r=wu.get(o.discountedFrom[n]);if(void 0!==r){const n=r.choice;if(!n.useDiscountCount||void 0===n.discountCount){i=o.discountScore,o.appliedDiscount=!0,e=!0;break}{const r=n.isSelectableMultiple&&n.isMultipleUseVariable&&n.stackableDiscount?n.discountCount*n.multipleUseVariable:n.discountCount;if(n.appliedDisChoices||(n.appliedDisChoices=[]),r>n.appliedDisChoices.length){t.add(n),i=o.discountScore,o.appliedDiscount=!0,e=!0;break}}}}if(!e&&void 0!==o.tmpDiscount)for(let t=0;t<o.tmpDiscount.length;t++)i>o.tmpDiscount[t].discountedValue&&(i=o.tmpDiscount[t].discountedValue)}i=e.allowFloat?i:Math.floor(i),o.multiplyByTimes&&(i*=s+1),e.startingSum-=i,o.isActiveMul[s]=!0;let r=n.get(o.id);void 0!==r?n.set(o.id,i+r):n.set(o.id,i)}}}t.size>0&&t.forEach(t=>{t.appliedDisChoices&&-1===t.appliedDisChoices.indexOf(e.id)&&t.appliedDisChoices.push(e.id)})}else for(let t=0;t<e.scores.length;t++){const i=e.scores[t];if(void 0===i.isActiveMulMinus&&(i.isActiveMulMinus=[]),Ip(i.requireds)&&i.isActiveMulMinus[s]||i.isActiveMulMinus[s]){const e=yu.get(i.id);if(void 0!==e){let t=i.discountIsOn&&void 0!==i.discountScore?i.discountScore:i.value;t=e.allowFloat?t:Math.floor(t),i.multiplyByTimes&&(t*=Math.abs(s)),e.startingSum-=t;let o=n.get(i.id);void 0!==o?n.set(i.id,t+o):n.set(i.id,t),delete i.isActiveMulMinus[s]}}}if(a&&(e.duplicateRow&&void 0!==e.duplicateRowId&&void 0!==e.duplicateRowPlace&&eh(e),e.activateOtherChoice&&void 0!==e.activateThisChoice))if(e.isActivateRandom)Vp(e,i);else{const t=e.activateThisChoice.split(",");for(let n=0;n<t.length;n++){const r=t[n].split("/ON#"),a=r.length>1?parseInt(r[1]):0,s=wu.get(r[0]);if(void 0!==s){const t=s.row,n=s.choice;!n.isSelectableMultiple&&o||Pp(e,n,t,a,i)}else{const t=Iu.get(r[0]);if(void 0!==t){const n=t.elements;for(let t=0;t<n.length;t++){const r=wu.get(n[t]);if(void 0!==r){const t=r.row,n=r.choice;!n.isSelectableMultiple&&o||Pp(e,n,t,a,i)}}}}}}if(Array.from(vu.entries()).forEach(([t,n])=>{const o=wu.get(t);if(void 0!==o){const t=o.row,r=o.choice;if(r.id!==e.id&&!Ip(r.requireds))if(r.forcedActivated&&(delete r.forcedActivated,r.isAllowDeselect||bu.set(r.id,{multiple:n.multiple})),0===n.multiple)r.isActive&&zp(r,t,i);else if(n.multiple>0)for(let e=0;e<n.multiple;e++)r.isActive&&Xp(r,t,i)}}),e.addToAllowChoice&&void 0!==e.idOfAllowChoice&&void 0!==e.numbAddToAllowChoice)for(let t=0;t<e.idOfAllowChoice.length;t++){const n=Tu.get(e.idOfAllowChoice[t]);if(void 0!==n&&(n.allowedChoices+=e.numbAddToAllowChoice,n.allowedChoices>0&&n.currentChoices>=n.allowedChoices))for(let e=0;e<n.objects.length;e++){const t=n.objects[e];if(t.isActive&&!t.forcedActivated)if(t.isSelectableMultiple){let e=t.multipleUseVariable;for(let o=0;o<e;o++)Xp(t,n,i)}else t.isActive&&zp(t,n,i);if(n.allowedChoices>=n.currentChoices)break}}if(!o){if(e.isChangeVariables&&void 0!==e.changedVariables)for(let t=0;t<e.changedVariables.length;t++){const i=xu.get(e.changedVariables[t]);void 0!==i&&("1"===e.changeType?i.isTrue=!0:"2"===e.changeType?i.isTrue=!1:"3"===e.changeType&&(i.isTrue=!i.isTrue))}if(e.textfieldIsOn&&void 0!==e.idOfTheTextfieldWord&&void 0!==e.wordChangeSelect){const t=Cu.get(e.idOfTheTextfieldWord);void 0!==t&&(t.replaceText=e.wordChangeSelect)}if(e.isImageUpload&&(e.defaultImage=e.image,Fu.currentDialog="appImageUpload",Fu.data=e,Fu.imgProp="image"),e.backpackBtnRequirement&&(app.btnBackpackIsOn+=1),e.showAllAddons&&(app.showAllAddons+=1),e.changeBackground&&(e.changeBgImage?void 0!==e.bgImage&&(void 0===app.bgImageStack&&(app.bgImageStack=[],app.defaultBgImage=app.styling.backgroundImage||""),app.bgImageStack.push({id:e.id,data:e.bgImage}),app.styling.backgroundImage=e.bgImage):void 0!==e.changedBgColorCode&&(void 0===app.bgColorStack&&(app.bgColorStack=[],app.defaultBgColor=app.styling.backgroundColor||""),app.bgColorStack.push({id:e.id,data:e.changedBgColorCode}),app.styling.backgroundColor=e.changedBgColorCode)),e.changePointBar&&(e.changeBarBgColorIsOn&&void 0!==e.changedBarBgColor&&(void 0===app.barBgColorStack&&(app.barBgColorStack=[],app.defaultBarBgColor=app.styling.barBackgroundColor||"#FFFFFFFF"),app.barBgColorStack.push({id:e.id,data:e.changedBarBgColor}),app.styling.barBackgroundColor=e.changedBarBgColor),e.changeBarIconColorIsOn&&void 0!==e.changedBarIconColor&&(void 0===app.barIconColorStack&&(app.barIconColorStack=[],app.defaultBarIconColor=app.styling.barIconColor||"#0000008A"),app.barIconColorStack.push({id:e.id,data:e.changedBarIconColor}),app.styling.barIconColor=e.changedBarIconColor),e.changeBarTextColorIsOn&&void 0!==e.changedBarTextColor&&(void 0===app.barTextColorStack&&(app.barTextColorStack=[],app.defaultBarTextColor=app.styling.barTextColor||"#000000"),app.barTextColorStack.push({id:e.id,data:e.changedBarTextColor}),app.styling.barTextColor=e.changedBarTextColor)),e.changeTemplates&&e.changeTemplatesList&&e.changeToThisTemplate){const t=e.changeTemplatesList.split(",");for(let i=0;i<t.length;i++){const n=t[i],o=wu.get(n);if(void 0!==o){const t=o.choice;if(Mh(t,e.id,e.changeToThisTemplate),e.changeAddonTemplate)for(let i=0;i<t.addons.length;i++){Mh(t.addons[i],e.id,e.changeToThisTemplate)}continue}const r=Tu.get(n);if(void 0!==r){Mh(r,e.id,e.changeToThisTemplate);continue}const a=Iu.get(n);if(void 0!==a){const t=a.rowElements;for(let n=0;n<t.length;n++){const i=Tu.get(t[n]);void 0!==i&&Mh(i,e.id,e.changeToThisTemplate)}const i=a.elements;for(let n=0;n<i.length;n++){const t=wu.get(i[n]);if(void 0!==t){const i=t.choice;if(Mh(i,e.id,e.changeToThisTemplate),e.changeAddonTemplate)for(let t=0;t<i.addons.length;t++){Mh(i.addons[t],e.id,e.changeToThisTemplate)}}}continue}}}if(e.changeWidth&&e.changeWidthList&&e.changeToThisWidth){const t=e.changeWidthList.split(",");for(let i=0;i<t.length;i++){const n=t[i],o=wu.get(n);if(void 0!==o){$h(o.choice,e.id,e.changeToThisWidth);continue}const r=Tu.get(n);if(void 0!==r){$h(r,e.id,e.changeToThisWidth);continue}const a=Iu.get(n);if(void 0!==a){const t=a.rowElements;for(let n=0;n<t.length;n++){const i=Tu.get(t[n]);void 0!==i&&$h(i,e.id,e.changeToThisWidth)}const i=a.elements;for(let n=0;n<i.length;n++){const t=wu.get(i[n]);if(void 0!==t){$h(t.choice,e.id,e.changeToThisWidth)}}continue}}}if(e.setBgmIsOn&&e.bgmId&&(Bu.bgmIsPlaying=!0,Bu.isBgmInit||e.useAudioURL?Ap(e,e.bgmId,0):(Op(e),Bu.isBgmInit=!0)),e.muteBgm&&$u){const e=vn($u);app.isMute=!0,e&&"function"==typeof e.mute&&e.mute()}if(e.isContentHidden&&void 0!==e.hiddenContentsRow&&void 0!==e.hiddenContentsType)for(let t=0;t<e.hiddenContentsRow.length;t++){const i=Tu.get(e.hiddenContentsRow[t]);if(void 0!==i){i.textIsRemoved||(i.textIsRemoved=!0);for(let t=0;t<e.hiddenContentsType.length;t++)switch(e.hiddenContentsType[t]){case"1":i.objectTitleRemoved=!0;break;case"2":i.objectImageRemoved=!0;break;case"3":i.objectTextRemoved=!0;break;case"4":i.objectScoreRemoved=!0;break;case"5":i.objectRequirementRemoved=!0;break;case"6":i.addonTitleRemoved=!0;break;case"7":i.addonImageRemoved=!0;break;case"8":i.addonTextRemoved=!0}}}e.scrollToRow&&qt().then(()=>{setTimeout(()=>{if(e.scrollToObject){if(e.scrollObjectId){const t=wu.get(e.scrollObjectId);if(void 0!==t){const e=t.choice,n=t.row,o=app.useToolbarBtn||!i.bCreatorMode||"appCyoaViewer"===ku.value?n.index:n.index+1,r="appCyoaViewer"===ku.value?0:1,a=i.mainDiv?.children[o]?.children[r]?.children[1]?.children;if(void 0!==a){if(i.isBackpack){const t=document.getElementById("backpackDialog");t?.scrollTo({top:a[e.index].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}window.scrollTo({top:a[e.index].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}}}}else if(e.scrollRowId){const t=Tu.get(e.scrollRowId);if(void 0!==t){const e=i.mainDiv?.children;if(void 0!==e){const n=app.useToolbarBtn||!i.bCreatorMode?t.index:t.index+1;if(i.isBackpack){const t=document.getElementById("backpackDialog");t?.scrollTo({top:e[n].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}else window.scrollTo({top:e[n].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}}}},10)})}Hp(e,n,0,void 0,void 0,i),Wp(i),!Ip(e.requireds)&&e.isActive&&Xp(e,t,i)};if(n)if(e.isMultipleUseVariable){if(void 0===e.multipleUseVariable&&(e.multipleUseVariable=0),void 0===e.numMultipleTimesPluss&&(e.numMultipleTimesPluss=0),e.numMultipleTimesPluss>e.multipleUseVariable)if(e.isSelectDelayed&&void 0!==e.selectDelayTime)e.selectDelayTimer||(e.selectDelayTimer=window.setTimeout(()=>!e.customTextfieldIsOn||i.isOverDlg||e.isActive?e.confirmIsOn&&!i.isOverDlg?(Fu.choice=e,Fu.row=t,Fu.context=void 0!==e.wordPromptText?e.wordPromptText:"",Fu.isWord=!1,Fu.currentDialog="dlgCommon",void(Fu.cFunc=(e,t)=>{"accept"===e.detail.action&&Fu.choice&&Fu.row&&(Fu.isWord&&(Fu.choice.wordChangeSelect=t),i.isOverDlg=!0,Gp(Fu.choice,Fu.row,i))})):(-1===i.linkedObjects.indexOf(e.id)&&(e.isFadeTransition?(void 0===e.fadeTransitionColor||""===e.fadeTransitionColor?app.fadeTransitionColor="000000FF":app.fadeTransitionColor=e.fadeTransitionColor,void 0===e.fadeInTransitionTime?app.fadeTransitionTime=.25:app.fadeTransitionTime=e.fadeInTransitionTime/1e3,app.fadeTransitionIsOn=!0,window.setTimeout(()=>{void 0!==e.fadeOutTransitionTime&&(app.fadeTransitionTime=e.fadeOutTransitionTime/1e3),app.fadeTransitionIsOn=!1,o()},1e3*app.fadeTransitionTime)):o()),0===i.linkedObjects.indexOf(e.id)&&i.linkedObjects.splice(0),void delete e.selectDelayTimer):(Fu.choice=e,Fu.row=t,Fu.context=void 0!==e.wordPromptText?e.wordPromptText:"",Fu.prevText=e.wordChangeSelect||"",Fu.isWord=!0,Fu.currentDialog="dlgCommon",void(Fu.cFunc=(e,t)=>{"accept"===e.detail.action&&Fu.choice&&Fu.row&&(Fu.isWord&&(Fu.choice.wordChangeSelect=t),i.isOverDlg=!0,Gp(Fu.choice,Fu.row,i))})),e.selectDelayTime));else{if(e.customTextfieldIsOn&&!i.isOverDlg&&!e.isActive)return Fu.choice=e,Fu.row=t,Fu.context=void 0!==e.wordPromptText?e.wordPromptText:"",Fu.prevText=e.wordChangeSelect||"",Fu.isWord=!0,Fu.currentDialog="dlgCommon",void(Fu.cFunc=(e,t)=>{"accept"===e.detail.action&&Fu.choice&&Fu.row&&(Fu.isWord&&(Fu.choice.wordChangeSelect=t),i.isOverDlg=!0,Gp(Fu.choice,Fu.row,i))});if(e.confirmIsOn&&!i.isOverDlg)return Fu.choice=e,Fu.row=t,Fu.context=void 0!==e.wordPromptText?e.wordPromptText:"",Fu.isWord=!1,Fu.currentDialog="dlgCommon",void(Fu.cFunc=(e,t)=>{"accept"===e.detail.action&&Fu.choice&&Fu.row&&(Fu.isWord&&(Fu.choice.wordChangeSelect=t),i.isOverDlg=!0,Gp(Fu.choice,Fu.row,i))});-1===i.linkedObjects.indexOf(e.id)&&(e.isFadeTransition?(void 0===e.fadeTransitionColor||""===e.fadeTransitionColor?app.fadeTransitionColor="000000FF":app.fadeTransitionColor=e.fadeTransitionColor,void 0===e.fadeInTransitionTime?app.fadeTransitionTime=.25:app.fadeTransitionTime=e.fadeInTransitionTime/1e3,app.fadeTransitionIsOn=!0,window.setTimeout(()=>{void 0!==e.fadeOutTransitionTime&&(app.fadeTransitionTime=e.fadeOutTransitionTime/1e3),app.fadeTransitionIsOn=!1,o()},1e3*app.fadeTransitionTime)):o()),0===i.linkedObjects.indexOf(e.id)&&i.linkedObjects.splice(0)}}else if(void 0!==e.multipleScoreId){const t=yu.get(e.multipleScoreId);void 0!==t&&(void 0===e.numMultipleTimesPluss&&(e.numMultipleTimesPluss=0),e.numMultipleTimesPluss>t.startingSum&&(t.startingSum+=1))}}else for(let t=0;t<e.scores.length;t++){const i=e.scores[t];i.setValue&&delete i.setValue}}}function Xp(e,t,i){const n=Bp(e,!1);let o=t;if(t.isResultRow){const t=wu.get(e.id);void 0!==t&&(o=t.row)}if(n){const n=()=>{const t=new al,n=e.multipleUseVariable>0,r=Math.abs(e.multipleUseVariable-1);if(n){for(let i=0;i<e.scores.length;i++){const n=e.scores[i];if(void 0!==n.isActiveMul&&(Ip(n.requireds)&&n.isActiveMul[r]||n.isActiveMul[r])){const e=yu.get(n.id);if(void 0!==e){let i=n.discountIsOn&&void 0!==n.discountScore?n.discountScore:n.useExpression&&n.mulValue&&n.mulValue[r]?n.mulValue[r]:n.value;i=e.allowFloat?i:Math.floor(i),n.multiplyByTimes&&(i*=r+1),e.startingSum+=i;let o=t.get(n.id);void 0!==o?t.set(n.id,-i+o):t.set(n.id,-i),delete n.isActiveMul[r],n.mulValue&&delete n.mulValue[r],0===r&&delete n.setValue}}}if(e.activateOtherChoice&&void 0!==e.activateThisChoice)if(e.isActivateRandom&&void 0!==e.activatedRandomMul&&void 0!==e.activatedRandomMul[r]){for(let t=0;t<e.activatedRandomMul[r].length;t++){const n=e.activatedRandomMul[r][t].split("/ON#"),o=wu.get(n[0]);if(void 0!==o){const t=o.row,r=o.choice,a=n.length>1?Number(n[1]):0;jp(e,r,t,a,i)}}e.activatedRandomMul.splice(r,1)}else{const t=e.activateThisChoice.split(",");for(let n=0;n<t.length;n++){const o=t[n].split("/ON#"),a=o.length>1?parseInt(o[1]):0,s=wu.get(o[0]);if(void 0!==s){const t=s.row,n=s.choice;(0===r||n.isSelectableMultiple)&&jp(e,n,t,a,i)}else{const t=Iu.get(o[0]);if(void 0!==t){const n=t.elements;for(let t=0;t<n.length;t++){const o=wu.get(n[t]);if(void 0!==o){const t=o.row,n=o.choice;(0===r||n.isSelectableMultiple)&&jp(e,n,t,a,i)}}}}}}if(e.discountOther&&void 0!==e.discountOperator&&void 0!==e.discountValue&&(e.stackableDiscount||!e.stackableDiscount&&1===e.multipleUseVariable))if(void 0===e.discountPointTypes&&(e.discountPointTypes=[]),e.isDisChoices){const t=new Set;if(void 0!==e.discountRows)for(let i=0;i<e.discountRows.length;i++){const n=Tu.get(e.discountRows[i]);if(void 0!==n)for(let i=0;i<n.objects.length;i++){const o=n.objects[i];Rp(e,o),t.add(o.id)}}if(void 0!==e.discountChoices)for(let i=0;i<e.discountChoices.length;i++)if(!t.has(e.discountChoices[i])){const t=wu.get(e.discountChoices[i]);void 0!==t&&Rp(e,t.choice)}}else if(void 0!==e.discountGroups)for(let t=0;t<e.discountGroups.length;t++){const i=Iu.get(e.discountGroups[t]);if(void 0!==i)for(let t=0;t<i.elements.length;t++){const n=wu.get(i.elements[t]);void 0!==n&&Rp(e,n.choice)}}}else for(let i=0;i<e.scores.length;i++){const n=e.scores[i];if(void 0===n.isActiveMulMinus&&(n.isActiveMulMinus=[]),Ip(n.requireds)&&!n.isActiveMulMinus[r]){const e=yu.get(n.id);if(void 0!==e){let i=n.discountIsOn&&void 0!==n.discountScore?n.discountScore:n.value;i=e.allowFloat?i:Math.floor(i),n.multiplyByTimes&&(i*=r),e.startingSum+=i;let o=t.get(n.id);void 0!==o?t.set(n.id,-i+o):t.set(n.id,-i),n.isActiveMulMinus[r]=!0}}}if(e.multipleUseVariable-=1,0===e.multipleUseVariable?(e.isActive=!1,o.currentChoices-=1,vu.delete(e.id)):(-1===e.multipleUseVariable&&(e.isActive=!0,o.currentChoices+=1),vu.set(e.id,{multiple:e.multipleUseVariable})),Array.from(vu.entries()).forEach(([t,n])=>{const o=wu.get(t);if(void 0!==o){const t=o.row,r=o.choice;if(r.id!==e.id&&!Ip(r.requireds))if(r.forcedActivated&&(delete r.forcedActivated,r.isAllowDeselect||bu.set(r.id,{multiple:n.multiple})),0===n.multiple)r.forcedActivated&&delete r.forcedActivated,r.isActive&&zp(r,t,i);else if(n.multiple>0)for(let e=0;e<n.multiple;e++)r.isActive&&Xp(r,t,i)}}),e.addToAllowChoice&&void 0!==e.idOfAllowChoice&&void 0!==e.numbAddToAllowChoice)for(let o=0;o<e.idOfAllowChoice.length;o++){const t=Tu.get(e.idOfAllowChoice[o]);if(void 0!==t&&(t.allowedChoices-=e.numbAddToAllowChoice,t.allowedChoices>0&&t.currentChoices>=t.allowedChoices))for(let e=0;e<t.objects.length;e++){const n=t.objects[e];if(n.isActive&&!n.forcedActivated)if(n.isSelectableMultiple){let e=n.multipleUseVariable;for(let o=0;o<e;o++)Xp(n,t,i)}else n.isActive&&zp(n,t,i);if(t.allowedChoices>=t.currentChoices)break}}if(0===r){if(e.textfieldIsOn&&void 0!==e.idOfTheTextfieldWord&&void 0!==e.wordChangeSelect){const t=Cu.get(e.idOfTheTextfieldWord);void 0!==t&&(t.replaceText=void 0===e.wordChangeDeselect?"":e.wordChangeDeselect)}if(e.isImageUpload&&void 0!==e.defaultImage&&(e.image=e.defaultImage),e.isChangeVariables&&void 0!==e.changedVariables)for(let t=0;t<e.changedVariables.length;t++){const i=xu.get(e.changedVariables[t]);void 0!==i&&("1"===e.changeType?i.isTrue=!1:"2"===e.changeType?i.isTrue=!0:"3"===e.changeType&&(i.isTrue=!i.isTrue))}if(e.backpackBtnRequirement&&void 0!==app.btnBackpackIsOn&&(app.btnBackpackIsOn-=1),e.showAllAddons&&void 0!==app.showAllAddons&&(app.showAllAddons-=1),e.changeBackground)if(e.changeBgImage){if(void 0!==app.bgImageStack){const t=app.bgImageStack.findIndex(t=>t.id===e.id);-1!==t&&app.bgImageStack.splice(t,1);const i=app.bgImageStack.length;i>0?app.styling.backgroundImage=app.bgImageStack[i-1].data:(app.styling.backgroundImage=app.defaultBgImage||"",delete app.bgImageStack)}}else if(void 0!==e.changedBgColorCode&&void 0!==app.bgColorStack){const t=app.bgColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.bgColorStack.splice(t,1);const i=app.bgColorStack.length;i>0?app.styling.backgroundColor=app.bgColorStack[i-1].data:(app.styling.backgroundColor=app.defaultBgColor||"#FFFFFFFF",delete app.bgColorStack)}if(e.changePointBar){if(e.changeBarBgColorIsOn&&void 0!==e.changedBarBgColor&&void 0!==app.barBgColorStack){const t=app.barBgColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.barBgColorStack.splice(t,1);const i=app.barBgColorStack.length;i>0?app.styling.barBackgroundColor=app.barBgColorStack[i-1].data:(app.styling.barBackgroundColor=app.defaultBarBgColor||"#FFFFFFFF",delete app.barBgColorStack)}if(e.changeBarIconColorIsOn&&void 0!==e.changedBarIconColor&&void 0!==app.barIconColorStack){const t=app.barIconColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.barIconColorStack.splice(t,1);const i=app.barIconColorStack.length;i>0?app.styling.barIconColor=app.barIconColorStack[i-1].data:(app.styling.barIconColor=app.defaultBarIconColor||"#0000008A",delete app.barIconColorStack)}if(e.changeBarTextColorIsOn&&void 0!==e.changedBarTextColor&&void 0!==app.barTextColorStack){const t=app.barTextColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.barTextColorStack.splice(t,1);const i=app.barTextColorStack.length;i>0?app.styling.barTextColor=app.barTextColorStack[i-1].data:(app.styling.barTextColor=app.defaultBarIconColor||"#000000",delete app.barTextColorStack)}}if(e.changeTemplates&&e.changeTemplatesList&&e.changeToThisTemplate){const t=e.changeTemplatesList.split(",");for(let i=0;i<t.length;i++){const n=t[i],o=wu.get(n);if(void 0!==o){const t=o.choice;if(Dh(t,e.id),e.changeAddonTemplate)for(let i=0;i<t.addons.length;i++){Dh(t.addons[i],e.id)}continue}const r=Tu.get(n);if(void 0!==r){Dh(r,e.id);continue}const a=Iu.get(n);if(void 0!==a){const t=a.rowElements;for(let n=0;n<t.length;n++){const i=Tu.get(t[n]);void 0!==i&&Dh(i,e.id)}const i=a.elements;for(let n=0;n<i.length;n++){const t=wu.get(i[n]);if(void 0!==t){const i=t.choice;if(Dh(i,e.id),e.changeAddonTemplate)for(let t=0;t<i.addons.length;t++){Dh(i.addons[t],e.id)}}}continue}}}if(e.changeWidth&&e.changeWidthList&&e.changeToThisWidth){const t=e.changeWidthList.split(",");for(let i=0;i<t.length;i++){const n=t[i],o=wu.get(n);if(void 0!==o){Bh(o.choice,e.id);continue}const r=Tu.get(n);if(void 0!==r){Bh(r,e.id);continue}const a=Iu.get(n);if(void 0!==a){const t=a.rowElements;for(let n=0;n<t.length;n++){const i=Tu.get(t[n]);void 0!==i&&Bh(i,e.id)}const i=a.elements;for(let n=0;n<i.length;n++){const t=wu.get(i[n]);if(void 0!==t){Bh(t.choice,e.id)}}continue}}}if(e.setBgmIsOn&&$u&&e.bgmId&&(Bu.bgmIsPlaying=!1,Ap(e,e.bgmId,0)),e.muteBgm&&$u){const e=vn($u);app.isMute=!1,e&&"function"==typeof e.unMute&&e.unMute()}if(e.isContentHidden&&void 0!==e.hiddenContentsRow&&void 0!==e.hiddenContentsType)for(let t=0;t<e.hiddenContentsRow.length;t++){const i=Tu.get(e.hiddenContentsRow[t]);if(void 0!==i)for(let t=0;t<e.hiddenContentsType.length;t++)switch(e.hiddenContentsType[t]){case"1":i.objectTitleRemoved=!1;break;case"2":i.objectImageRemoved=!1;break;case"3":i.objectTextRemoved=!1;break;case"4":i.objectScoreRemoved=!1;break;case"5":i.objectRequirementRemoved=!1;break;case"6":i.addonTitleRemoved=!1;break;case"7":i.addonImageRemoved=!1;break;case"8":i.addonTextRemoved=!1}}}Up(e,t,0,void 0,void 0,i),Wp(i)};if(!t.isInfoRow&&!e.isNotSelectable&&!e.selectOnce)if(e.isMultipleUseVariable)void 0===e.numMultipleTimesMinus&&(e.numMultipleTimesMinus=0),e.multipleUseVariable>e.numMultipleTimesMinus&&(e.isSelectDelayed&&void 0!==e.selectDelayTime?e.selectDelayTimer||(e.selectDelayTimer=window.setTimeout(()=>{-1===i.linkedObjects.indexOf(e.id)&&(e.isFadeTransition?(void 0===e.fadeTransitionColor||""===e.fadeTransitionColor?app.fadeTransitionColor="000000FF":app.fadeTransitionColor=e.fadeTransitionColor,void 0===e.fadeInTransitionTime?app.fadeTransitionTime=.25:app.fadeTransitionTime=e.fadeInTransitionTime/1e3,app.fadeTransitionIsOn=!0,window.setTimeout(()=>{void 0!==e.fadeOutTransitionTime&&(app.fadeTransitionTime=e.fadeOutTransitionTime/1e3),app.fadeTransitionIsOn=!1,n()},1e3*app.fadeTransitionTime)):n()),0===i.linkedObjects.indexOf(e.id)&&i.linkedObjects.splice(0),delete e.selectDelayTimer},e.selectDelayTime)):(-1===i.linkedObjects.indexOf(e.id)&&(e.isFadeTransition?(void 0===e.fadeTransitionColor||""===e.fadeTransitionColor?app.fadeTransitionColor="000000FF":app.fadeTransitionColor=e.fadeTransitionColor,void 0===e.fadeInTransitionTime?app.fadeTransitionTime=.25:app.fadeTransitionTime=e.fadeInTransitionTime/1e3,app.fadeTransitionIsOn=!0,window.setTimeout(()=>{void 0!==e.fadeOutTransitionTime&&(app.fadeTransitionTime=e.fadeOutTransitionTime/1e3),app.fadeTransitionIsOn=!1,n()},1e3*app.fadeTransitionTime)):n()),0===i.linkedObjects.indexOf(e.id)&&i.linkedObjects.splice(0)));else if(void 0!==e.multipleScoreId){const t=yu.get(e.multipleScoreId);void 0!==t&&(void 0===e.numMultipleTimesMinus&&(e.numMultipleTimesMinus=0),t.startingSum>e.numMultipleTimesMinus&&(t.startingSum-=1))}}}function Kp(e,t,i,n=new Set){const o=Array.from(vu.keys());for(let r=0;r<o.length;r++){const a=o[r],s=wu.get(a);if(void 0!==s){const o=s.row,r=s.choice,a=new al;let l=!1,c=!1;e.useDiscountCount&&!e.appliedDisChoices&&(e.appliedDisChoices=[]);for(let i=0;i<r.scores.length;i++){const s=r.scores[i];if(!s.isNotRecalculatable){const i=yu.get(s.id);if(void 0!==i){if(e.discountOther&&s.isChangeDiscount&&void 0!==s.tmpDisScore){const t=r.multipleUseVariable,n=e.isSelectableMultiple&&e.isMultipleUseVariable&&e.stackableDiscount&&e.discountCount?e.discountCount*e.multipleUseVariable:e.discountCount;if(!e.useDiscountCount||e.useDiscountCount&&n&&n>e.appliedDisChoices.length){if(r.isSelectableMultiple&&r.isMultipleUseVariable&&void 0!==r.numMultipleTimesMinus){for(let e=t-1;e>=0;e--)r.isActive&&(i.startingSum+=s.tmpDisScore);r.isActive&&(a.set(s.id,s.tmpDisScore),delete s.isChangeDiscount,delete s.tmpDisScore)}else r.isSelectableMultiple||(i.startingSum+=s.tmpDisScore,a.set(s.id,s.tmpDisScore),delete s.isChangeDiscount,delete s.tmpDisScore);c=!0,r.isActive&&(s.appliedDiscount=!0,l=!0)}}if(!n.has(s.idx)){const l=e.scores.length>0,d=e.scores.length||1;for(let u=0;u<d;u++){const d=l?e.scores[u]:null,p=d&&t.get(d.id)||0,h=d?yu.get(d.id):null;if((!l||l&&h)&&r.isActive){const t=Ip(s.requireds),l=new al(JSON.parse(JSON.stringify([...vu])));l.delete(e.id),o.currentChoices-=1,h&&(h.startingSum+=p);const d=Ip(s.requireds,l);if(o.currentChoices+=1,h&&(h.startingSum-=p),d!==t){s.setValue||Fp(i,s);let e=s.discountIsOn&&s.appliedDiscount&&void 0!==s.discountScore?s.discountScore:s.value;if(e=i.allowFloat?e:Math.floor(e),d)if(r.isSelectableMultiple&&r.isMultipleUseVariable&&void 0!==r.numMultipleTimesMinus){for(let t=r.multipleUseVariable-1;t>=0;t--)void 0!==s.isActiveMul&&s.isActiveMul[t]&&(i.startingSum+=e,a.set(s.id,e),s.isActiveMul[t]=!1)}else r.isSelectableMultiple||s.isActive&&(i.startingSum+=e,a.set(s.id,e),delete s.isActive);else if(r.isSelectableMultiple&&r.isMultipleUseVariable&&void 0!==r.numMultipleTimesMinus){const t=r.multipleUseVariable;void 0===s.isActiveMul&&(s.isActiveMul=[]);for(let n=t-1;n>=0;n--)s.isActiveMul[n]||(i.startingSum-=e,a.set(s.id,e),s.isActiveMul[n]=!0)}else r.isSelectableMultiple||s.isActive||(i.startingSum-=e,a.set(s.id,e),s.isActive=!0);c||(c=!0),n.add(s.idx)}}}}}}}l&&e.appliedDisChoices&&-1===e.appliedDisChoices.indexOf(r.id)&&e.appliedDisChoices.push(r.id),c&&Kp(r,a,++i,n)}}}function Zp(e,t){let i=e.split("/IMG#");const n=i.length>1?i[1].replace(/\/CHAR#/g,","):"";i=i[0].split("/WORD#");const o=i.length>1?i[1].replace(/\/CHAR#/g,","):"";i=i[0].split("/RND#");const r=i.length>1?i[1].split("/AND#"):"";i=i[0].split("/RS#");const a=i.length>1?i[1]:"",s=i[0],l=wu.get(s);if(void 0!==l){const e=l.row,i=l.choice,s=new Map;if(a){const e=a.split("/AND#");for(let t=0;t<e.length;t++){const i=e[t].split(":"),n=Number(i[0]),o=Number(i[1]);Number.isNaN(n)||s.set(n,Number.isNaN(o)?0:o)}}for(let t=0;t<i.scores.length;t++){const e=i.scores[t],n=yu.get(e.id);void 0===n||e.setValue||(s.size>0&&s.has(t)?(e.value=s.get(t),e.setValue=!0):Fp(n,e))}const c=new al;if(i.isActive=!0,vu.set(i.id,{multiple:0}),e.currentChoices+=1,i.discountOther&&void 0!==i.discountOperator&&void 0!==i.discountValue)if(i.isDisChoices){const e=new Set;if(void 0!==i.discountRows)for(let t=0;t<i.discountRows.length;t++){const n=Tu.get(i.discountRows[t]);if(void 0!==n)for(let t=0;t<n.objects.length;t++){const o=n.objects[t];Mp(i,o),e.add(o.id)}}if(void 0!==i.discountChoices)for(let t=0;t<i.discountChoices.length;t++)if(!e.has(i.discountChoices[t])){const e=wu.get(i.discountChoices[t]);if(void 0!==e){const t=e.choice;Mp(i,t)}}}else if(void 0!==i.discountGroups)for(let t=0;t<i.discountGroups.length;t++){const e=Iu.get(i.discountGroups[t]);if(void 0!==e)for(let t=0;t<e.elements.length;t++){const n=wu.get(e.elements[t]);if(void 0!==n){const e=n.choice;Mp(i,e)}}}let d=new Set;for(let t=0;t<i.scores.length;t++){const e=i.scores[t];if(Ip(e.requireds)&&!e.isActive){const t=yu.get(e.id);if(void 0!==t){let i=e.value;if(e.useExpression&&e.setValue&&$p(t,e),e.appliedDiscount&&void 0!==e.discountScore)i=e.discountScore;else if(e.discountIsOn&&void 0!==e.discountScore&&e.discountedFrom&&e.discountedFrom.length>0){let t=!1;for(let n=0;n<e.discountedFrom.length;n++){const o=wu.get(e.discountedFrom[n]);if(void 0!==o){const n=o.choice;if(!n.useDiscountCount||void 0===n.discountCount){i=e.discountScore,e.appliedDiscount=!0,t=!0;break}{const o=n.isSelectableMultiple&&n.isMultipleUseVariable&&n.stackableDiscount?n.discountCount*n.multipleUseVariable:n.discountCount;if(n.appliedDisChoices||(n.appliedDisChoices=[]),o>n.appliedDisChoices.length){d.add(n),i=e.discountScore,e.appliedDiscount=!0,t=!0;break}}}}if(!t&&void 0!==e.tmpDiscount)for(let n=0;n<e.tmpDiscount.length;n++)i>e.tmpDiscount[n].discountedValue&&(i=e.tmpDiscount[n].discountedValue)}i=t.allowFloat?i:Math.floor(i),t.startingSum-=i,e.isActive=!0;let n=c.get(e.id);void 0!==n?c.set(e.id,i+n):c.set(e.id,i)}}}if(d.size>0&&d.forEach(e=>{e.appliedDisChoices&&-1===e.appliedDisChoices.indexOf(i.id)&&e.appliedDisChoices.push(i.id)}),i.duplicateRow&&void 0!==i.duplicateRowId&&void 0!==i.duplicateRowPlace&&eh(i),i.activateOtherChoice&&void 0!==i.activateThisChoice){const e=new Set(t.map(e=>e.split("/ON#")[0]));if(i.isActivateRandom&&void 0!==i.numActivateRandom)if(""===r){let t=i.activateThisChoice.split(",").filter(t=>e.has(t.split("/ON#")[0]));const n=i.numActivateRandom>t.length?t.length:i.numActivateRandom;let o=new Set;for(let e=0;e<t.length;e++){const i=wu.get(t[e]);if(void 0!==i){if(!Ip(i.choice.requireds)){const i=t[e];t.splice(e,1),t.push(i)}}}for(let e=t.length-1;e>=0;e--)o.add(t[e]);t=[...o].reverse(),i.activatedRandom=t.slice(0,n);for(let e=0;e<n;e++){const t=i.activatedRandom[e].split("/ON#"),n=wu.get(t[0]);if(void 0!==n){const e=n.choice;if(!i.isAllowDeselect){if(e.isSelectableMultiple&&e.isMultipleUseVariable){const i=parseInt(t[1]);for(let t=0;t<Math.abs(i);t++)i>0&&void 0!==e.numMultipleTimesMinus?e.numMultipleTimesMinus++:i<0&&void 0!==e.numMultipleTimesPluss&&e.numMultipleTimesPluss--}e.forcedActivated=!0}e.isSelectableMultiple||(void 0===e.activatedFrom&&(e.activatedFrom=0),e.activatedFrom+=1)}}}else{let t=r.filter(t=>e.has(t.split("/RON#")[0]));i.activatedRandom=t;for(let e=0;e<t.length;e++){const t=i.activatedRandom[e].split("/RON#"),n=wu.get(t[0]);if(void 0!==n){const e=n.choice;if(!i.isAllowDeselect){if(e.isSelectableMultiple&&e.isMultipleUseVariable){const i=parseInt(t[1]);for(let t=0;t<Math.abs(i);t++)i>0&&void 0!==e.numMultipleTimesMinus?e.numMultipleTimesMinus++:i<0&&void 0!==e.numMultipleTimesPluss&&e.numMultipleTimesPluss--}e.forcedActivated=!0}e.isSelectableMultiple||(void 0===e.activatedFrom&&(e.activatedFrom=0),e.activatedFrom+=1)}}}else{const t=i.activateThisChoice.split(",").filter(t=>e.has(t.split("/ON#")[0]));for(let e=0;e<t.length;e++){const n=t[e].split("/ON#"),o=n.length>1?parseInt(n[1]):0,r=wu.get(n[0]);if(void 0!==r){const e=r.choice;if(!i.isAllowDeselect){if(e.isSelectableMultiple&&e.isMultipleUseVariable)if(i.isSelectableMultiple&&i.isMultipleUseVariable)for(let t=0;t<Math.abs(i.multipleUseVariable);t++)for(let i=0;i<Math.abs(o);i++)o>0&&void 0!==e.numMultipleTimesMinus?e.numMultipleTimesMinus++:o<0&&void 0!==e.numMultipleTimesPluss&&e.numMultipleTimesPluss--;else for(let t=0;t<Math.abs(o);t++)o>0&&void 0!==e.numMultipleTimesMinus?e.numMultipleTimesMinus++:o<0&&void 0!==e.numMultipleTimesPluss&&e.numMultipleTimesPluss--;e.forcedActivated=!0}e.isSelectableMultiple||(void 0===e.activatedFrom&&(e.activatedFrom=0),e.activatedFrom+=1)}else{const e=Iu.get(n[0]);if(void 0!==e){const t=e.elements;for(let e=0;e<t.length;e++){const n=wu.get(t[e]);if(void 0!==n){const e=n.choice;if(!i.isAllowDeselect){if(e.isSelectableMultiple&&e.isMultipleUseVariable)if(i.isSelectableMultiple&&i.isMultipleUseVariable)for(let t=0;t<Math.abs(i.multipleUseVariable);t++)for(let i=0;i<Math.abs(o);i++)o>0&&void 0!==e.numMultipleTimesMinus?e.numMultipleTimesMinus++:o<0&&void 0!==e.numMultipleTimesPluss&&e.numMultipleTimesPluss--;else for(let t=0;t<Math.abs(o);t++)o>0&&void 0!==e.numMultipleTimesMinus?e.numMultipleTimesMinus++:o<0&&void 0!==e.numMultipleTimesPluss&&e.numMultipleTimesPluss--;e.forcedActivated=!0}e.isSelectableMultiple||(void 0===e.activatedFrom&&(e.activatedFrom=0),e.activatedFrom+=1)}}}}}}}if(i.multiplyPointtypeIsOn&&void 0!==i.pointTypeToMultiply&&void 0!==i.multiplyWithThis){let e=0;i.multiplyPointtypeIsOnCheck=!0,"object"!=typeof i.startingSumAtMultiply&&(i.startingSumAtMultiply=[]);for(let t=0;t<i.pointTypeToMultiply.length;t++){let n=yu.get(i.pointTypeToMultiply[t]);if(void 0!==n)if(i.multiplyPointtypeIsId&&"string"==typeof i.multiplyWithThis){let o=yu.get(i.multiplyWithThis);void 0!==o?(i.startingSumAtMultiply[t]={value:n.startingSum,calcVal:o.startingSum},n.startingSum*=o.startingSum,n.startingSum=n.allowFloat?n.startingSum:Math.floor(n.startingSum)):e++}else"number"==typeof i.multiplyWithThis&&(i.startingSumAtMultiply[t]={value:n.startingSum,calcVal:i.multiplyWithThis},n.startingSum*=i.multiplyWithThis,n.startingSum=n.allowFloat?n.startingSum:Math.floor(n.startingSum));else e++}e===i.pointTypeToMultiply.length&&delete i.multiplyPointtypeIsOnCheck,i.multiplyPointtypeIsOnCheck&&_u.push(i)}if(i.dividePointtypeIsOn&&void 0!==i.pointTypeToDivide&&void 0!==i.divideWithThis){let e=0;i.dividePointtypeIsOnCheck=!0,"object"!=typeof i.startingSumAtDivide&&(i.startingSumAtDivide=[]);for(let t=0;t<i.pointTypeToDivide.length;t++){let n=yu.get(i.pointTypeToDivide[t]);void 0!==n?0===i.dividedWithThis?e++:(i.startingSumAtDivide[t]={value:n.startingSum,calcVal:i.divideWithThis},n.startingSum/=i.divideWithThis,n.startingSum=n.allowFloat?n.startingSum:Math.floor(n.startingSum)):e++}e===i.pointTypeToDivide.length&&delete i.dividePointtypeIsOnCheck,!i.multiplyPointtypeIsOnCheck&&i.dividePointtypeIsOnCheck&&_u.push(i)}if(i.setPointtypeIsOn&&void 0!==i.pointTypeToSet&&void 0!==i.setWithThis){let e=0;i.setPointtypeIsOnCheck=!0,"object"!=typeof i.startingSumAtSet&&(i.startingSumAtSet=[]);for(let t=0;t<i.pointTypeToSet.length;t++){let n=yu.get(i.pointTypeToSet[t]);if(void 0!==n){let e=0;try{e=iu(i.setWithThis.replace(/\{([^{}]+)\}/g,(e,t)=>{const i=yu.get(t);if(void 0!==i)return`${i.startingSum}`;throw new Error(`Undefined variable: "${t}"`)})),e=n.allowFloat?e:Math.floor(e)}catch(Pd){console.error(Pd)}i.startingSumAtSet[t]={value:n.startingSum,calcVal:e},n.startingSum=e}else e++}e===i.pointTypeToSet.length&&delete i.setPointtypeIsOnCheck,i.multiplyPointtypeIsOnCheck||i.dividePointtypeIsOnCheck||!i.setPointtypeIsOnCheck||_u.push(i)}if(i.isChangeVariables&&void 0!==i.changedVariables)for(let t=0;t<i.changedVariables.length;t++){const e=xu.get(i.changedVariables[t]);void 0!==e&&("1"===i.changeType?e.isTrue=!0:"2"===i.changeType?e.isTrue=!1:"3"===i.changeType&&(e.isTrue=!e.isTrue))}if(i.addToAllowChoice&&void 0!==i.idOfAllowChoice&&void 0!==i.numbAddToAllowChoice)for(let t=0;t<i.idOfAllowChoice.length;t++){const e=Tu.get(i.idOfAllowChoice[t]);void 0!==e&&(e.allowedChoices+=i.numbAddToAllowChoice)}if(i.textfieldIsOn&&void 0!==i.idOfTheTextfieldWord&&void 0!==i.wordChangeSelect){const e=Cu.get(i.idOfTheTextfieldWord);void 0!==e&&(i.customTextfieldIsOn?e.replaceText=o:e.replaceText=i.wordChangeSelect)}if(i.isImageUpload&&(i.defaultImage=i.image,i.image=n),i.backpackBtnRequirement&&(void 0===app.btnBackpackIsOn&&(app.btnBackpackIsOn=0),app.btnBackpackIsOn+=1),i.showAllAddons&&(void 0===app.showAllAddons&&(app.showAllAddons=0),app.showAllAddons+=1),i.changeBackground&&(i.changeBgImage?void 0!==i.bgImage&&(void 0===app.bgImageStack&&(app.bgImageStack=[],app.defaultBgImage=app.styling.backgroundImage||""),app.bgImageStack.push({id:i.id,data:i.bgImage}),app.styling.backgroundImage=i.bgImage):void 0!==i.changedBgColorCode&&(void 0===app.bgColorStack&&(app.bgColorStack=[],app.defaultBgColor=app.styling.backgroundColor||""),app.bgColorStack.push({id:i.id,data:i.changedBgColorCode}),app.styling.backgroundColor=i.changedBgColorCode)),i.changePointBar&&(i.changeBarBgColorIsOn&&void 0!==i.changedBarBgColor&&(void 0===app.barBgColorStack&&(app.barBgColorStack=[],app.defaultBarBgColor=app.styling.barBackgroundColor||"#FFFFFFFF"),app.barBgColorStack.push({id:i.id,data:i.changedBarBgColor}),app.styling.barBackgroundColor=i.changedBarBgColor),i.changeBarIconColorIsOn&&void 0!==i.changedBarIconColor&&(void 0===app.barIconColorStack&&(app.barIconColorStack=[],app.defaultBarIconColor=app.styling.barIconColor||"#0000008A"),app.barIconColorStack.push({id:i.id,data:i.changedBarIconColor}),app.styling.barIconColor=i.changedBarIconColor),i.changeBarTextColorIsOn&&void 0!==i.changedBarTextColor&&(void 0===app.barTextColorStack&&(app.barTextColorStack=[],app.defaultBarTextColor=app.styling.barTextColor||"#000000"),app.barTextColorStack.push({id:i.id,data:i.changedBarTextColor}),app.styling.barTextColor=i.changedBarTextColor)),i.changeTemplates&&i.changeTemplatesList&&i.changeToThisTemplate){const e=i.changeTemplatesList.split(",");for(let t=0;t<e.length;t++){const n=e[t],o=wu.get(n);if(void 0!==o){const e=o.choice;if(Mh(e,i.id,i.changeToThisTemplate),i.changeAddonTemplate)for(let t=0;t<e.addons.length;t++){Mh(e.addons[t],i.id,i.changeToThisTemplate)}continue}const r=Tu.get(n);if(void 0!==r){Mh(r,i.id,i.changeToThisTemplate);continue}const a=Iu.get(n);if(void 0!==a){const e=a.rowElements;for(let n=0;n<e.length;n++){const t=Tu.get(e[n]);void 0!==t&&Mh(t,i.id,i.changeToThisTemplate)}const t=a.elements;for(let n=0;n<t.length;n++){const e=wu.get(t[n]);if(void 0!==e){const t=e.choice;if(Mh(t,i.id,i.changeToThisTemplate),i.changeAddonTemplate)for(let e=0;e<t.addons.length;e++){Mh(t.addons[e],i.id,i.changeToThisTemplate)}}}continue}}}if(i.changeWidth&&i.changeWidthList&&i.changeToThisWidth){const e=i.changeWidthList.split(",");for(let t=0;t<e.length;t++){const n=e[t],o=wu.get(n);if(void 0!==o){$h(o.choice,i.id,i.changeToThisWidth);continue}const r=Tu.get(n);if(void 0!==r){$h(r,i.id,i.changeToThisWidth);continue}const a=Iu.get(n);if(void 0!==a){const e=a.rowElements;for(let n=0;n<e.length;n++){const t=Tu.get(e[n]);void 0!==t&&$h(t,i.id,i.changeToThisWidth)}const t=a.elements;for(let n=0;n<t.length;n++){const e=wu.get(t[n]);if(void 0!==e){$h(e.choice,i.id,i.changeToThisWidth)}}continue}}}if(i.setBgmIsOn&&i.bgmId&&(Bu.bgmIsPlaying=!0,Bu.isBgmInit||i.useAudioURL?Ap(i,i.bgmId,0):(Op(i),Bu.isBgmInit=!0)),i.muteBgm&&$u){const e=vn($u);app.isMute=!0,e&&"function"==typeof e.mute&&e.mute()}if(i.isContentHidden&&void 0!==i.hiddenContentsRow&&void 0!==i.hiddenContentsType)for(let t=0;t<i.hiddenContentsRow.length;t++){const e=Tu.get(i.hiddenContentsRow[t]);if(void 0!==e){e.textIsRemoved||(e.textIsRemoved=!0);for(let t=0;t<i.hiddenContentsType.length;t++)switch(i.hiddenContentsType[t]){case"1":e.objectTitleRemoved=!0;break;case"2":e.objectImageRemoved=!0;break;case"3":e.objectTextRemoved=!0;break;case"4":e.objectScoreRemoved=!0;break;case"5":e.objectRequirementRemoved=!0;break;case"6":e.addonTitleRemoved=!0;break;case"7":e.addonImageRemoved=!0;break;case"8":e.addonTextRemoved=!0}}}Kp(i,c,0)}}function Yp(e,t){let i=e.split("/IMG#");const n=i.length>1?i[1].replace(/\/CHAR#/g,","):"";i=i[0].split("/WORD#");const o=i.length>1?i[1].replace(/\/CHAR#/g,","):"";i=i[0].split("/RND#");const r=i.length>1?i[1].split("/AND#"):"";i=i[0].split("/RS#");const a=i.length>1?i[1]:"",s=i[0].split("/ON#"),l=wu.get(s[0]);if(void 0!==l){const e=l.choice,i=l.row,s=new Map;if(a){const e=a.split("/AND#");for(let t=0;t<e.length;t++){const i=e[t].split(":"),n=Number(i[0]),o=Number(i[1]);Number.isNaN(n)||s.set(n,Number.isNaN(o)?0:o)}}for(let t=0;t<e.scores.length;t++){const i=e.scores[t],n=yu.get(i.id);void 0===n||i.setValue||(s.size>0&&s.has(t)?(i.value=s.get(t),i.setValue=!0):Fp(n,i))}const c=new al,d=e.isActive,u=e.multipleUseVariable>=0,p=Math.abs(e.multipleUseVariable);if(e.isActive||(e.isActive=!0,i.currentChoices+=1),e.multipleUseVariable++,vu.set(e.id,{multiple:e.multipleUseVariable}),u&&e.discountOther&&void 0!==e.discountOperator&&void 0!==e.discountValue)if(e.isDisChoices){const t=new Set;if(void 0!==e.discountRows)for(let i=0;i<e.discountRows.length;i++){const n=Tu.get(e.discountRows[i]);if(void 0!==n)for(let i=0;i<n.objects.length;i++){const o=n.objects[i];Mp(e,o),t.add(o.id)}}if(void 0!==e.discountChoices)for(let i=0;i<e.discountChoices.length;i++)if(!t.has(e.discountChoices[i])){const t=wu.get(e.discountChoices[i]);if(void 0!==t){const i=t.choice;Mp(e,i)}}}else if(void 0!==e.discountGroups)for(let t=0;t<e.discountGroups.length;t++){const i=Iu.get(e.discountGroups[t]);if(void 0!==i)for(let t=0;t<i.elements.length;t++){const n=wu.get(i.elements[t]);if(void 0!==n){const t=n.choice;Mp(e,t)}}}let h=new Set;for(let t=0;t<e.scores.length;t++){const i=e.scores[t];if(void 0===i.isActiveMul&&(i.isActiveMul=[]),Ip(i.requireds)&&!i.isActiveMul[p]){const e=yu.get(i.id);if(void 0!==e){let t=i.value;if(i.useExpression&&i.setValue&&$p(e,i),i.discountIsOn&&void 0!==i.discountScore&&i.discountedFrom&&i.discountedFrom.length>0){const e=wu.get(i.discountedFrom[0]);if(void 0!==e){const n=e.choice;if(n.useDiscountCount&&void 0!==n.discountCount){if(n.appliedDisChoices||(n.appliedDisChoices=[]),n.discountCount>n.appliedDisChoices.length)h.add(n),t=i.discountScore,i.appliedDiscount=!0;else if(void 0!==i.tmpDiscount)for(let e=0;e<i.tmpDiscount.length;e++)t>i.tmpDiscount[e].discountedValue&&(t=i.tmpDiscount[e].discountedValue)}else t=i.discountScore,i.appliedDiscount=!0}}t=e.allowFloat?t:Math.floor(t),i.multiplyByTimes&&(t*=p+1),e.startingSum-=t,i.isActiveMul[p]=!0;let n=c.get(i.id);void 0!==n?c.set(i.id,t+n):c.set(i.id,t)}}}if(h.size>0&&h.forEach(t=>{t.appliedDisChoices&&-1===t.appliedDisChoices.indexOf(e.id)&&t.appliedDisChoices.push(e.id)}),u&&(e.duplicateRow&&void 0!==e.duplicateRowId&&void 0!==e.duplicateRowPlace&&eh(e),e.activateOtherChoice&&void 0!==e.activateThisChoice)){const i=new Set(t.map(e=>e.split("/ON#")[0]));if(e.isActivateRandom&&void 0!==e.numActivateRandom)if(void 0===e.activatedRandomMul&&(e.activatedRandomMul=[]),""===r){if(1===e.multipleUseVariable){let t=e.activateThisChoice.split(",").filter(e=>i.has(e.split("/ON#")[0]));e.numActivateRandom>t.length?t.length:e.numActivateRandom;let n=new Set;for(let e=0;e<t.length;e++){const i=wu.get(t[e]);if(void 0!==i){if(!Ip(i.choice.requireds)){const i=t[e];t.splice(e,1),t.push(i)}}}for(let e=t.length-1;e>=0;e--)n.add(t[e]);t=[...n].reverse();let o=0,r=[];for(let i=0;i<e.numActivateRandom;i++){r[i]=t.length/(e.numActivateRandom*(i+1))<1?t.length%(e.numActivateRandom*(i+1)):e.numActivateRandom,e.activatedRandomMul.push(t.slice(o,r[i]+o));for(let t=0;t<r[i]-o;t++){const n=e.activatedRandomMul[i][t].split("/ON#"),o=n.length>1?parseInt(n[1]):0,r=wu.get(n[0]);if(void 0!==r){const t=r.choice;if(!e.isAllowDeselect){if(t.isSelectableMultiple&&t.isMultipleUseVariable)for(let e=0;e<Math.abs(o);e++)o>0&&void 0!==t.numMultipleTimesMinus?t.numMultipleTimesMinus++:o<0&&void 0!==t.numMultipleTimesPluss&&t.numMultipleTimesPluss--;t.forcedActivated=!0}}}o+=r[i]}}}else{const t=(e.multipleUseVariable-1)*e.numActivateRandom,n=r.splice(t,t+e.numActivateRandom);e.activatedRandomMul.push(n);for(let o=0;o<e.activatedRandomMul[e.multipleUseVariable-1].length;o++){const t=e.activatedRandomMul[e.multipleUseVariable-1][o].split("/RON#"),n=t.length>1?parseInt(t[1]):0,r=wu.get(t[0]);if(void 0!==r){const t=r.choice;if(!e.isAllowDeselect&&i.has(t.id)){if(t.isSelectableMultiple&&t.isMultipleUseVariable)for(let e=0;e<Math.abs(n);e++)n>0&&void 0!==t.numMultipleTimesMinus?t.numMultipleTimesMinus++:n<0&&void 0!==t.numMultipleTimesPluss&&t.numMultipleTimesPluss--;t.forcedActivated=!0}}}}else{const t=e.activateThisChoice.split(",").filter(e=>i.has(e.split("/ON#")[0]));for(let i=0;i<t.length;i++){const n=t[i].split("/ON#"),o=n.length>1?parseInt(n[1]):0,r=wu.get(n[0]);if(void 0!==r){const t=r.choice;if(!e.isAllowDeselect){if(t.isSelectableMultiple&&t.isMultipleUseVariable)if(e.isSelectableMultiple&&e.isMultipleUseVariable)for(let i=0;i<Math.abs(e.multipleUseVariable);i++)for(let e=0;e<Math.abs(o);e++)o>0&&void 0!==t.numMultipleTimesMinus?t.numMultipleTimesMinus++:o<0&&void 0!==t.numMultipleTimesPluss&&t.numMultipleTimesPluss--;else for(let e=0;e<Math.abs(o);e++)o>0&&void 0!==t.numMultipleTimesMinus?t.numMultipleTimesMinus++:o<0&&void 0!==t.numMultipleTimesPluss&&t.numMultipleTimesPluss--;t.forcedActivated=!0}}else{const t=Iu.get(n[0]);if(void 0!==t){const i=t.elements;for(let t=0;t<i.length;t++){const n=wu.get(i[t]);if(void 0!==n){const t=n.choice;if(!e.isAllowDeselect){if(t.isSelectableMultiple&&t.isMultipleUseVariable)if(e.isSelectableMultiple&&e.isMultipleUseVariable)for(let i=0;i<Math.abs(e.multipleUseVariable);i++)for(let e=0;e<Math.abs(o);e++)o>0&&void 0!==t.numMultipleTimesMinus?t.numMultipleTimesMinus++:o<0&&void 0!==t.numMultipleTimesPluss&&t.numMultipleTimesPluss--;else for(let e=0;e<Math.abs(o);e++)o>0&&void 0!==t.numMultipleTimesMinus?t.numMultipleTimesMinus++:o<0&&void 0!==t.numMultipleTimesPluss&&t.numMultipleTimesPluss--;t.forcedActivated=!0}}}}}}}}if(e.addToAllowChoice&&void 0!==e.idOfAllowChoice&&void 0!==e.numbAddToAllowChoice)for(let t=0;t<e.idOfAllowChoice.length;t++){const i=Tu.get(e.idOfAllowChoice[t]);void 0!==i&&(i.allowedChoices+=e.numbAddToAllowChoice)}if(!d){if(e.isChangeVariables&&void 0!==e.changedVariables)for(let t=0;t<e.changedVariables.length;t++){const i=xu.get(e.changedVariables[t]);void 0!==i&&("1"===e.changeType?i.isTrue=!0:"2"===e.changeType?i.isTrue=!1:"3"===e.changeType&&(i.isTrue=!i.isTrue))}if(e.textfieldIsOn&&void 0!==e.idOfTheTextfieldWord&&void 0!==e.wordChangeSelect){const t=Cu.get(e.idOfTheTextfieldWord);void 0!==t&&(e.customTextfieldIsOn?t.replaceText=o:t.replaceText=e.wordChangeSelect)}if(e.isImageUpload&&(e.defaultImage=e.image,e.image=n),e.backpackBtnRequirement&&(app.btnBackpackIsOn+=1),e.showAllAddons&&(app.showAllAddons+=1),e.changeBackground&&(e.changeBgImage?void 0!==e.bgImage&&(void 0===app.bgImageStack&&(app.bgImageStack=[],app.defaultBgImage=app.styling.backgroundImage||""),app.bgImageStack.push({id:e.id,data:e.bgImage}),app.styling.backgroundImage=e.bgImage):void 0!==e.changedBgColorCode&&(void 0===app.bgColorStack&&(app.bgColorStack=[],app.defaultBgColor=app.styling.backgroundColor||""),app.bgColorStack.push({id:e.id,data:e.changedBgColorCode}),app.styling.backgroundColor=e.changedBgColorCode)),e.changePointBar&&(e.changeBarBgColorIsOn&&void 0!==e.changedBarBgColor&&(void 0===app.barBgColorStack&&(app.barBgColorStack=[],app.defaultBarBgColor=app.styling.barBackgroundColor||"#FFFFFFFF"),app.barBgColorStack.push({id:e.id,data:e.changedBarBgColor}),app.styling.barBackgroundColor=e.changedBarBgColor),e.changeBarIconColorIsOn&&void 0!==e.changedBarIconColor&&(void 0===app.barIconColorStack&&(app.barIconColorStack=[],app.defaultBarIconColor=app.styling.barIconColor||"#0000008A"),app.barIconColorStack.push({id:e.id,data:e.changedBarIconColor}),app.styling.barIconColor=e.changedBarIconColor),e.changeBarTextColorIsOn&&void 0!==e.changedBarTextColor&&(void 0===app.barTextColorStack&&(app.barTextColorStack=[],app.defaultBarTextColor=app.styling.barTextColor||"#000000"),app.barTextColorStack.push({id:e.id,data:e.changedBarTextColor}),app.styling.barTextColor=e.changedBarTextColor)),e.changeTemplates&&e.changeTemplatesList&&e.changeToThisTemplate){const t=e.changeTemplatesList.split(",");for(let i=0;i<t.length;i++){const n=t[i],o=wu.get(n);if(void 0!==o){const t=o.choice;if(Mh(t,e.id,e.changeToThisTemplate),e.changeAddonTemplate)for(let i=0;i<t.addons.length;i++){Mh(t.addons[i],e.id,e.changeToThisTemplate)}continue}const r=Tu.get(n);if(void 0!==r){Mh(r,e.id,e.changeToThisTemplate);continue}const a=Iu.get(n);if(void 0!==a){const t=a.rowElements;for(let n=0;n<t.length;n++){const i=Tu.get(t[n]);void 0!==i&&Mh(i,e.id,e.changeToThisTemplate)}const i=a.elements;for(let n=0;n<i.length;n++){const t=wu.get(i[n]);if(void 0!==t){const i=t.choice;if(Mh(i,e.id,e.changeToThisTemplate),e.changeAddonTemplate)for(let t=0;t<i.addons.length;t++){Mh(i.addons[t],e.id,e.changeToThisTemplate)}}}continue}}}if(e.changeWidth&&e.changeWidthList&&e.changeToThisWidth){const t=e.changeWidthList.split(",");for(let i=0;i<t.length;i++){const n=t[i],o=wu.get(n);if(void 0!==o){$h(o.choice,e.id,e.changeToThisWidth);continue}const r=Tu.get(n);if(void 0!==r){$h(r,e.id,e.changeToThisWidth);continue}const a=Iu.get(n);if(void 0!==a){const t=a.rowElements;for(let n=0;n<t.length;n++){const i=Tu.get(t[n]);void 0!==i&&$h(i,e.id,e.changeToThisWidth)}const i=a.elements;for(let n=0;n<i.length;n++){const t=wu.get(i[n]);if(void 0!==t){$h(t.choice,e.id,e.changeToThisWidth)}}continue}}}if(e.setBgmIsOn&&e.bgmId&&(Bu.bgmIsPlaying=!0,Bu.isBgmInit||e.useAudioURL?Ap(e,e.bgmId,0):(Op(e),Bu.isBgmInit=!0)),e.muteBgm&&$u){const e=vn($u);app.isMute=!0,e&&"function"==typeof e.mute&&e.mute()}if(e.isContentHidden&&void 0!==e.hiddenContentsRow&&void 0!==e.hiddenContentsType)for(let t=0;t<e.hiddenContentsRow.length;t++){const i=Tu.get(e.hiddenContentsRow[t]);if(void 0!==i){i.textIsRemoved||(i.textIsRemoved=!0);for(let t=0;t<e.hiddenContentsType.length;t++)switch(e.hiddenContentsType[t]){case"1":i.objectTitleRemoved=!0;break;case"2":i.objectImageRemoved=!0;break;case"3":i.objectTextRemoved=!0;break;case"4":i.objectScoreRemoved=!0;break;case"5":i.objectRequirementRemoved=!0;break;case"6":i.addonTitleRemoved=!0;break;case"7":i.addonImageRemoved=!0;break;case"8":i.addonTextRemoved=!0}}}}Kp(e,c,0)}}function Qp(e,t){const i=new al,n=Math.abs(e.multipleUseVariable-1);for(let o=0;o<e.scores.length;o++){const t=e.scores[o];if(void 0===t.isActiveMulMinus&&(t.isActiveMulMinus=[]),Ip(t.requireds)&&!t.isActiveMulMinus[n]){const e=yu.get(t.id);if(void 0!==e){let o=t.discountIsOn&&void 0!==t.discountScore?t.discountScore:t.value;o=e.allowFloat?o:Math.floor(o),t.multiplyByTimes&&(o*=Math.abs(n)),e.startingSum+=o;let r=i.get(t.id);void 0!==r?i.set(t.id,-o+r):i.set(t.id,-o),t.isActiveMulMinus[n]=!0}}}if(e.multipleUseVariable-=1,0===e.multipleUseVariable?(e.isActive=!1,t.currentChoices-=1,vu.delete(e.id)):(-1===e.multipleUseVariable&&(e.isActive=!0,t.currentChoices+=1),vu.set(e.id,{multiple:e.multipleUseVariable})),e.addToAllowChoice&&void 0!==e.idOfAllowChoice&&void 0!==e.numbAddToAllowChoice)for(let o=0;o<e.idOfAllowChoice.length;o++){const t=Tu.get(e.idOfAllowChoice[o]);void 0!==t&&(t.allowedChoices-=e.numbAddToAllowChoice)}Kp(e,i,0)}function Jp(e){Lp();const t=e.split(",");for(let i=0;i<t.length;i++){const e=t[i].split("/RP#");if(e.length>1){const t=e[1].split("/NUM#"),i=t.length>1?parseInt(t[1]):0,n=yu.get(t[0]);void 0!==n&&(n.startingSum+=i),vu.set(e[0],{multiple:0,isRowButton:!0,rndPoint:t[0],pointNum:i})}else{const e=t[i].split(/\/(IMG|WORD|RND|RS)#/)[0].split("/ON#"),n=e.length>1?parseInt(e[1]):0,o=wu.get(e[0]);if(void 0!==o){const e=o.choice;if(e.isSelectableMultiple&&e.isMultipleUseVariable)for(let r=0;r<Math.abs(n);r++)n>0?Yp(t[i],t):Qp(e,o.row);else Zp(t[i],t)}else{const t=xu.get(e[0]);void 0!==t&&(t.isTrue=!0,vu.set(t.id,{multiple:0,isVariable:!0}))}}}}function eh(e,t){if(void 0!==e.duplicateRowId&&void 0!==e.duplicateRowPlace){const t=e.duplicateRowId;let i=0;Array.from(Tu.entries()).forEach(([e])=>{e.split("/D#")[0]===t.split("/D#")[0]&&i++});const n=Tu.get(e.duplicateRowId),o=Tu.get(e.duplicateRowPlace),r=`/D#${i}`;if(void 0!==n&&void 0!==o){const t=JSON.parse(JSON.stringify(n));if(t.id=`${t.id.split("/D#")[0]}${r}`,o.isBackpack){app.backpack.splice(o.index+1,0,t),Tu.set(t.id,app.backpack[o.index+1]);for(let e=o.index+1;e<app.backpack.length;e++)app.backpack[e].index=e}else{app.rows.splice(o.index+1,0,t),Tu.set(t.id,app.rows[o.index+1]);for(let e=o.index+1;e<app.rows.length;e++)app.rows[e].index=e}for(let i=0;i<t.objects.length;i++){const n=t.objects[i];n.id=`${n.id.split("/D#")[0]}${r}`,n.isActive=!1,delete n.forcedActivated,delete n.appliedDisChoices;for(let e=0;e<n.scores.length;e++){const t=n.scores[e];t.idx=dp(0,5),Eu.add(t.idx),n.isSelectableMultiple?(delete t.isActiveMul,delete t.isActiveMulMinus):delete t.isActive,delete t.setValue,kp(t)}for(let e=0;e<n.addons.length;e++){n.addons[e].parentId=n.id}if(!e.dRowAddSufReq){for(let e=0;e<n.requireds.length;e++){const t=n.requireds[e];if("id"===t.type){const e=t.reqId.split("/ON#"),i=`${e[0].split("/D#")[0]}${r}`;e.length>1?t.reqId=`${i}/ON#${e[1]}`:t.reqId=i}else if("or"===t.type)for(let e=0;e<t.orRequired.length;e++){const i=t.orRequired[e];if(void 0!==i.req){const e=i.req.split("/ON#"),t=`${e[0].split("/D#")[0]}${r}`;e.length>1?i.req=`${t}/ON#${e[1]}`:i.req=t}}if(void 0!==t.requireds)for(let i=0;i<t.requireds.length;i++){const t=n.requireds[e];if("id"===t.type){const e=t.reqId.split("/ON#"),i=`${e[0].split("/D#")[0]}${r}`;e.length>1?t.reqId=`${i}/ON#${e[1]}`:t.reqId=i}else if("or"===t.type)for(let e=0;e<t.orRequired.length;e++){const i=t.orRequired[e];if(void 0!==i.req){const e=i.req.split("/ON#"),t=`${e[0].split("/D#")[0]}${r}`;e.length>1?i.req=`${t}/ON#${e[1]}`:i.req=t}}}}for(let e=0;e<n.scores.length;e++){const t=n.scores[e];if(void 0!==t.requireds)for(let e=0;e<t.requireds.length;e++){const i=t.requireds[e];if("id"===i.type){const e=i.reqId.split("/ON#"),t=`${e[0].split("/D#")[0]}${r}`;e.length>1?i.reqId=`${t}/ON#${e[1]}`:i.reqId=t}else if("or"===i.type)for(let e=0;e<i.orRequired.length;e++){const t=i.orRequired[e];if(void 0!==t.req){const e=t.req.split("/ON#"),i=`${e[0].split("/D#")[0]}${r}`;e.length>1?t.req=`${i}/ON#${e[1]}`:t.req=i}}}}for(let e=0;e<n.addons.length;e++){const t=n.addons[e];if(void 0!==t.requireds)for(let e=0;e<t.requireds.length;e++){const i=t.requireds[e];if("id"===i.type){const e=i.reqId.split("/ON#"),t=`${e[0].split("/D#")[0]}${r}`;e.length>1?i.reqId=`${t}/ON#${e[1]}`:i.reqId=t}else if("or"===i.type)for(let e=0;e<i.orRequired.length;e++){const t=i.orRequired[e];if(void 0!==t.req){const e=t.req.split("/ON#"),i=`${e[0].split("/D#")[0]}${r}`;e.length>1?t.req=`${i}/ON#${e[1]}`:t.req=i}}}}}if(!e.dRowAddSufFunc){if(n.activateOtherChoice&&void 0!==n.activateThisChoice){const e=n.activateThisChoice.split(",");let t="";for(let i=0;i<e.length;i++){const n=e[i].split("/ON#"),o=`${n[0].split("/D#")[0]}${r}`;n.length>1?t+=`${o}/ON#${n[1]},`:t+=`${o},`}n.activateThisChoice=t}if(n.deactivateOtherChoice&&void 0!==n.deactivateThisChoice){const e=n.deactivateThisChoice.split(",");let t="";for(let i=0;i<e.length;i++){const n=e[i].split("/ON#"),o=`${n[0].split("/D#")[0]}${r}`;n.length>1?t+=`${o}/ON#${n[1]},`:t+=`${o},`}n.deactivateThisChoice=t}if(n.duplicateRow&&void 0!==n.duplicateRowId&&void 0!==n.duplicateRowPlace){const e=n.duplicateRowId,t=n.duplicateRowPlace;n.duplicateRowId=`${e.split("/D")[0]}${r}`,n.duplicateRowPlace=`${t.split("/D")[0]}${r}`}}if(n.backpackBtnRequirement&&(void 0!==app.hideBackpackBtn?app.hideBackpackBtn+=1:delete n.backpackBtnRequirement),o.isBackpack?wu.set(n.id,{choice:app.backpack[o.index+1].objects[i],row:app.backpack[o.index+1]}):wu.set(n.id,{choice:app.rows[o.index+1].objects[i],row:app.rows[o.index+1]}),n.groups)for(let e=0;e<n.groups.length;e++){let t=Iu.get(n.groups[e]);if(void 0!==t){-1===t.elements.indexOf(n.id)&&t.elements.push(n.id)}}if(n.objectDesignGroups)for(let e=0;e<n.objectDesignGroups.length;e++){let t=Ou.get(n.objectDesignGroups[e]);if(void 0!==t){-1===t.elements.indexOf(n.id)&&t.elements.push(n.id)}}}}}}function th(e){return/^data:[a-zA-Z]+\/[a-zA-Z]+;base64,/.test(e)}function ih(e){const t=e.match(/^data:(image\/[a-zA-Z0-9.+-]+);base64,/);if(!t)return!1;return"image/avif"===t[1].toLowerCase()}const nh=Lc({selFilterBlur:Pc().optional(),selFilterBright:Pc().optional(),selFilterCont:Pc().optional(),selFilterGray:Pc().optional(),selFilterHue:Pc().optional(),selFilterInvert:Pc().optional(),selFilterOpac:Pc().optional(),selFilterSatur:Pc().optional(),selFilterSepia:Pc().optional(),reqFilterBlur:Pc().optional(),reqFilterBright:Pc().optional(),reqFilterCont:Pc().optional(),reqFilterGray:Pc().optional(),reqFilterHue:Pc().optional(),reqFilterInvert:Pc().optional(),reqFilterOpac:Pc().optional(),reqFilterSatur:Pc().optional(),reqFilterSepia:Pc().optional(),unselFilterBlur:Pc().optional(),unselFilterBright:Pc().optional(),unselFilterCont:Pc().optional(),unselFilterGray:Pc().optional(),unselFilterHue:Pc().optional(),unselFilterInvert:Pc().optional(),unselFilterOpac:Pc().optional(),unselFilterSatur:Pc().optional(),unselFilterSepia:Pc().optional()}).passthrough(),oh=Lc({rowTitleTextSize:Pc().optional(),rowTextTextSize:Pc().optional(),objectTitleTextSize:Pc().optional(),objectTextTextSize:Pc().optional(),addonTitleTextSize:Pc().optional(),addonTextTextSize:Pc().optional(),scoreTextSize:Pc().optional()}).passthrough(),rh=Lc({objectImgBorderWidth:Pc().optional(),objectImageWidth:Pc().optional(),objectImageMarginTop:Pc().optional(),objectImageMarginBottom:Pc().optional(),objectImgBorderRadiusTopLeft:Pc().optional(),objectImgBorderRadiusTopRight:Pc().optional(),objectImgBorderRadiusBottomRight:Pc().optional(),objectImgBorderRadiusBottomLeft:Pc().optional(),objectImageBoxWidth:Pc().optional()}).passthrough(),ah=Lc({rowImgBorderWidth:Pc().optional(),rowImageWidth:Pc().optional(),rowImageMarginTop:Pc().optional(),rowImageMarginBottom:Pc().optional(),rowImgBorderRadiusTopLeft:Pc().optional(),rowImgBorderRadiusTopRight:Pc().optional(),rowImgBorderRadiusBottomRight:Pc().optional(),rowImgBorderRadiusBottomLeft:Pc().optional(),rowImageBoxWidth:Pc().optional()}).passthrough(),sh=Lc({addonImgBorderWidth:Pc().optional(),addonImageWidth:Pc().optional(),addonImageMarginTop:Pc().optional(),addonImageMarginBottom:Pc().optional(),addonImgBorderRadiusTopLeft:Pc().optional(),addonImgBorderRadiusTopRight:Pc().optional(),addonImgBorderRadiusBottomRight:Pc().optional(),addonImgBorderRadiusBottomLeft:Pc().optional(),addonImageBoxWidth:Pc().optional()}).passthrough(),lh=Lc({objectMargin:Pc().optional(),objectTextPadding:Pc().optional(),objectBorderWidth:Pc().optional(),objectDropShadowH:Pc().optional(),objectDropShadowV:Pc().optional(),objectDropShadowBlur:Pc().optional(),objectDropShadowSpread:Pc().optional(),objectBorderRadiusTopLeft:Pc().optional(),objectBorderRadiusTopRight:Pc().optional(),objectBorderRadiusBottomRight:Pc().optional(),objectBorderRadiusBottomLeft:Pc().optional(),objectBorderImageWidth:Pc().optional(),objectBorderImageSliceTop:Pc().optional(),objectBorderImageSliceBottom:Pc().optional(),objectBorderImageSliceLeft:Pc().optional(),objectBorderImageSliceRight:Pc().optional()}).passthrough(),ch=Lc({rowMargin:Pc().optional(),rowBodyMarginSides:Pc().optional(),rowBodyMarginTop:Pc().optional(),rowBodyMarginBottom:Pc().optional(),rowTextPaddingY:Pc().optional(),rowTextPaddingX:Pc().optional(),rowDropShadowH:Pc().optional(),rowDropShadowV:Pc().optional(),rowDropShadowBlur:Pc().optional(),rowDropShadowSpread:Pc().optional(),rowButtonXPadding:Pc().optional(),rowButtonYPadding:Pc().optional(),rowBorderRadiusTopLeft:Pc().optional(),rowBorderRadiusTopRight:Pc().optional(),rowBorderRadiusBottomRight:Pc().optional(),rowBorderRadiusBottomLeft:Pc().optional(),rowBorderWidth:Pc().optional(),rowBorderImageWidth:Pc().optional(),rowBorderImageSliceTop:Pc().optional(),rowBorderImageSliceBottom:Pc().optional(),rowBorderImageSliceLeft:Pc().optional(),rowBorderImageSliceRight:Pc().optional()}).passthrough(),dh=Lc({addonMargin:Pc().optional(),addonTextPadding:Pc().optional(),addonBorderWidth:Pc().optional(),addonDropShadowH:Pc().optional(),addonDropShadowV:Pc().optional(),addonDropShadowBlur:Pc().optional(),addonDropShadowSpread:Pc().optional(),addonBorderRadiusTopLeft:Pc().optional(),addonBorderRadiusTopRight:Pc().optional(),addonBorderRadiusBottomRight:Pc().optional(),addonBorderRadiusBottomLeft:Pc().optional(),addonBorderImageWidth:Pc().optional(),addonBorderImageSliceTop:Pc().optional(),addonBorderImageSliceBottom:Pc().optional(),addonBorderImageSliceLeft:Pc().optional(),addonBorderImageSliceRight:Pc().optional()}).passthrough(),uh=Lc({multiChoiceCounterPosition:Pc().optional(),multiChoiceCounterSize:Pc().optional(),multiChoiceTextSize:Pc().optional()}).passthrough(),ph=Lc({barTextPadding:Pc().optional(),barTextMargin:Pc().optional(),barPadding:Pc().optional(),barMargin:Pc().optional(),barTextSize:Pc().optional()}).passthrough(),hh=Lc({backPackWidth:Pc().optional()}).passthrough(),fh=Nc(e=>""===e?{}:e,nh.merge(oh).merge(rh).merge(ah).merge(sh).merge(lh).merge(ch).merge(dh).merge(uh).merge(ph).merge(hh).passthrough()),mh=Lc({template:Pc().optional()}).passthrough(),gh=Lc({value:Pc().optional(),minValue:Pc().optional(),maxValue:Pc().optional(),discountScore:Pc().optional(),discountScoreCal:Pc().optional(),tmpDisScore:Pc().optional()}).passthrough(),vh=Lc({index:Pc().optional(),template:Pc().optional(),multipleUseVariable:Pc().optional(),initMultipleTimesMinus:Pc().optional(),selectedThisManyTimesProp:Pc().optional(),addons:Fc(mh).optional(),scores:Fc(gh).optional(),styling:fh.optional(),numMultipleTimesMinus:Pc().optional(),numMultipleTimesPluss:Pc().optional(),numActivateRandom:Pc().optional(),discountLowLimit:Pc().optional(),discountValue:Pc().optional(),numbAddToAllowChoice:Pc().optional(),bgmFadeInSec:Pc().optional(),bgmFadeOutSec:Pc().optional(),fadeTransitionTime:Pc().optional(),divideWithThis:Pc().optional(),activatedFrom:Pc().optional()}).passthrough(),bh=Lc({index:Pc().optional(),template:Pc().optional(),buttonRandomNumber:Pc().optional(),defaultAspectWidth:Pc().optional(),defaultAspectHeight:Pc().optional(),allowedChoices:Pc().optional(),currentChoices:Pc().optional(),objects:Fc(vh).optional(),styling:fh.optional(),objectImgObjectFillHeight:Pc().optional(),randomMin:Pc().optional(),randomMax:Pc().optional()}).passthrough(),yh=Lc({startingSum:Pc().optional(),initValue:Pc().optional(),iconWidth:Pc().optional(),iconHeight:Pc().optional(),negativeIconWidth:Pc().optional(),negativeIconHeight:Pc().optional()}).passthrough(),Th=Lc({styling:fh.optional()}).passthrough(),wh=Lc({styling:fh.optional()}).passthrough(),Ih=Lc({curVolume:Pc().optional(),fadeTransitionTime:Pc().optional(),hideBackpackBtn:Pc().optional(),btnBackpackIsOn:Pc().optional(),rowIdLength:Pc().optional(),objectIdLength:Pc().optional(),rowDesignGroups:Fc(Th).optional(),objectDesignGroups:Fc(wh).optional(),rows:Fc(bh).optional(),pointTypes:Fc(yh).optional(),backpack:Fc(bh).optional(),styling:fh.optional()}).passthrough(),Sh=["autoSaveInterval","bgmFadeInterval","bgmFadeTimer","bgmIsPlaying","bgmObjectId","bgmPlayInterval","bgmTitle","bgmTitleInterval","cancelForcedActivated","comp","compG","compODG","compR","compRDG","curBgmTime","curBgmLength","isSeeking","isFadingOut","lastFadeTime","objectMap","pointTypeMap","wordMap"];function Ch(e){if(Array.isArray(e))return e.map(Ch).filter(e=>null!==e&&!("object"==typeof e&&0===Object.keys(e).length));if(e&&"object"==typeof e){const t={},i=Object.keys(e);for(let n=0;n<i.length;n++){const o=i[n],r=Ch(e[o]);null!==r&&(t[o]=r)}return Object.keys(t).length>0?t:null}return e}function xh(e){e.isPrivateStyling&&e.privateFilterIsOn&&void 0!==e.styling&&(void 0===e.styling.unselFilterBlurIsOn&&(e.styling.unselFilterBlurIsOn=!1),void 0===e.styling.unselFilterBlur&&(e.styling.unselFilterBlur=0),void 0===e.styling.unselFilterBrightIsOn&&(e.styling.unselFilterBrightIsOn=!1),void 0===e.styling.unselFilterBright&&(e.styling.unselFilterBright=100),void 0===e.styling.unselFilterCont&&(e.styling.unselFilterCont=100),void 0===e.styling.unselFilterGrayIsOn&&(e.styling.unselFilterGrayIsOn=!1),void 0===e.styling.unselFilterGray&&(e.styling.unselFilterGray=0),void 0===e.styling.unselFilterHueIsOn&&(e.styling.unselFilterHueIsOn=!1),void 0===e.styling.unselFilterHue&&(e.styling.unselFilterHue=0),void 0===e.styling.unselFilterInvertIsOn&&(e.styling.unselFilterInvertIsOn=!1),void 0===e.styling.unselFilterInvert&&(e.styling.unselFilterInvert=0),void 0===e.styling.unselFilterOpacIsOn&&(e.styling.unselFilterOpacIsOn=!1),void 0===e.styling.unselFilterOpac&&(e.styling.unselFilterOpac=100),void 0===e.styling.unselFilterSaturIsOn&&(e.styling.unselFilterSaturIsOn=!1),void 0===e.styling.unselFilterSatur&&(e.styling.unselFilterSatur=0),void 0===e.styling.unselFilterSepiaIsOn&&(e.styling.unselFilterSepiaIsOn=!1),void 0===e.styling.unselFilterSepia&&(e.styling.unselFilterSepia=0))}function Ah(e,t){if(e.isPrivateStyling&&void 0===e.privateFilterIsOn&&void 0!==e.styling){const t=Object.keys(ou);for(let i=0;i<t.length;i++){const n=t[i];if(e.styling.hasOwnProperty(n)){e.privateFilterIsOn=!0;break}e.privateFilterIsOn=!1}}if(e.isPrivateStyling&&void 0===e.privateTextIsOn&&void 0!==e.styling){const t=Object.keys(ru);for(let i=0;i<t.length;i++){const n=t[i];if(e.styling.hasOwnProperty(n)){e.privateTextIsOn=!0;break}e.privateTextIsOn=!1}}if(e.isPrivateStyling&&void 0===e.privateObjectImageIsOn&&void 0!==e.styling){const t=Object.keys(au);for(let i=0;i<t.length;i++){const n=t[i];if(e.styling.hasOwnProperty(n)){e.privateObjectImageIsOn=!0;break}e.privateObjectImageIsOn=!1}}if(e.isPrivateStyling&&void 0===e.privateObjectIsOn&&void 0!==e.styling){const t=Object.keys(du);for(let i=0;i<t.length;i++){const n=t[i];if(e.styling.hasOwnProperty(n)){e.privateObjectIsOn=!0;break}e.privateObjectIsOn=!1}}if(e.isPrivateStyling&&void 0===e.privateAddonImageIsOn&&void 0!==e.styling){const t=Object.keys(lu);for(let i=0;i<t.length;i++){const n=t[i];if(e.styling.hasOwnProperty(n)){e.privateAddonImageIsOn=!0;break}e.privateAddonImageIsOn=!1}}if(e.isPrivateStyling&&void 0===e.privateAddonIsOn&&void 0!==e.styling){const t=Object.keys(pu);for(let i=0;i<t.length;i++){const n=t[i];if(e.styling.hasOwnProperty(n)){e.privateAddonIsOn=!0;break}e.privateAddonIsOn=!1}}if(e.isPrivateStyling&&void 0===e.privateBackgroundIsOn&&void 0!==e.styling){const t=Object.keys(cu);for(let i=0;i<t.length;i++){const n=t[i];if(e.styling.hasOwnProperty(n)){e.privateBackgroundIsOn=!0;break}e.privateBackgroundIsOn=!1}}if(t){if(e.isPrivateStyling&&void 0===e.privateRowImageIsOn&&void 0!==e.styling){const t=Object.keys(su);for(let i=0;i<t.length;i++){const n=t[i];if(e.styling.hasOwnProperty(n)){e.privateRowImageIsOn=!0;break}e.privateRowImageIsOn=!1}}if(e.isPrivateStyling&&void 0===e.privateRowIsOn&&void 0!==e.styling){const t=Object.keys(uu);for(let i=0;i<t.length;i++){const n=t[i];if(e.styling.hasOwnProperty(n)){e.privateRowIsOn=!0;break}e.privateRowIsOn=!1}}}xh(e),e.isPrivateStyling||void 0===e.styling||(void 0!==e.styling.objectImgObjectFillHeight&&(e.objectImgObjectFillHeight=e.styling.objectImgObjectFillHeight),delete e.styling)}function Oh(e){const t=Object.keys(e);for(let o=0;o<t.length;o++){const i=t[o];if(-1!==Sh.indexOf(i))delete e[i];else if(Array.isArray(e[i])){if("rows"===i||"backpack"===i)for(let t=0;t<e[i].length;t++){const n=e[i][t];if(n.index=t,"backpack"===i&&(n.isBackpack=!0),Ah(n,!0),void 0!==n.styling&&Ep(n.styling,void 0===e.version||"2.0.0-beta"===e.version),void 0!==n.rowDesignGroups)for(let e=0;e<n.rowDesignGroups.length;e++)"object"==typeof n.rowDesignGroups[e]&&(n.rowDesignGroups[e]=n.rowDesignGroups[e].id);if("string"==typeof n.width&&(n.width=!1),"boolean"==typeof n.defaultWidth&&delete n.defaultWidth,n.image,th(n.image)?Hu.value||(Hu.value=ih(n.image)):Uu.add(n.image),void 0!==n.objects)for(let t=0;t<n.objects.length;t++){const i=n.objects[t];if(i.index=t,Ah(i,!1),void 0!==i.styling&&Ep(i.styling,void 0===e.version||"2.0.0-beta"===e.version),i.multiplyPointtypeIsOn&&("string"==typeof i.pointTypeToMultiply&&(i.pointTypeToMultiply=[i.pointTypeToMultiply]),"number"==typeof i.startingSumAtMultiply&&(i.startingSumAtMultiply=[i.startingSumAtMultiply])),i.dividePointtypeIsOn&&("string"==typeof i.pointTypeToDivide&&(i.pointTypeToDivide=[i.pointTypeToDivide]),"number"==typeof i.startingSumAtDivide&&(i.startingSumAtDivide=[i.startingSumAtDivide])),i.fadeTransitionIsOn&&void 0!==i.fadeTransitionTime&&(i.fadeInTransitionTime=i.fadeTransitionTime,i.fadeOutTransitionTime=i.fadeTransitionTime,delete i.fadeTransitionTime),i.addToAllowChoice&&"string"==typeof i.idOfAllowChoice&&(i.idOfAllowChoice=[i.idOfAllowChoice]),void 0!==i.groups)for(let e=0;e<i.groups.length;e++)"object"==typeof i.groups[e]&&(i.groups[e]=i.groups[e].id);if(void 0!==i.objectDesignGroups)for(let e=0;e<i.objectDesignGroups.length;e++)"object"==typeof i.objectDesignGroups[e]&&(i.objectDesignGroups[e]=i.objectDesignGroups[e].id);i.isSelectableMultiple&&void 0!==i.numMultipleTimesMinus&&void 0===i.initMultipleTimesMinus&&(i.initMultipleTimesMinus=i.forcedActivated?0:i.numMultipleTimesMinus),"string"==typeof i.width&&delete i.width,"boolean"==typeof i.defaultWidth&&delete i.defaultWidth,i.image,th(i.image)?Hu.value||(Hu.value=ih(i.image)):Uu.add(i.image);for(let e=0;e<i.addons.length;e++){const t=i.addons[e];void 0!==t.template&&0!==t.template||(t.template=1),t.parentId=i.id,t.image,th(t.image)?Hu.value||(Hu.value=ih(t.image)):Uu.add(t.image)}}}else if("objectDesignGroups"===i||"rowDesignGroups"===i)for(let t=0;t<e[i].length;t++){const n=e[i][t];void 0===n.activatedId&&(n.activatedId=""),void 0===n.elements&&(n.elements=[]),void 0===n.backpackElements&&(n.backpackElements=[]);for(let e=0;e<n.elements.length;e++)"object"==typeof n.elements[e]&&(n.elements[e]=n.elements[e].id);for(let e=0;e<n.backpackElements.length;e++)"object"==typeof n.backpackElements[e]&&(n.backpackElements[e]=n.backpackElements[e].id);xh(n),Ep(n.styling,void 0===e.version||"2.0.0-beta"===e.version)}else if("pointTypes"===i)for(let t=0;t<e[i].length;t++){const n=e[i][t];void 0===n.initValue&&(n.initValue=n.startingSum),"object"==typeof n.positiveColor&&void 0!==n.positiveColor.hexa&&(n.positiveColor=n.positiveColor.hexa),"object"==typeof n.negativeColor&&void 0!==n.negativeColor.hexa&&(n.negativeColor=n.negativeColor.hexa),"object"==typeof n.privateColor&&void 0!==n.privateColor.hexa&&(n.privateColor=n.privateColor.hexa),"object"==typeof n.privateNegativeColor&&void 0!==n.privateNegativeColor.hexa&&(n.privateNegativeColor=n.privateNegativeColor.hexa)}else if("groups"===i)for(let t=0;t<e[i].length;t++){const n=e[i][t];void 0===n.elements&&(n.elements=[]),void 0===n.rowElements&&(n.rowElements=[]);for(let e=0;e<n.elements.length;e++)"object"==typeof n.elements[e]&&(n.elements[e]=n.elements[e].id);for(let e=0;e<n.rowElements.length;e++)"object"==typeof n.rowElements[e]&&(n.rowElements[e]=n.rowElements[e].id)}}else"object"==typeof e[i]&&"styling"===i&&Ep(e[i],void 0===e.version||"2.0.0-beta"===e.version,!0)}vu.clear(),yu.clear(),Tu.clear(),wu.clear(),Iu.clear(),Su.clear(),Cu.clear(),xu.clear(),Au.clear(),Ou.clear(),_u.splice(0);const i=Object.keys(gu);for(let o=0;o<i.length;o++){const e=i[o];gu.hasOwnProperty(e)?app[e]=gu[e]:delete app[e]}const n=Object.keys(e);for(let o=0;o<n.length;o++){const t=n[o];app[t]=e[t]}for(let o=0;o<app.googleFonts.length;o++){const e=app.googleFonts[o].replace(/ /g,"+"),t=`https://fonts.googleapis.com/css2?family=${e}&display=swap`,i=document.createElement("link");i.id=e,i.rel="stylesheet",i.href=t,i.crossOrigin="anonymous",document.head.appendChild(i)}for(let o=0;o<app.customFonts.length;o++){const e=app.customFonts[o],t=document.createElement("link");t.id=e,t.rel="stylesheet",t.href=e,t.crossOrigin="anonymous",document.head.appendChild(t)}for(let o=0;o<app.pointTypes.length;o++){const e=app.pointTypes[o];void 0!==e.id&&""!==e.id||(e.id=lp(0,4)),e.id=vp(e.id,yu),void 0===e.initValue&&(e.initValue=e.startingSum),void 0===e.isNotShownObjects&&""!==e.activatedId&&(e.isNotShownObjects=!0),void 0===e.isNotShownPointBar&&""!==e.activatedId&&(e.isNotShownPointBar=!0),yu.set(e.id,e)}for(let o=0;o<app.rows.length;o++){const e=app.rows[o];void 0!==e.id&&""!==e.id||(e.id=np(0,4)),e.id=vp(e.id,Tu),Tu.set(e.id,e);for(let t=0;t<e.objects.length;t++){const i=e.objects[t];void 0!==i.id&&""!==i.id||(i.id=rp(0,4)),i.id=vp(i.id,wu),wu.set(i.id,{choice:i,row:e});for(let e=0;e<i.scores.length;e++){const t=i.scores[e];void 0!==t.idx&&""!==t.idx||(t.idx=dp(0,5)),t.idx=vp(t.idx,Eu),Eu.add(t.idx)}}}for(let o=0;o<app.backpack.length;o++){const e=app.backpack[o];void 0!==e.id&&""!==e.id||(e.id=np(0,4)),e.id=vp(e.id,Tu),Tu.set(e.id,e);for(let t=0;t<e.objects.length;t++){const i=e.objects[t];void 0!==i.id&&""!==i.id||(i.id=rp(0,4)),i.id=vp(i.id,wu),wu.set(i.id,{choice:i,row:e});for(let e=0;e<i.scores.length;e++){const t=i.scores[e];void 0!==t.idx&&""!==t.idx||(t.idx=dp(0,5)),t.idx=vp(t.idx,Eu),Eu.add(t.idx)}}}for(let o=0;o<app.groups.length;o++){const e=app.groups[o];void 0!==e.id&&""!==e.id||(e.id=sp(0,4)),e.id=vp(e.id,Iu),Iu.set(e.id,app.groups[o]);for(let t=e.elements.length-1;t>=0;t--)wu.has(e.elements[t])||e.elements.splice(t,1);for(let t=e.rowElements.length-1;t>=0;t--)Tu.has(e.rowElements[t])||e.rowElements.splice(t,1)}for(let o=0;o<app.rows.length;o++){const e=app.rows[o];if(void 0!==e.groups)for(let t=e.groups.length-1;t>=0;t--)Iu.has(e.groups[t])||e.groups.splice(t,1);for(let t=0;t<e.objects.length;t++){const i=e.objects[t];if(void 0!==i.groups)for(let e=i.groups.length-1;e>=0;e--)Iu.has(i.groups[e])||i.groups.splice(e,1)}}for(let o=0;o<app.backpack.length;o++){const e=app.backpack[o];if(void 0!==e.groups)for(let t=e.groups.length-1;t>=0;t--)Iu.has(e.groups[t])||e.groups.splice(t,1);for(let t=0;t<e.objects.length;t++){const i=e.objects[t];if(void 0!==i.groups)for(let e=i.groups.length-1;e>=0;e--)Iu.has(i.groups[e])||i.groups.splice(e,1)}}for(let o=0;o<app.words.length;o++){const e=app.words[o];void 0!==e.id&&""!==e.id||(e.id=op(0,4)),e.id=vp(e.id,Cu),Cu.set(e.id,app.words[o])}for(let o=0;o<app.variables.length;o++){const e=app.variables[o];void 0!==e.id&&""!==e.id||(e.id=cp(0,4)),e.id=vp(e.id,xu),xu.set(e.id,app.variables[o])}if(void 0!==app.rowDesignGroups)for(let o=0;o<app.rowDesignGroups.length;o++){const e=app.rowDesignGroups[o];void 0!==e.id&&""!==e.id||(e.id=ap(0,4)),e.id=vp(e.id,Au);for(let t=e.elements.length-1;t>=0;t--)Tu.has(e.elements[t])||e.elements.splice(t,1);for(let t=e.backpackElements.length-1;t>=0;t--)Tu.has(e.backpackElements[t])||e.backpackElements.splice(t,1);Au.set(e.id,e)}if(void 0!==app.objectDesignGroups)for(let o=0;o<app.objectDesignGroups.length;o++){const e=app.objectDesignGroups[o];void 0!==e.id&&""!==e.id||(e.id=ap(0,4)),e.id=vp(e.id,Ou);for(let t=e.elements.length-1;t>=0;t--)wu.has(e.elements[t])||e.elements.splice(t,1);for(let t=e.backpackElements.length-1;t>=0;t--)wu.has(e.backpackElements[t])||e.backpackElements.splice(t,1);Ou.set(app.objectDesignGroups[o].id,app.objectDesignGroups[o])}if(void 0!==app.globalRequirements)for(let o=0;o<app.globalRequirements.length;o++){const e=app.globalRequirements[o];Su.set(e.id,e)}app.activated.length>0&&Jp(app.activated.join(",")),void 0!==app.customCSS&&function(e){let t=document.getElementById("customCSS");t?""===e?(t.remove(),delete app.customCSS):(t.textContent=e,app.customCSS=e):(t=document.createElement("style"),t.id="customCSS",t.textContent=e,app.customCSS=e,document.head.appendChild(t))}(app.customCSS),app.buildAutoSaveIsOn&&(Ku&&Ku.abort(),Yu()),"boolean"!=typeof app.isMute&&(app.curVolume=100,app.isMute=!1)}async function Eh(e){const t=e.querySelectorAll("img"),i=Array.from(t).map(e=>e.complete?Promise.resolve():new Promise(t=>{e.onload=t,e.onerror=t}));return Promise.all(i).then(()=>{})}function _h(e){e.querySelectorAll("img").forEach(e=>{"lazy"===e.loading&&(e.loading="eager")})}async function kh(e){const t=e.querySelectorAll("*"),i=[];t.forEach(e=>{const t=getComputedStyle(e).borderImageSource.match(/url\(["']?(.*?)["']?\)/);t&&t[1]&&i.push(t[1])});const n=i.map(e=>new Promise(t=>{const i=new Image;i.src=e,i.onload=t,i.onerror=t}));await Promise.all(n)}function Rh(e=2){return new Promise(t=>{let i=0;requestAnimationFrame(function n(){if(++i>=e)return t();requestAnimationFrame(n)})})}function Mh(e,t,i){void 0===e.templateStack&&(e.templateStack=[],e.defaultTemplate=void 0!==e.template?e.template:1),e.templateStack.push({id:t,data:i}),e.template=i}function Dh(e,t){if(void 0!==e.templateStack){const i=e.templateStack.findIndex(e=>e.id===t);-1!==i&&e.templateStack.splice(i,1);const n=e.templateStack.length;n>0?e.template=e.templateStack[n-1].data:(e.template=void 0!==e.defaultTemplate?e.defaultTemplate:1,delete e.templateStack)}}function $h(e,t,i){void 0===e.widthStack&&(e.widthStack=[],e.defaultWidth=void 0!==e.objectWidth?e.objectWidth:"col-md-3"),e.widthStack.push({id:t,data:i}),e.objectWidth=i}function Bh(e,t){if(void 0!==e.widthStack){const i=e.widthStack.findIndex(e=>e.id===t);-1!==i&&e.widthStack.splice(i,1);const n=e.widthStack.length;n>0?e.objectWidth=e.widthStack[n-1].data:(e.objectWidth=void 0!==e.defaultWidth?e.defaultWidth:"col-md-3",delete e.widthStack)}}const Fh=CSS.supports("color","#00000080");function Lh(e){if(void 0===e)return"";if(Fh||!/^#([\da-f]{8})$/i.test(e))return e;return`rgba(${parseInt(e.slice(1,3),16)}, ${parseInt(e.slice(3,5),16)}, ${parseInt(e.slice(5,7),16)}, ${(parseInt(e.slice(7,9),16)/255).toFixed(3)})`}const Nh=Fe({anchor:null,text:"",isVisible:!0});let Ph=0;function jh(e,t){let i="string"==typeof t?t:t.text;function n(){let n="string"==typeof t?void 0!==app.tooltipDelay?app.tooltipDelay:1e3:t.delay;0!==Ph&&(clearTimeout(Ph),Ph=0),n>0?Ph=window.setTimeout(()=>{Nh.anchor=e,Nh.text=i,Nh.isVisible=!0},n):(Nh.anchor=e,Nh.text=i,Nh.isVisible=!0)}function o(){0!==Ph&&(clearTimeout(Ph),Ph=0),Nh.isVisible=!1}return e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",o),e.addEventListener("focusin",n),e.addEventListener("focusout",o),{destroy(){Nh.isVisible=!1,Nh.anchor=null,e.removeEventListener("mouseenter",n),e.removeEventListener("mouseleave",o),e.removeEventListener("focusin",n),e.removeEventListener("focusout",o)}}}var Vh=mi('<div class="mdc-tooltip" role="tooltip" style="z-index: 9999;"><div class="mdc-tooltip__surface"><!></div></div>');var Uh=mi("<div><!></div>");const Hh=function(e,t){let i=On(t,"text",3,""),n=On(t,"innerClass",3,"");var o=Uh();Di(Ge(o),()=>t.children??h),Fi(o,(e,t)=>jh?.(e,t),()=>({text:i(),delay:0})),st(()=>Hi(o,1,Pi(n()))),Ti(e,o)};
/**
   * @license
   * Copyright 2018 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */var Wh={FIXED_CLASS:"mdc-top-app-bar--fixed",FIXED_SCROLLED_CLASS:"mdc-top-app-bar--fixed-scrolled",SHORT_CLASS:"mdc-top-app-bar--short",SHORT_COLLAPSED_CLASS:"mdc-top-app-bar--short-collapsed",SHORT_HAS_ACTION_ITEM_CLASS:"mdc-top-app-bar--short-has-action-item"},zh={DEBOUNCE_THROTTLE_RESIZE_TIME_MS:100,MAX_TOP_APP_BAR_HEIGHT:128},qh={ACTION_ITEM_SELECTOR:".mdc-top-app-bar__action-item",NAVIGATION_EVENT:"MDCTopAppBar:nav",NAVIGATION_ICON_SELECTOR:".mdc-top-app-bar__navigation-icon",ROOT_SELECTOR:".mdc-top-app-bar",TITLE_SELECTOR:".mdc-top-app-bar__title"},Gh=function(e){function t(i){return e.call(this,Ln(Ln({},t.defaultAdapter),i))||this}return Fn(t,e),Object.defineProperty(t,"strings",{get:function(){return qh},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return Wh},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return zh},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},getTopAppBarHeight:function(){return 0},notifyNavigationIconClicked:function(){},getViewportScrollY:function(){return 0},getTotalActionItems:function(){return 0}}},enumerable:!1,configurable:!0}),t.prototype.handleTargetScroll=function(){},t.prototype.handleWindowResize=function(){},t.prototype.handleNavigationClick=function(){this.adapter.notifyNavigationIconClicked()},t}(Vn),Xh=function(e){function t(t){var i=e.call(this,t)||this;return i.wasDocked=!0,i.isDockedShowing=!0,i.currentAppBarOffsetTop=0,i.isCurrentlyBeingResized=!1,i.resizeThrottleId=0,i.resizeDebounceId=0,i.lastScrollPosition=i.adapter.getViewportScrollY(),i.topAppBarHeight=i.adapter.getTopAppBarHeight(),i}return Fn(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.adapter.setStyle("top","")},t.prototype.handleTargetScroll=function(){var e=Math.max(this.adapter.getViewportScrollY(),0),t=e-this.lastScrollPosition;this.lastScrollPosition=e,this.isCurrentlyBeingResized||(this.currentAppBarOffsetTop-=t,this.currentAppBarOffsetTop>0?this.currentAppBarOffsetTop=0:Math.abs(this.currentAppBarOffsetTop)>this.topAppBarHeight&&(this.currentAppBarOffsetTop=-this.topAppBarHeight),this.moveTopAppBar())},t.prototype.handleWindowResize=function(){var e=this;this.resizeThrottleId||(this.resizeThrottleId=setTimeout(function(){e.resizeThrottleId=0,e.throttledResizeHandler()},zh.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)),this.isCurrentlyBeingResized=!0,this.resizeDebounceId&&clearTimeout(this.resizeDebounceId),this.resizeDebounceId=setTimeout(function(){e.handleTargetScroll(),e.isCurrentlyBeingResized=!1,e.resizeDebounceId=0},zh.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)},t.prototype.checkForUpdate=function(){var e=-this.topAppBarHeight,t=this.currentAppBarOffsetTop<0,i=this.currentAppBarOffsetTop>e,n=t&&i;if(n)this.wasDocked=!1;else{if(!this.wasDocked)return this.wasDocked=!0,!0;if(this.isDockedShowing!==i)return this.isDockedShowing=i,!0}return n},t.prototype.moveTopAppBar=function(){if(this.checkForUpdate()){var e=this.currentAppBarOffsetTop;Math.abs(e)>=this.topAppBarHeight&&(e=-128),this.adapter.setStyle("top",e+"px")}},t.prototype.throttledResizeHandler=function(){var e=this.adapter.getTopAppBarHeight();this.topAppBarHeight!==e&&(this.wasDocked=!1,this.currentAppBarOffsetTop-=this.topAppBarHeight-e,this.topAppBarHeight=e),this.handleTargetScroll()},t}(Gh),Kh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wasScrolled=!1,t}return Fn(t,e),t.prototype.handleTargetScroll=function(){this.adapter.getViewportScrollY()<=0?this.wasScrolled&&(this.adapter.removeClass(Wh.FIXED_SCROLLED_CLASS),this.wasScrolled=!1):this.wasScrolled||(this.adapter.addClass(Wh.FIXED_SCROLLED_CLASS),this.wasScrolled=!0)},t}(Xh),Zh=function(e){function t(t){var i=e.call(this,t)||this;return i.collapsed=!1,i.isAlwaysCollapsed=!1,i}return Fn(t,e),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this.collapsed},enumerable:!1,configurable:!0}),t.prototype.init=function(){e.prototype.init.call(this),this.adapter.getTotalActionItems()>0&&this.adapter.addClass(Wh.SHORT_HAS_ACTION_ITEM_CLASS),this.setAlwaysCollapsed(this.adapter.hasClass(Wh.SHORT_COLLAPSED_CLASS))},t.prototype.setAlwaysCollapsed=function(e){this.isAlwaysCollapsed=!!e,this.isAlwaysCollapsed?this.collapse():this.maybeCollapseBar()},t.prototype.getAlwaysCollapsed=function(){return this.isAlwaysCollapsed},t.prototype.handleTargetScroll=function(){this.maybeCollapseBar()},t.prototype.maybeCollapseBar=function(){this.isAlwaysCollapsed||(this.adapter.getViewportScrollY()<=0?this.collapsed&&this.uncollapse():this.collapsed||this.collapse())},t.prototype.uncollapse=function(){this.adapter.removeClass(Wh.SHORT_COLLAPSED_CLASS),this.collapsed=!1},t.prototype.collapse=function(){this.adapter.addClass(Wh.SHORT_COLLAPSED_CLASS),this.collapsed=!0},t}(Gh),Yh=mi("<header><!></header>");function Qh(e,t){q(t,!0);let i=()=>{};function n(e){return e===i}let o=On(t,"use",19,()=>[]),r=On(t,"class",3,""),a=On(t,"style",3,""),s=On(t,"variant",3,"standard"),l=On(t,"color",3,"primary"),c=On(t,"collapsed",15,i),d=On(t,"prominent",3,!1),u=On(t,"dense",3,!1),p=Cn(t,["$$slots","$$events","$$legacy","use","class","style","variant","color","collapsed","prominent","dense","scrollTarget","children"]);const f=!n(c())&&!!c();let m;n(c())&&c(!1);let g,v=ke(void 0),b=new No,y=ke(Fe({})),T=ke(Fe({})),w=ke(void 0),I=mn({variant:s(),prominent:d(),dense:u()},e=>{Me(w,e,!0)});nt(()=>{Gt(w)&&Gt(w)({variant:s(),prominent:d(),dense:u()})}),nt(()=>{Gt(v)&&"short"===s()&&"setAlwaysCollapsed"in Gt(v)&&Gt(v).setAlwaysCollapsed(f)}),nt(()=>{g!==t.scrollTarget&&(g&&b.off(g,"scroll",_),t.scrollTarget&&b.on(t.scrollTarget,"scroll",_),g=t.scrollTarget)});let S=s();function C(){return new({static:Gh,short:Zh,fixed:Kh,standard:Xh}[s()]||Xh)({hasClass:x,addClass:A,removeClass:O,setStyle:E,getTopAppBarHeight:()=>k().clientHeight,notifyNavigationIconClicked:()=>Bo(k(),"SMUITopAppBarNav"),getViewportScrollY:()=>null==t.scrollTarget?window.pageYOffset:t.scrollTarget.scrollTop,getTotalActionItems:()=>k().querySelectorAll(".mdc-top-app-bar__action-item").length})}function x(e){return e in Gt(y)?Gt(y)[e]:k().classList.contains(e)}function A(e){Gt(y)[e]||(Gt(y)[e]=!0)}function O(e){e in Gt(y)&&!Gt(y)[e]||(Gt(y)[e]=!1)}function E(e,t){Gt(T)[e]!=t&&(""===t||null==t?delete Gt(T)[e]:Gt(T)[e]=t)}function _(){Gt(v)&&(Gt(v).handleTargetScroll(),"short"===s()&&c("isCollapsed"in Gt(v)&&Gt(v).isCollapsed))}function k(){return m}nt(()=>{S!==s()&&Gt(v)&&(S=s(),Gt(v).destroy(),Me(y,{},!0),Me(T,{},!0),Me(v,C(),!0),Gt(v).init())}),En(()=>(Me(v,C(),!0),Gt(v).init(),()=>{Gt(v)?.destroy(),b.clear()}));var R={getPropStore:function(){return I},getElement:k},M=Yh();ci("resize",Pe,()=>"short"!==s()&&"fixed"!==s()&&Gt(v)&&Gt(v).handleWindowResize()),ci("scroll",Pe,()=>null==t.scrollTarget&&_());var D=e=>{Gt(v)&&Gt(v).handleNavigationClick(),t.onSMUITopAppBarIconButtonNav?.(e)};return en(M,(e,t)=>({class:e,style:t,...p,onSMUITopAppBarIconButtonNav:D}),[()=>$o({"mdc-top-app-bar":!0,"mdc-top-app-bar--short":"short"===s(),"mdc-top-app-bar--short-collapsed":c(),"mdc-top-app-bar--fixed":"fixed"===s(),"smui-top-app-bar--static":"static"===s(),"smui-top-app-bar--color-secondary":"secondary"===l(),"mdc-top-app-bar--prominent":d(),"mdc-top-app-bar--dense":u(),...Gt(y),[r()]:!0}),()=>Object.entries(Gt(T)).map(([e,t])=>`${e}: ${t};`).concat([a()]).join(" ")]),Di(Ge(M),()=>t.children??h),pn(M,e=>m=e,()=>m),Fi(M,(e,t)=>Po?.(e,t),o),Ti(e,M),G(R)}function Jh(e,t){q(t,!0);let i,n=Cn(t,["$$slots","$$events","$$legacy","children"]);var o={getElement:function(){return i.getElement()}};return pn(Yo(e,An({_smuiClass:"mdc-top-app-bar__row",tag:"div"},()=>n,{children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}})),e=>i=e,()=>i),G(o)}var ef=mi("<section><!></section>");function tf(e,t){q(t,!0);let i,n=On(t,"use",19,()=>[]),o=On(t,"class",3,""),r=On(t,"align",3,"start"),a=On(t,"toolbar",3,!1),s=Cn(t,["$$slots","$$events","$$legacy","use","class","align","toolbar","children"]);z("SMUI:icon-button:context",a()?"top-app-bar:action":"top-app-bar:navigation"),z("SMUI:button:context",a()?"top-app-bar:action":"top-app-bar:navigation");var l={getElement:function(){return i}},c=ef();return en(c,e=>({class:e,...a()?{role:"toolbar"}:{},...s}),[()=>$o({"mdc-top-app-bar__section":!0,"mdc-top-app-bar__section--align-start":"start"===r(),"mdc-top-app-bar__section--align-end":"end"===r(),[o()]:!0})]),Di(Ge(c),()=>t.children??h),pn(c,e=>i=e,()=>i),Fi(c,(e,t)=>Po?.(e,t),n),Ti(e,c),G(l)}
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
var nf,of={CLOSING:"mdc-dialog--closing",OPEN:"mdc-dialog--open",OPENING:"mdc-dialog--opening",SCROLLABLE:"mdc-dialog--scrollable",SCROLL_LOCK:"mdc-dialog-scroll-lock",STACKED:"mdc-dialog--stacked",FULLSCREEN:"mdc-dialog--fullscreen",SCROLL_DIVIDER_HEADER:"mdc-dialog-scroll-divider-header",SCROLL_DIVIDER_FOOTER:"mdc-dialog-scroll-divider-footer",SURFACE_SCRIM_SHOWN:"mdc-dialog__surface-scrim--shown",SURFACE_SCRIM_SHOWING:"mdc-dialog__surface-scrim--showing",SURFACE_SCRIM_HIDING:"mdc-dialog__surface-scrim--hiding",SCRIM_HIDDEN:"mdc-dialog__scrim--hidden"},rf={ACTION_ATTRIBUTE:"data-mdc-dialog-action",BUTTON_DEFAULT_ATTRIBUTE:"data-mdc-dialog-button-default",BUTTON_SELECTOR:".mdc-dialog__button",CLOSED_EVENT:"MDCDialog:closed",CLOSE_ACTION:"close",CLOSING_EVENT:"MDCDialog:closing",CONTAINER_SELECTOR:".mdc-dialog__container",CONTENT_SELECTOR:".mdc-dialog__content",DESTROY_ACTION:"destroy",INITIAL_FOCUS_ATTRIBUTE:"data-mdc-dialog-initial-focus",OPENED_EVENT:"MDCDialog:opened",OPENING_EVENT:"MDCDialog:opening",SCRIM_SELECTOR:".mdc-dialog__scrim",SUPPRESS_DEFAULT_PRESS_SELECTOR:["textarea",".mdc-menu .mdc-list-item",".mdc-menu .mdc-deprecated-list-item"].join(", "),SURFACE_SELECTOR:".mdc-dialog__surface"},af={DIALOG_ANIMATION_CLOSE_TIME_MS:75,DIALOG_ANIMATION_OPEN_TIME_MS:150};!function(e){e.POLL_SCROLL_POS="poll_scroll_position",e.POLL_LAYOUT_CHANGE="poll_layout_change"}(nf||(nf={}));var sf=function(e){function t(i){var n=e.call(this,Ln(Ln({},t.defaultAdapter),i))||this;return n.dialogOpen=!1,n.isFullscreen=!1,n.animationFrame=0,n.animationTimer=0,n.escapeKeyAction=rf.CLOSE_ACTION,n.scrimClickAction=rf.CLOSE_ACTION,n.autoStackButtons=!0,n.areButtonsStacked=!1,n.suppressDefaultPressSelector=rf.SUPPRESS_DEFAULT_PRESS_SELECTOR,n.animFrame=new Ta,n.contentScrollHandler=function(){n.handleScrollEvent()},n.windowResizeHandler=function(){n.layout()},n.windowOrientationChangeHandler=function(){n.layout()},n}return Fn(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return of},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return rf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return af},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addBodyClass:function(){},addClass:function(){},areButtonsStacked:function(){return!1},clickDefaultButton:function(){},eventTargetMatches:function(){return!1},getActionFromEvent:function(){return""},getInitialFocusEl:function(){return null},hasClass:function(){return!1},isContentScrollable:function(){return!1},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},releaseFocus:function(){},removeBodyClass:function(){},removeClass:function(){},reverseButtons:function(){},trapFocus:function(){},registerContentEventHandler:function(){},deregisterContentEventHandler:function(){},isScrollableContentAtTop:function(){return!1},isScrollableContentAtBottom:function(){return!1},registerWindowEventHandler:function(){},deregisterWindowEventHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.hasClass(of.STACKED)&&this.setAutoStackButtons(!1),this.isFullscreen=this.adapter.hasClass(of.FULLSCREEN)},t.prototype.destroy=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.handleAnimationTimerEnd()),this.isFullscreen&&this.adapter.deregisterContentEventHandler("scroll",this.contentScrollHandler),this.animFrame.cancelAll(),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler),this.adapter.deregisterWindowEventHandler("orientationchange",this.windowOrientationChangeHandler)},t.prototype.open=function(e){var t=this;this.dialogOpen=!0,this.adapter.notifyOpening(),this.adapter.addClass(of.OPENING),this.isFullscreen&&this.adapter.registerContentEventHandler("scroll",this.contentScrollHandler),e&&e.isAboveFullscreenDialog&&this.adapter.addClass(of.SCRIM_HIDDEN),this.adapter.registerWindowEventHandler("resize",this.windowResizeHandler),this.adapter.registerWindowEventHandler("orientationchange",this.windowOrientationChangeHandler),this.runNextAnimationFrame(function(){t.adapter.addClass(of.OPEN),t.adapter.addBodyClass(of.SCROLL_LOCK),t.layout(),t.animationTimer=setTimeout(function(){t.handleAnimationTimerEnd(),t.adapter.trapFocus(t.adapter.getInitialFocusEl()),t.adapter.notifyOpened()},af.DIALOG_ANIMATION_OPEN_TIME_MS)})},t.prototype.close=function(e){var t=this;void 0===e&&(e=""),this.dialogOpen&&(this.dialogOpen=!1,this.adapter.notifyClosing(e),this.adapter.addClass(of.CLOSING),this.adapter.removeClass(of.OPEN),this.adapter.removeBodyClass(of.SCROLL_LOCK),this.isFullscreen&&this.adapter.deregisterContentEventHandler("scroll",this.contentScrollHandler),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler),this.adapter.deregisterWindowEventHandler("orientationchange",this.windowOrientationChangeHandler),cancelAnimationFrame(this.animationFrame),this.animationFrame=0,clearTimeout(this.animationTimer),this.animationTimer=setTimeout(function(){t.adapter.releaseFocus(),t.handleAnimationTimerEnd(),t.adapter.notifyClosed(e)},af.DIALOG_ANIMATION_CLOSE_TIME_MS))},t.prototype.showSurfaceScrim=function(){var e=this;this.adapter.addClass(of.SURFACE_SCRIM_SHOWING),this.runNextAnimationFrame(function(){e.adapter.addClass(of.SURFACE_SCRIM_SHOWN)})},t.prototype.hideSurfaceScrim=function(){this.adapter.removeClass(of.SURFACE_SCRIM_SHOWN),this.adapter.addClass(of.SURFACE_SCRIM_HIDING)},t.prototype.handleSurfaceScrimTransitionEnd=function(){this.adapter.removeClass(of.SURFACE_SCRIM_HIDING),this.adapter.removeClass(of.SURFACE_SCRIM_SHOWING)},t.prototype.isOpen=function(){return this.dialogOpen},t.prototype.getEscapeKeyAction=function(){return this.escapeKeyAction},t.prototype.setEscapeKeyAction=function(e){this.escapeKeyAction=e},t.prototype.getScrimClickAction=function(){return this.scrimClickAction},t.prototype.setScrimClickAction=function(e){this.scrimClickAction=e},t.prototype.getAutoStackButtons=function(){return this.autoStackButtons},t.prototype.setAutoStackButtons=function(e){this.autoStackButtons=e},t.prototype.getSuppressDefaultPressSelector=function(){return this.suppressDefaultPressSelector},t.prototype.setSuppressDefaultPressSelector=function(e){this.suppressDefaultPressSelector=e},t.prototype.layout=function(){var e=this;this.animFrame.request(nf.POLL_LAYOUT_CHANGE,function(){e.layoutInternal()})},t.prototype.handleClick=function(e){if(this.adapter.eventTargetMatches(e.target,rf.SCRIM_SELECTOR)&&""!==this.scrimClickAction)this.close(this.scrimClickAction);else{var t=this.adapter.getActionFromEvent(e);t&&this.close(t)}},t.prototype.handleKeydown=function(e){var t="Enter"===e.key||13===e.keyCode;if(t&&!this.adapter.getActionFromEvent(e)){var i=e.composedPath?e.composedPath()[0]:e.target,n=!this.suppressDefaultPressSelector||!this.adapter.eventTargetMatches(i,this.suppressDefaultPressSelector);t&&n&&this.adapter.clickDefaultButton()}},t.prototype.handleDocumentKeydown=function(e){("Escape"===e.key||27===e.keyCode)&&""!==this.escapeKeyAction&&this.close(this.escapeKeyAction)},t.prototype.handleScrollEvent=function(){var e=this;this.animFrame.request(nf.POLL_SCROLL_POS,function(){e.toggleScrollDividerHeader(),e.toggleScrollDividerFooter()})},t.prototype.layoutInternal=function(){this.autoStackButtons&&this.detectStackedButtons(),this.toggleScrollableClasses()},t.prototype.handleAnimationTimerEnd=function(){this.animationTimer=0,this.adapter.removeClass(of.OPENING),this.adapter.removeClass(of.CLOSING)},t.prototype.runNextAnimationFrame=function(e){var t=this;cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame(function(){t.animationFrame=0,clearTimeout(t.animationTimer),t.animationTimer=setTimeout(e,0)})},t.prototype.detectStackedButtons=function(){this.adapter.removeClass(of.STACKED);var e=this.adapter.areButtonsStacked();e&&this.adapter.addClass(of.STACKED),e!==this.areButtonsStacked&&(this.adapter.reverseButtons(),this.areButtonsStacked=e)},t.prototype.toggleScrollableClasses=function(){this.adapter.removeClass(of.SCROLLABLE),this.adapter.isContentScrollable()&&(this.adapter.addClass(of.SCROLLABLE),this.isFullscreen&&(this.toggleScrollDividerHeader(),this.toggleScrollDividerFooter()))},t.prototype.toggleScrollDividerHeader=function(){this.adapter.isScrollableContentAtTop()?this.adapter.hasClass(of.SCROLL_DIVIDER_HEADER)&&this.adapter.removeClass(of.SCROLL_DIVIDER_HEADER):this.adapter.addClass(of.SCROLL_DIVIDER_HEADER)},t.prototype.toggleScrollDividerFooter=function(){this.adapter.isScrollableContentAtBottom()?this.adapter.hasClass(of.SCROLL_DIVIDER_FOOTER)&&this.adapter.removeClass(of.SCROLL_DIVIDER_FOOTER):this.adapter.addClass(of.SCROLL_DIVIDER_FOOTER)},t}(Vn),lf=mi('<div class="mdc-dialog__surface-scrim"></div>'),cf=mi('<div><div><div><!> <!></div></div> <div class="mdc-dialog__scrim"></div></div> <!>',1);function df(e,t){q(t,!0);const i=()=>Tn(k,"$aboveFullscreenShown",n),[n,o]=In(),{FocusTrap:r}=Jn,{closest:a,matches:s}=Hn;let l,c,d,u=On(t,"use",19,()=>[]),p=On(t,"class",3,""),f=On(t,"open",15,!1),m=On(t,"selection",3,!1),g=On(t,"escapeKeyAction",3,"close"),v=On(t,"scrimClickAction",3,"close"),b=On(t,"autoStackButtons",3,!0),y=On(t,"fullscreen",3,!1),T=On(t,"sheet",3,!1),w=On(t,"noContentPadding",3,!1),I=On(t,"container$class",3,""),S=On(t,"surface$class",3,""),C=Cn(t,["$$slots","$$events","$$legacy","use","class","open","selection","escapeKeyAction","scrimClickAction","autoStackButtons","fullscreen","sheet","noContentPadding","container$class","surface$class","children","over"]),x=ke(void 0),A=new No,O=Fe({}),E=gn(!1),_=W("SMUI:dialog:aboveFullscreen"),k=W("SMUI:dialog:aboveFullscreenShown")??gn(!1),R=W("SMUI:addLayoutListener"),M=[];z("SMUI:dialog:actions:reversed",E),z("SMUI:addLayoutListener",e=>(M.push(e),()=>{const t=M.indexOf(e);t>=0&&M.splice(t,1)})),z("SMUI:dialog:selection",m()),z("SMUI:dialog:aboveFullscreen",_||y()),z("SMUI:dialog:aboveFullscreenShown",k),T()&&z("SMUI:icon-button:context","dialog:sheet"),nt(()=>{Gt(x)&&Gt(x).getEscapeKeyAction()!==g()&&Gt(x).setEscapeKeyAction(g())}),nt(()=>{Gt(x)&&Gt(x).getScrimClickAction()!==v()&&Gt(x).setScrimClickAction(v())}),nt(()=>{Gt(x)&&Gt(x).getAutoStackButtons()!==b()&&Gt(x).setAutoStackButtons(b())}),nt(()=>{b()||wn(E,!0)}),R&&(d=R(P)),nt(()=>{Gt(x)&&Gt(x).isOpen()!==f()&&(f()?Gt(x).open({isAboveFullscreenDialog:!!_}):Gt(x).close())});let D=i();function $(e){return e in O?O[e]:j().classList.contains(e)}function B(e){O[e]||(O[e]=!0)}function F(e){e in O&&!O[e]||(O[e]=!1)}function L(){return j().querySelector(".mdc-dialog__content")}function N(){return j().querySelector("[data-mdc-dialog-initial-focus]")}function P(){return Gt(x)?.layout()}function j(){return l}nt(()=>{y()&&Gt(x)&&D!==i()&&(D=i(),i()?Gt(x).showSurfaceScrim():Gt(x).hideSurfaceScrim())}),En(()=>(c=new r(l,{initialFocusEl:N()??void 0}),Me(x,new sf({addBodyClass:e=>document.body.classList.add(e),addClass:B,areButtonsStacked:()=>{return e=[].slice.call(j().querySelectorAll(".mdc-dialog__button")),t=new Set,[].forEach.call(e,function(e){return t.add(e.offsetTop)}),t.size>1;var e,t},clickDefaultButton:()=>{const e=j().querySelector("[data-mdc-dialog-button-default]");e&&e.click()},eventTargetMatches:(e,t)=>!!e&&s(e,t),getActionFromEvent:e=>{if(!e.target)return"";const t=a(e.target,"[data-mdc-dialog-action]");return t&&t.getAttribute("data-mdc-dialog-action")},getInitialFocusEl:N,hasClass:$,isContentScrollable:()=>{return!!(e=L())&&e.scrollHeight>e.offsetHeight;var e},notifyClosed:e=>{f(!1),Bo(j(),"SMUIDialogClosed",e?{action:e}:{})},notifyClosing:e=>Bo(j(),"SMUIDialogClosing",e?{action:e}:{}),notifyOpened:()=>Bo(j(),"SMUIDialogOpened",{}),notifyOpening:()=>Bo(j(),"SMUIDialogOpening",{}),releaseFocus:()=>c.releaseFocus(),removeBodyClass:e=>document.body.classList.remove(e),removeClass:F,reverseButtons:()=>{wn(E,!0)},trapFocus:()=>c.trapFocus(),registerContentEventHandler:(e,t)=>{const i=L();i instanceof HTMLElement&&A.on(i,e,t)},deregisterContentEventHandler:(e,t)=>{const i=L();i instanceof HTMLElement&&A.off(i,e,t)},isScrollableContentAtTop:()=>{return!!(e=L())&&0===e.scrollTop;var e},isScrollableContentAtBottom:()=>{return!!(e=L())&&Math.ceil(e.scrollHeight-e.scrollTop)===e.clientHeight;var e},registerWindowEventHandler:(e,t)=>A.on(window,e,t),deregisterWindowEventHandler:(e,t)=>A.off(window,e,t)}),!0),Gt(x).init(),()=>{Gt(x)?.destroy(),A.clear()})),_n(()=>{d&&d()});var V={isOpen:function(){return f()},setOpen:function(e){f(e)},layout:P,getElement:j},U=cf();ci("resize",Pe,()=>f()&&Gt(x)&&Gt(x).layout()),ci("orientationchange",Pe,()=>f()&&Gt(x)&&Gt(x).layout()),ci("keydown",je.body,e=>Gt(x)&&Gt(x).handleDocumentKeydown(e));var H=Xe(U),X=e=>{_&&wn(k,!0),requestAnimationFrame(()=>{M.forEach(e=>e())}),t.onSMUIDialogOpening?.(e)},K=e=>{M.forEach(e=>e()),t.onSMUIDialogOpened?.(e)},Z=e=>{_&&wn(k,!1),t.onSMUIDialogClosed?.(e)},Y=e=>{Gt(x)&&Gt(x).handleClick(e),t.onclick?.(e)},Q=e=>{Gt(x)&&Gt(x).handleKeydown(e),t.onkeydown?.(e)};en(H,(e,t)=>({class:e,role:"alertdialog","aria-modal":"true",...t,onSMUIDialogOpening:X,onSMUIDialogOpened:K,onSMUIDialogClosed:Z,onclick:Y,onkeydown:Q}),[()=>$o({"mdc-dialog":!0,"mdc-dialog--stacked":!b(),"mdc-dialog--fullscreen":y(),"mdc-dialog--sheet":T(),"mdc-dialog--no-content-padding":w(),"smui-dialog--selection":m(),...O,[p()]:!0}),()=>Fo(C,["container$","surface$"])]);var J=Ge(H);en(J,(e,t)=>({class:e,...t}),[()=>$o({"mdc-dialog__container":!0,[I()]:!0}),()=>Lo(C,"container$")]);var ee=Ge(J);en(ee,(e,t)=>({class:e,role:"alertdialog","aria-modal":"true",...t}),[()=>$o({"mdc-dialog__surface":!0,[S()]:!0}),()=>Lo(C,"surface$")]);var te=Ge(ee);Di(te,()=>t.children??h);var ie=Ke(te,2),ne=e=>{var t=lf();ci("transitionend",t,()=>Gt(x)&&Gt(x).handleSurfaceScrimTransitionEnd()),Ti(e,t)};Ci(ie,e=>{y()&&e(ne)}),pn(H,e=>l=e,()=>l),Fi(H,(e,t)=>Po?.(e,t),u),Di(Ke(H,2),()=>t.over??h),Ti(e,U);var oe=G(V);return o(),oe}function uf(e,t){q(t,!0);let i,n=Cn(t,["$$slots","$$events","$$legacy","children"]);var o={getElement:function(){return i.getElement()}};return pn(Yo(e,An({_smuiClass:"mdc-dialog__title",tag:"h2"},()=>n,{children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}})),e=>i=e,()=>i),G(o)}function pf(e,t){q(t,!0);let i,n=Cn(t,["$$slots","$$events","$$legacy","children"]);var o={getElement:function(){return i.getElement()}};return pn(Yo(e,An({_smuiClass:"mdc-dialog__content",tag:"div"},()=>n,{children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}})),e=>i=e,()=>i),G(o)}function hf(e,t){q(t,!0);let i,n=Cn(t,["$$slots","$$events","$$legacy","children"]);var o={getElement:function(){return i.getElement()}};return pn(Yo(e,An({_smuiClass:"mdc-dialog__actions",_smuiClassMap:{"smui-dialog__actions--reversed":"SMUI:dialog:actions:reversed"},_smuiContexts:{"SMUI:button:context":"dialog:action"},tag:"div"},()=>n,{children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}})),e=>i=e,()=>i),G(o)}
/**
   * @license
   * Copyright 2017 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */var ff={ROOT:"mdc-form-field"},mf={LABEL_SELECTOR:".mdc-form-field > label"},gf=function(e){function t(i){var n=e.call(this,Ln(Ln({},t.defaultAdapter),i))||this;return n.click=function(){n.handleClick()},n}return Fn(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return ff},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return mf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{activateInputRipple:function(){},deactivateInputRipple:function(){},deregisterInteractionHandler:function(){},registerInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerInteractionHandler("click",this.click)},t.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("click",this.click)},t.prototype.handleClick=function(){var e=this;this.adapter.activateInputRipple(),requestAnimationFrame(function(){e.adapter.deactivateInputRipple()})},t}(Vn);let vf=0;var bf,yf,Tf,wf=mi("<div><!> <label><!></label></div>");function If(e,t){q(t,!0);let i,n,o=On(t,"use",19,()=>[]),r=On(t,"class",3,""),a=On(t,"align",3,"start"),s=On(t,"noWrap",3,!1),l=On(t,"inputId",19,()=>"SMUI-form-field-"+vf++),c=On(t,"label$use",19,()=>[]),d=Cn(t,["$$slots","$$events","$$legacy","use","class","align","noWrap","inputId","label$use","children","label"]),u=ke(void 0),p=new No,f=ke(void 0);z("SMUI:generic:input:props",{id:l()}),z("SMUI:generic:input:mount",e=>{Me(f,e,!0)}),z("SMUI:generic:input:unmount",()=>{Me(f,void 0)}),En(()=>(Me(u,new gf({activateInputRipple:()=>{Gt(f)&&Gt(f).activateRipple()},deactivateInputRipple:()=>{Gt(f)&&Gt(f).deactivateRipple()},deregisterInteractionHandler:(e,t)=>p.off(n,e,t),registerInteractionHandler:(e,t)=>p.on(n,e,t)}),!0),Gt(u).init(),()=>{Gt(u)?.destroy(),p.clear()}));var m={getElement:function(){return i}},g=wf();en(g,(e,t)=>({class:e,...t}),[()=>$o({"mdc-form-field":!0,"mdc-form-field--align-end":"end"===a(),"mdc-form-field--nowrap":s(),[r()]:!0}),()=>Fo(d,["label$"])]);var v=Ge(g);Di(v,()=>t.children??h);var b=Ke(v,2);return en(b,e=>({for:l(),...e}),[()=>Lo(d,"label$")]),Di(Ge(b),()=>t.label??h),pn(b,e=>n=e,()=>n),Fi(b,(e,t)=>Po?.(e,t),c),pn(g,e=>i=e,()=>i),Fi(g,(e,t)=>Po?.(e,t),o),Ti(e,g),G(m)}
/**
   * @license
   * Copyright 2021 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
/**
   * @license
   * Copyright 2021 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
function Sf(e,t,i){var n=function(e,t){var i=new Map;Cf.has(e)||Cf.set(e,{isEnabled:!0,getObservers:function(e){var t=i.get(e)||[];return i.has(e)||i.set(e,t),t},installedProperties:new Set});var n=Cf.get(e);if(n.installedProperties.has(t))return n;var o=function(e,t){var i,n=e;for(;n&&!(i=Object.getOwnPropertyDescriptor(n,t));)n=Object.getPrototypeOf(n);return i}(e,t)||{configurable:!0,enumerable:!0,value:e[t],writable:!0},r=Ln({},o),a=o.get,s=o.set;if("value"in o){delete r.value,delete r.writable;var l=o.value;a=function(){return l},o.writable&&(s=function(e){l=e})}a&&(r.get=function(){return a.call(this)});s&&(r.set=function(e){var i,o,r=a?a.call(this):e;if(s.call(this,e),n.isEnabled&&(!a||e!==r))try{for(var l=Nn(n.getObservers(t)),c=l.next();!c.done;c=l.next()){(0,c.value)(e,r)}}catch(d){i={error:d}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}});return n.installedProperties.add(t),Object.defineProperty(e,t,r),n}(e,t),o=n.getObservers(t);return o.push(i),function(){o.splice(o.indexOf(i),1)}}(yf=bf||(bf={})).PROCESSING="mdc-switch--processing",yf.SELECTED="mdc-switch--selected",yf.UNSELECTED="mdc-switch--unselected",(Tf||(Tf={})).RIPPLE=".mdc-switch__ripple";var Cf=new WeakMap;
/**
   * @license
   * Copyright 2021 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
var xf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fn(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.observe(this.adapter.state,{disabled:this.onDisabledChange,processing:this.onProcessingChange,selected:this.onSelectedChange})},t.prototype.initFromDOM=function(){this.setObserversEnabled(this.adapter.state,!1),this.adapter.state.selected=this.adapter.hasClass(bf.SELECTED),this.onSelectedChange(),this.adapter.state.disabled=this.adapter.isDisabled(),this.adapter.state.processing=this.adapter.hasClass(bf.PROCESSING),this.setObserversEnabled(this.adapter.state,!0),this.stopProcessingIfDisabled()},t.prototype.onDisabledChange=function(){this.adapter.setDisabled(this.adapter.state.disabled)},t.prototype.onProcessingChange=function(){this.toggleClass(this.adapter.state.processing,bf.PROCESSING)},t.prototype.onSelectedChange=function(){this.adapter.setAriaChecked(String(this.adapter.state.selected)),this.toggleClass(this.adapter.state.selected,bf.SELECTED),this.toggleClass(!this.adapter.state.selected,bf.UNSELECTED)},t.prototype.toggleClass=function(e,t){e?this.adapter.addClass(t):this.adapter.removeClass(t)},t}(function(e){function t(t){var i=e.call(this,t)||this;return i.handleClick=i.handleClick.bind(i),i}return Fn(t,e),t.prototype.init=function(){this.observe(this.adapter.state,{disabled:this.stopProcessingIfDisabled,processing:this.stopProcessingIfDisabled})},t.prototype.handleClick=function(){this.adapter.state.disabled||(this.adapter.state.selected=!this.adapter.state.selected)},t.prototype.stopProcessingIfDisabled=function(){this.adapter.state.disabled&&(this.adapter.state.processing=!1)},t}(function(e){function t(t){var i=e.call(this,t)||this;return i.unobserves=new Set,i}return Fn(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.unobserve()},t.prototype.observe=function(e,t){var i,n,o=this,r=[];try{for(var a=Nn(Object.keys(t)),s=a.next();!s.done;s=a.next()){var l=s.value,c=t[l].bind(this);r.push(this.observeProperty(e,l,c))}}catch(u){i={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}var d=function(){var e,t;try{for(var i=Nn(r),n=i.next();!n.done;n=i.next()){(0,n.value)()}}catch(a){e={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}o.unobserves.delete(d)};return this.unobserves.add(d),d},t.prototype.observeProperty=function(e,t,i){return Sf(e,t,i)},t.prototype.setObserversEnabled=function(e,t){!function(e,t){var i=Cf.get(e);i&&(i.isEnabled=t)}(e,t)},t.prototype.unobserve=function(){var e,t;try{for(var i=Nn(jn([],Pn(this.unobserves))),n=i.next();!n.done;n=i.next()){(0,n.value)()}}catch(o){e={error:o}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},t}(Vn))),Af=mi('<div><svg class="mdc-switch__icon mdc-switch__icon--on" viewBox="0 0 24 24"><path d="M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"></path></svg> <svg class="mdc-switch__icon mdc-switch__icon--off" viewBox="0 0 24 24"><path d="M20 13H4v-2h16v2z"></path></svg></div>'),Of=mi('<div class="mdc-switch__focus-ring-wrapper"><div class="mdc-switch__focus-ring"></div></div>'),Ef=mi('<button><div class="mdc-switch__track"></div> <div class="mdc-switch__handle-track"><div class="mdc-switch__handle"><div class="mdc-switch__shadow"><div class="mdc-elevation-overlay"></div></div> <div class="mdc-switch__ripple"></div> <!></div></div> <!></button>');
/**
   * @license
   * Copyright 2021 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */function _f(e,t){q(t,!0);let i=()=>{};function n(e){return e===i}let o,r=On(t,"use",19,()=>[]),a=On(t,"class",3,""),s=On(t,"disabled",15,!1),l=On(t,"focusRing",3,!1),c=On(t,"color",3,"primary"),d=On(t,"group",11,i),u=On(t,"checked",15,i),p=On(t,"value",3,null),h=On(t,"processing",7,!1),f=On(t,"icons",3,!0),m=On(t,"icons$use",19,()=>[]),g=On(t,"icons$class",3,""),v=Cn(t,["$$slots","$$events","$$legacy","use","class","disabled","focusRing","color","group","checked","value","processing","icons","icons$use","icons$class"]),b=ke(void 0),y=Fe({}),T=ke(void 0),w=ke(!1),I=Fe(W("SMUI:generic:input:props")??{}),S=ke(Fe(n(d())?!n(u())&&u():-1!==d().findIndex(e=>e===p()))),C={get disabled(){return s()},set disabled(e){s(e)},get processing(){return h()},set processing(e){h(e)},get selected(){return Gt(S)},set selected(e){Me(S,e,!0)}},x=u(),A=n(d())?[]:[...d()],O=Gt(S);nt(()=>{let e=!1;if(!n(d()))if(O!==Gt(S)){const t=d().findIndex(e=>e===p());Gt(S)&&-1===t?d().push(p()):Gt(S)||-1===t||d().splice(t,1),e=!0}else{const e=A.findIndex(e=>e===p()),t=d().findIndex(e=>e===p());e>-1&&-1===t?C.selected=!1:t>-1&&-1===e&&(C.selected=!0)}n(u())?O!==Gt(S)&&(e=!0):u()!==Gt(S)&&(u()===x?(u(Gt(S)),e=!0):C.selected=u()),x=u(),A=n(d())?[]:[...d()],O=Gt(S),e&&D()&&Bo(D(),"SMUISwitchChange",{selected:Gt(S),value:p()})});const E=W("SMUI:generic:input:mount"),_=W("SMUI:generic:input:unmount");function k(e){return e in y?y[e]:D().classList.contains(e)}function R(e){y[e]||(y[e]=!0)}function M(e){e in y&&!y[e]||(y[e]=!1)}function D(){return o}En(()=>{Me(b,new xf({addClass:R,hasClass:k,isDisabled:()=>s(),removeClass:M,setAriaChecked:()=>{},setDisabled:e=>{s(e)},state:C}),!0);const e={get element(){return D()},get checked(){return Gt(S)},set checked(e){Gt(S)!==e&&(C.selected=e,D()&&Bo(D(),"SMUISwitchChange",{selected:e,value:p()}))},activateRipple(){s()||Me(w,!0)},deactivateRipple(){Me(w,!1)}};return E&&E(e),Gt(b).init(),Gt(b).initFromDOM(),()=>{_&&_(e),Gt(b)?.destroy()}});var $={getId:function(){return I&&I.id},getElement:D},B=Ef(),F=e=>{Gt(b)&&Gt(b).handleClick(),t.onclick?.(e),e.stopPropagation(),e.currentTarget.blur()};en(B,(e,t)=>({class:e,type:"button",role:"switch","aria-checked":Gt(S)?"true":"false",disabled:s(),...I,...t,onclick:F}),[()=>$o({"mdc-switch":!0,"mdc-switch--unselected":!Gt(S),"mdc-switch--selected":Gt(S),"mdc-switch--processing":h(),"smui-switch--color-secondary":"secondary"===c(),...y,[a()]:!0}),()=>Fo(v,["icons$"])]);var L=Ke(Ge(B),2),N=Ge(L),P=Ke(Ge(N),2);pn(P,e=>Me(T,e),()=>Gt(T));var j=Ke(P,2),V=e=>{var t=Af();en(t,(e,t)=>({class:e,...t}),[()=>$o({"mdc-switch__icons":!0,[g()]:!0}),()=>Lo(v,"icons$")]),Fi(t,(e,t)=>Po?.(e,t),m),Ti(e,t)};Ci(j,e=>{f()&&e(V)});var U=Ke(L,2),H=e=>{Ti(e,Of())};return Ci(U,e=>{l()&&e(H)}),pn(B,e=>o=e,()=>o),Fi(B,(e,t)=>Po?.(e,t),r),Fi(B,(e,t)=>sr?.(e,t),()=>({unbounded:!0,color:c(),active:Gt(w),rippleElement:Gt(T),disabled:s(),addClass:R,removeClass:M})),Ti(e,B),G($)}
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */var kf={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"},Rf=function(e){function t(i){var n=e.call(this,Ln(Ln({},t.defaultAdapter),i))||this;return n.shakeAnimationEndHandler=function(){n.handleShakeAnimationEnd()},n}return Fn(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return kf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.getWidth=function(){return this.adapter.getWidth()},t.prototype.shake=function(e){var i=t.cssClasses.LABEL_SHAKE;e?this.adapter.addClass(i):this.adapter.removeClass(i)},t.prototype.float=function(e){var i=t.cssClasses,n=i.LABEL_FLOAT_ABOVE,o=i.LABEL_SHAKE;e?this.adapter.addClass(n):(this.adapter.removeClass(n),this.adapter.removeClass(o))},t.prototype.setRequired=function(e){var i=t.cssClasses.LABEL_REQUIRED;e?this.adapter.addClass(i):this.adapter.removeClass(i)},t.prototype.handleShakeAnimationEnd=function(){var e=t.cssClasses.LABEL_SHAKE;this.adapter.removeClass(e)},t}(Vn),Mf={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"},Df=function(e){function t(i){var n=e.call(this,Ln(Ln({},t.defaultAdapter),i))||this;return n.transitionEndHandler=function(e){n.handleTransitionEnd(e)},n}return Fn(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Mf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler)},t.prototype.activate=function(){this.adapter.removeClass(Mf.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(Mf.LINE_RIPPLE_ACTIVE)},t.prototype.setRippleCenter=function(e){this.adapter.setStyle("transform-origin",e+"px center")},t.prototype.deactivate=function(){this.adapter.addClass(Mf.LINE_RIPPLE_DEACTIVATING)},t.prototype.handleTransitionEnd=function(e){var t=this.adapter.hasClass(Mf.LINE_RIPPLE_DEACTIVATING);"opacity"===e.propertyName&&t&&(this.adapter.removeClass(Mf.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(Mf.LINE_RIPPLE_DEACTIVATING))},t}(Vn),$f={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},Bf={NOTCH_ELEMENT_PADDING:8},Ff={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"},Lf=function(e){function t(i){return e.call(this,Ln(Ln({},t.defaultAdapter),i))||this}return Fn(t,e),Object.defineProperty(t,"strings",{get:function(){return $f},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return Ff},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Bf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!1,configurable:!0}),t.prototype.notch=function(e){var i=t.cssClasses.OUTLINE_NOTCHED;e>0&&(e+=Bf.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(e),this.adapter.addClass(i)},t.prototype.closeNotch=function(){var e=t.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(e),this.adapter.removeNotchWidthProperty()},t}(Vn),Nf={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},Pf={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon",WITH_INTERNAL_COUNTER:"mdc-text-field--with-internal-counter"},jf={LABEL_SCALE:.75},Vf=["pattern","min","max","required","step","minlength","maxlength"],Uf=["color","date","datetime-local","month","range","time","week"],Hf=["mousedown","touchstart"],Wf=["click","keydown"],zf=function(e){function t(i,n){void 0===n&&(n={});var o=e.call(this,Ln(Ln({},t.defaultAdapter),i))||this;return o.isFocused=!1,o.receivedUserInput=!1,o.valid=!0,o.useNativeValidation=!0,o.validateOnValueChange=!0,o.helperText=n.helperText,o.characterCounter=n.characterCounter,o.leadingIcon=n.leadingIcon,o.trailingIcon=n.trailingIcon,o.inputFocusHandler=function(){o.activateFocus()},o.inputBlurHandler=function(){o.deactivateFocus()},o.inputInputHandler=function(){o.handleInput()},o.setPointerXOffset=function(e){o.setTransformOrigin(e)},o.textFieldInteractionHandler=function(){o.handleTextFieldInteraction()},o.validationAttributeChangeHandler=function(e){o.handleValidationAttributeChange(e)},o}return Fn(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Pf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Nf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return jf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldAlwaysFloat",{get:function(){var e=this.getNativeInput().type;return Uf.indexOf(e)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat||this.isFocused||!!this.getValue()||this.isBadInput()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldShake",{get:function(){return!this.isFocused&&!this.isValid()&&!!this.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver(function(){})},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e,t,i,n;this.adapter.hasLabel()&&this.getNativeInput().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler);try{for(var o=Nn(Hf),r=o.next();!r.done;r=o.next()){var a=r.value;this.adapter.registerInputInteractionHandler(a,this.setPointerXOffset)}}catch(c){e={error:c}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}try{for(var s=Nn(Wf),l=s.next();!l.done;l=s.next()){a=l.value;this.adapter.registerTextFieldInteractionHandler(a,this.textFieldInteractionHandler)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}this.validationObserver=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler),this.setcharacterCounter(this.getValue().length)},t.prototype.destroy=function(){var e,t,i,n;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler);try{for(var o=Nn(Hf),r=o.next();!r.done;r=o.next()){var a=r.value;this.adapter.deregisterInputInteractionHandler(a,this.setPointerXOffset)}}catch(c){e={error:c}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}try{for(var s=Nn(Wf),l=s.next();!l.done;l=s.next()){a=l.value;this.adapter.deregisterTextFieldInteractionHandler(a,this.textFieldInteractionHandler)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver)},t.prototype.handleTextFieldInteraction=function(){var e=this.adapter.getNativeInput();e&&e.disabled||(this.receivedUserInput=!0)},t.prototype.handleValidationAttributeChange=function(e){var t=this;e.some(function(e){return Vf.indexOf(e)>-1&&(t.styleValidity(!0),t.adapter.setLabelRequired(t.getNativeInput().required),!0)}),e.indexOf("maxlength")>-1&&this.setcharacterCounter(this.getValue().length)},t.prototype.notchOutline=function(e){if(this.adapter.hasOutline()&&this.adapter.hasLabel())if(e){var t=this.adapter.getLabelWidth()*jf.LABEL_SCALE;this.adapter.notchOutline(t)}else this.adapter.closeOutline()},t.prototype.activateFocus=function(){this.isFocused=!0,this.styleFocused(this.isFocused),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),!this.helperText||!this.helperText.isPersistent()&&this.helperText.isValidation()&&this.valid||this.helperText.showToScreenReader()},t.prototype.setTransformOrigin=function(e){if(!this.isDisabled()&&!this.adapter.hasOutline()){var t=e.touches,i=t?t[0]:e,n=i.target.getBoundingClientRect(),o=i.clientX-n.left;this.adapter.setLineRippleTransformOrigin(o)}},t.prototype.handleInput=function(){this.autoCompleteFocus(),this.setcharacterCounter(this.getValue().length)},t.prototype.autoCompleteFocus=function(){this.receivedUserInput||this.activateFocus()},t.prototype.deactivateFocus=function(){this.isFocused=!1,this.adapter.deactivateLineRipple();var e=this.isValid();this.styleValidity(e),this.styleFocused(this.isFocused),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput=!1)},t.prototype.getValue=function(){return this.getNativeInput().value},t.prototype.setValue=function(e){if(this.getValue()!==e&&(this.getNativeInput().value=e),this.setcharacterCounter(e.length),this.validateOnValueChange){var t=this.isValid();this.styleValidity(t)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.validateOnValueChange&&this.adapter.shakeLabel(this.shouldShake))},t.prototype.isValid=function(){return this.useNativeValidation?this.isNativeInputValid():this.valid},t.prototype.setValid=function(e){this.valid=e,this.styleValidity(e);var t=!e&&!this.isFocused&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(t)},t.prototype.setValidateOnValueChange=function(e){this.validateOnValueChange=e},t.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange},t.prototype.setUseNativeValidation=function(e){this.useNativeValidation=e},t.prototype.isDisabled=function(){return this.getNativeInput().disabled},t.prototype.setDisabled=function(e){this.getNativeInput().disabled=e,this.styleDisabled(e)},t.prototype.setHelperTextContent=function(e){this.helperText&&this.helperText.setContent(e)},t.prototype.setLeadingIconAriaLabel=function(e){this.leadingIcon&&this.leadingIcon.setAriaLabel(e)},t.prototype.setLeadingIconContent=function(e){this.leadingIcon&&this.leadingIcon.setContent(e)},t.prototype.setTrailingIconAriaLabel=function(e){this.trailingIcon&&this.trailingIcon.setAriaLabel(e)},t.prototype.setTrailingIconContent=function(e){this.trailingIcon&&this.trailingIcon.setContent(e)},t.prototype.setcharacterCounter=function(e){if(this.characterCounter){var t=this.getNativeInput().maxLength;if(-1===t)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter.setCounterValue(e,t)}},t.prototype.isBadInput=function(){return this.getNativeInput().validity.badInput||!1},t.prototype.isNativeInputValid=function(){return this.getNativeInput().validity.valid},t.prototype.styleValidity=function(e){var i=t.cssClasses.INVALID;if(e?this.adapter.removeClass(i):this.adapter.addClass(i),this.helperText){if(this.helperText.setValidity(e),!this.helperText.isValidation())return;var n=this.helperText.isVisible(),o=this.helperText.getId();n&&o?this.adapter.setInputAttr(Nf.ARIA_DESCRIBEDBY,o):this.adapter.removeInputAttr(Nf.ARIA_DESCRIBEDBY)}},t.prototype.styleFocused=function(e){var i=t.cssClasses.FOCUSED;e?this.adapter.addClass(i):this.adapter.removeClass(i)},t.prototype.styleDisabled=function(e){var i=t.cssClasses,n=i.DISABLED,o=i.INVALID;e?(this.adapter.addClass(n),this.adapter.removeClass(o)):this.adapter.removeClass(n),this.leadingIcon&&this.leadingIcon.setDisabled(e),this.trailingIcon&&this.trailingIcon.setDisabled(e)},t.prototype.styleFloating=function(e){var i=t.cssClasses.LABEL_FLOATING;e?this.adapter.addClass(i):this.adapter.removeClass(i)},t.prototype.getNativeInput=function(){return(this.adapter?this.adapter.getNativeInput():null)||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},t}(Vn),qf=mi("<span><!></span>"),Gf=mi("<label><!></label>");
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */function Xf(e,t){q(t,!0);let i,n=On(t,"use",19,()=>[]),o=On(t,"class",3,""),r=On(t,"style",3,""),a=On(t,"floatAbove",15,!1),s=On(t,"required",15,!1),l=On(t,"wrapped",3,!1),c=Cn(t,["$$slots","$$events","$$legacy","use","class","style","for","floatAbove","required","wrapped","children"]),d=ke(void 0),u=new No,p=Fe({}),f=Fe({}),m=W("SMUI:generic:input:props")??{},g=a();nt(()=>{Gt(d)&&g!==a()&&(g=a(),Gt(d).float(a()))});let v=s();nt(()=>{Gt(d)&&v!==s()&&(v=s(),Gt(d).setRequired(s()))});const b=W("SMUI:floating-label:mount"),y=W("SMUI:floating-label:unmount");function T(e){p[e]||(p[e]=!0)}function w(e){e in p&&!p[e]||(p[e]=!1)}function I(e,t){f[e]!=t&&(""===t||null==t?delete f[e]:f[e]=t)}function S(e){e in f&&delete f[e]}function C(){return i}En(()=>{Me(d,new Rf({addClass:T,removeClass:w,getWidth:()=>{const e=C(),t=e.cloneNode(!0);e.parentNode?.appendChild(t),t.classList.add("smui-floating-label--remove-transition"),t.classList.add("smui-floating-label--force-size"),t.classList.remove("mdc-floating-label--float-above");const i=t.scrollWidth;return e.parentNode?.removeChild(t),i},registerInteractionHandler:(e,t)=>u.on(C(),e,t),deregisterInteractionHandler:(e,t)=>u.off(C(),e,t)}),!0);const e={get element(){return C()},addStyle:I,removeStyle:S};return b&&b(e),Gt(d).init(),()=>{y&&y(e),Gt(d)?.destroy(),u.clear()}});var x={shake:function(e){Gt(d)?.shake(e)},float:function(e){a(e)},setRequired:function(e){s(e)},getWidth:function(){if(null==Gt(d))throw new Error("Instance is undefined.");return Gt(d).getWidth()},getElement:C},A=yi(),O=Xe(A),E=e=>{var l=qf();en(l,(e,t)=>({class:e,style:t,...c}),[()=>$o({"mdc-floating-label":!0,"mdc-floating-label--float-above":a(),"mdc-floating-label--required":s(),...p,[o()]:!0}),()=>Object.entries(f).map(([e,t])=>`${e}: ${t};`).concat([r()]).join(" ")]),Di(Ge(l),()=>t.children??h),pn(l,e=>i=e,()=>i),Fi(l,(e,t)=>Po?.(e,t),n),Ti(e,l)},_=e=>{var l=Gf();en(l,(e,i)=>({class:e,style:i,for:t.for||(m?m.id:void 0),...c}),[()=>$o({"mdc-floating-label":!0,"mdc-floating-label--float-above":a(),"mdc-floating-label--required":s(),...p,[o()]:!0}),()=>Object.entries(f).map(([e,t])=>`${e}: ${t};`).concat([r()]).join(" ")]),Di(Ge(l),()=>t.children??h),pn(l,e=>i=e,()=>i),Fi(l,(e,t)=>Po?.(e,t),n),Ti(e,l)};return Ci(O,e=>{l()?e(E):e(_,!1)}),Ti(e,A),G(x)}var Kf=mi("<div></div>");function Zf(e,t){q(t,!0);let i,n=On(t,"use",19,()=>[]),o=On(t,"class",3,""),r=On(t,"style",3,""),a=On(t,"active",3,!1),s=Cn(t,["$$slots","$$events","$$legacy","use","class","style","active"]),l=ke(void 0),c=new No,d=Fe({}),u=Fe({});function p(e){return e in d?d[e]:g().classList.contains(e)}function h(e){d[e]||(d[e]=!0)}function f(e){e in d&&!d[e]||(d[e]=!1)}function m(e,t){u[e]!=t&&(""===t||null==t?delete u[e]:u[e]=t)}function g(){return i}En(()=>(Me(l,new Df({addClass:h,removeClass:f,hasClass:p,setStyle:m,registerEventHandler:(e,t)=>c.on(g(),e,t),deregisterEventHandler:(e,t)=>c.off(g(),e,t)}),!0),Gt(l).init(),()=>{Gt(l)?.destroy(),c.clear()}));var v={activate:function(){Gt(l)?.activate()},deactivate:function(){Gt(l)?.deactivate()},setRippleCenter:function(e){Gt(l)?.setRippleCenter(e)},getElement:g},b=Kf();return en(b,(e,t)=>({class:e,style:t,...s}),[()=>$o({"mdc-line-ripple":!0,"mdc-line-ripple--active":a(),...d,[o()]:!0}),()=>Object.entries(u).map(([e,t])=>`${e}: ${t};`).concat([r()]).join(" ")]),pn(b,e=>i=e,()=>i),Fi(b,(e,t)=>Po?.(e,t),n),Ti(e,b),G(v)}var Yf=mi('<div class="mdc-notched-outline__notch"><!></div>'),Qf=mi('<div><div class="mdc-notched-outline__leading"></div> <!> <div class="mdc-notched-outline__trailing"></div></div>');function Jf(e,t){q(t,!0);let i,n,o=On(t,"use",19,()=>[]),r=On(t,"class",3,""),a=On(t,"notched",3,!1),s=On(t,"noLabel",3,!1),l=Cn(t,["$$slots","$$events","$$legacy","use","class","notched","noLabel","children"]),c=ke(void 0),d=ke(void 0),u=Fe({}),p=Fe({});function f(e){u[e]||(u[e]=!0)}function m(e){e in u&&!u[e]||(u[e]=!1)}nt(()=>{Gt(d)!==n&&(Gt(d)?(Gt(d).addStyle("transition-duration","0s"),f("mdc-notched-outline--upgraded"),requestAnimationFrame(()=>{Gt(d)&&Gt(d).removeStyle("transition-duration")})):m("mdc-notched-outline--upgraded"),n=Gt(d))}),z("SMUI:floating-label:mount",e=>{Me(d,e,!0)}),z("SMUI:floating-label:unmount",()=>{Me(d,void 0)}),En(()=>(Me(c,new Lf({addClass:f,removeClass:m,setNotchWidthProperty:e=>{return i=e+"px",void(p[t="width"]!=i&&(""===i||null==i?delete p[t]:p[t]=i));var t,i},removeNotchWidthProperty:()=>{var e;(e="width")in p&&delete p[e]}}),!0),Gt(c).init(),()=>{Gt(c)?.destroy()}));var g={notch:function(e){Gt(c)?.notch(e)},closeNotch:function(){Gt(c)?.closeNotch()},getElement:function(){return i}},v=Qf();en(v,e=>({class:e,...l}),[()=>$o({"mdc-notched-outline":!0,"mdc-notched-outline--notched":a(),"mdc-notched-outline--no-label":s(),...u,[r()]:!0})]);var b=Ke(Ge(v),2),y=e=>{var i=Yf();Di(Ge(i),()=>t.children??h),st(e=>zi(i,e),[()=>Object.entries(p).map(([e,t])=>`${e}: ${t};`).join(" ")]),Ti(e,i)};return Ci(b,e=>{s()||e(y)}),pn(v,e=>i=e,()=>i),Fi(v,(e,t)=>Po?.(e,t),o),Ti(e,v),G(g)}var em=mi("<input/>");function tm(e,t){q(t,!0);let i,n=On(t,"use",19,()=>[]),o=On(t,"class",3,""),r=On(t,"type",3,"text"),a=On(t,"placeholder",3," "),s=On(t,"value",15),l=On(t,"files",15,null),c=On(t,"dirty",15,!1),d=On(t,"invalid",15,!1),u=On(t,"updateInvalid",3,!0),p=On(t,"initialInvalid",3,!1),h=On(t,"emptyValueNull",19,()=>null===s()),f=On(t,"emptyValueUndefined",19,()=>void 0===s()),m=On(t,"step",3,"any"),g=Cn(t,["$$slots","$$events","$$legacy","use","class","type","placeholder","value","files","dirty","invalid","updateInvalid","initialInvalid","emptyValueNull","emptyValueUndefined","step"]),v=Fe({}),b=Fe({});function y(e){return""===e?Number.NaN:+e}function T(e){if("file"!==r())if(""===e.currentTarget.value&&h())s(null);else if(""===e.currentTarget.value&&f())s(void 0);else switch(r()){case"number":/^-?0\d+/.test(e.currentTarget.value)&&(e.currentTarget.value=e.currentTarget.value.replace(/^(-?)0+(\d+)/,"$1$2")),"number"!=typeof s()&&"-0"!==e.currentTarget.value&&(s(y(e.currentTarget.value)),isNaN(s())&&(s(0),e.currentTarget.value="0")),function(e){return"inputType"in e&&"data"in e}(e)&&(""!==e.currentTarget.value&&"0"!==e.currentTarget.value||("-"===e.data?(s("-0"),e.currentTarget.value="-0"):"deleteContentBackward"===e.inputType?""===e.currentTarget.value&&("number"==typeof s()&&s()<0?(s("-0"),e.currentTarget.value="-0"):(s(0),e.currentTarget.value="0")):"insertFromPaste"===e.inputType&&e.data&&!isNaN(parseInt(e.data))?(s(parseFloat(e.data)),e.currentTarget.value=parseFloat(e.data).toString()):"."!==e.data&&(s(0),e.currentTarget.value="0")));break;case"range":s(y(e.currentTarget.value));break;default:s(e.currentTarget.value)}else l(e.currentTarget.files)}function w(){return i}nt(()=>{"file"===r()?delete b.value:b.value=null==s()?"":s()}),En(()=>{u()&&p()&&d(w().matches(":invalid"))});var I={getAttr:function(e){return e in v?void 0!==v[e]?v[e]:null:w().getAttribute(e)},addAttr:function(e,t){v[e]!==t&&(v[e]=t)},removeAttr:function(e){e in v&&null==v[e]||(v[e]=void 0)},focus:function(){w().focus()},blur:function(){w().blur()},getElement:w},S=em(),C=e=>{"file"!==r()&&T(e),t.oninput?.(e)},x=e=>{!function(e){"file"!==r()&&"range"!==r()||T(e),"number"===r()&&s(parseFloat(e.currentTarget.value)),c(!0),u()&&d(w().matches(":invalid"))}(e),t.onchange?.(e)};return en(S,e=>({class:e,type:r(),placeholder:a(),...b,...v,step:m(),...g,oninput:C,onchange:x}),[()=>$o({"mdc-text-field__input":!0,[o()]:!0})],void 0,void 0,!0),pn(S,e=>i=e,()=>i),Fi(S,(e,t)=>Po?.(e,t),n),Ti(e,S),G(I)}var im=mi("<textarea></textarea>");function nm(e,t){q(t,!0);let i,n=On(t,"use",19,()=>[]),o=On(t,"class",3,""),r=On(t,"style",3,""),a=On(t,"value",15,""),s=On(t,"dirty",15,!1),l=On(t,"invalid",15,!1),c=On(t,"updateInvalid",3,!0),d=On(t,"initialInvalid",3,!1),u=On(t,"resizable",3,!0),p=Cn(t,["$$slots","$$events","$$legacy","use","class","style","value","dirty","invalid","updateInvalid","initialInvalid","resizable"]),h=Fe({});function f(){return i}En(()=>{c()&&d()&&l(f().matches(":invalid"))});var m={getAttr:function(e){return e in h?void 0!==h[e]?h[e]:null:f().getAttribute(e)},addAttr:function(e,t){h[e]!==t&&(h[e]=t)},removeAttr:function(e){e in h&&null==h[e]||(h[e]=void 0)},focus:function(){f().focus()},blur:function(){f().blur()},getElement:f},g=im(),v=e=>{s(!0),c()&&l(f().matches(":invalid")),t.onchange?.(e)};return en(g,e=>({class:e,style:`${u()?"":"resize: none; "}${r()}`,...h,...p,onchange:v}),[()=>$o({"mdc-text-field__input":!0,[o()]:!0})]),pn(g,e=>i=e,()=>i),Fi(g,(e,t)=>Po?.(e,t),n),rt(()=>rn(g,a)),Ti(e,g),G(m)}var om=mi('<span class="mdc-text-field__ripple"></span>'),rm=mi("<!> <!>",1),am=mi("<span><!> <!></span>"),sm=mi("<!> <!> <!>",1),lm=mi("<label><!> <!> <!> <!> <!> <!> <!></label>"),cm=mi("<div><!> <!> <!> <!> <!></div>"),dm=mi("<!> <!>",1);function um(e,t){q(t,!0);const{applyPassive:i}=Zn;let n=()=>{};function o(e){return e===n}let r=On(t,"use",19,()=>[]),a=On(t,"class",3,""),s=On(t,"style",3,""),l=On(t,"ripple",3,!0),c=On(t,"disabled",3,!1),d=On(t,"required",3,!1),u=On(t,"textarea",3,!1),p=On(t,"variant",19,()=>u()?"outlined":"standard"),f=On(t,"noLabel",3,!1),m=On(t,"type",3,"text"),g=On(t,"value",15),v=On(t,"files",15,n),b=On(t,"invalid",15,n),y=On(t,"updateInvalid",19,()=>o(b())),T=On(t,"initialInvalid",3,!1),w=On(t,"dirty",15,!1),I=On(t,"validateOnValueChange",19,y),S=On(t,"useNativeValidation",19,y),C=On(t,"withLeadingIcon",3,n),x=On(t,"withTrailingIcon",3,n),A=On(t,"input",7),O=On(t,"floatingLabel",7),E=On(t,"lineRipple",7),_=On(t,"notchedOutline",7),k=On(t,"alwaysFloat",3,!1),R=Cn(t,["$$slots","$$events","$$legacy","use","class","style","ripple","disabled","required","textarea","variant","noLabel","label","type","value","files","invalid","updateInvalid","initialInvalid","dirty","prefix","suffix","validateOnValueChange","useNativeValidation","withLeadingIcon","withTrailingIcon","input","floatingLabel","lineRipple","notchedOutline","children","leadingIcon","trailingIcon","internalCounter","line","helper","alwaysFloat"]);const M=void 0!==g()||void 0===g()&&t.input$emptyValueUndefined||!o(v());o(v())&&v(null),o(b())&&b(!1);let D,$,B,F,L,N,P=ke(Fe(document.createElement("div"))),j=ke(void 0),V=new No,U=Fe({}),H=Fe({}),X=ke(void 0),K=ke(!1),Z=ke(Fe(T())),Y=W("SMUI:addLayoutListener"),Q=new Promise(e=>$=e);const J=se(()=>A()&&A().getElement());nt(()=>{(w()||Gt(Z)||!y())&&Gt(j)&&Gt(j).isValid()!==!b()&&(y()?b(!Gt(j).isValid()):Gt(j).setValid(!b()))}),nt(()=>{Gt(j)&&Gt(j).getValidateOnValueChange()!==I()&&Gt(j).setValidateOnValueChange(!o(I())&&I())}),nt(()=>{Gt(j)&&Gt(j).setUseNativeValidation(!!o(S())||S())}),nt(()=>{Gt(j)&&Gt(j).setDisabled(c())});let ee=g();function te(e){return e in U?void 0!==U[e]&&U[e]:ae().classList.contains(e)}function ie(e){U[e]||(U[e]=!0)}function ne(e){e in U&&!U[e]||(U[e]=!1)}function oe(e,t){H[e]!=t&&(""===t||null==t?delete H[e]:H[e]=t)}function re(){if(Gt(j)){const e=Gt(j).shouldFloat;Gt(j).notchOutline(e)}}function ae(){return Gt(P)}nt(()=>{if(Gt(j)&&M&&ee!==g()){ee=g();const e=`${null==g()?"":g()}`;Gt(j).getValue()!==e&&Gt(j).setValue(e)}}),Y&&(D=Y(re)),z("SMUI:textfield:leading-icon:mount",e=>{B=e}),z("SMUI:textfield:leading-icon:unmount",()=>{B=void 0}),z("SMUI:textfield:trailing-icon:mount",e=>{F=e}),z("SMUI:textfield:trailing-icon:unmount",()=>{F=void 0}),z("SMUI:textfield:helper-text:id",e=>{Me(X,e,!0)}),z("SMUI:textfield:helper-text:mount",e=>{L=e}),z("SMUI:textfield:helper-text:unmount",()=>{Me(X,void 0),L=void 0}),z("SMUI:textfield:character-counter:mount",e=>{N=e}),z("SMUI:textfield:character-counter:unmount",()=>{N=void 0}),En(()=>{if(Me(j,new zf({addClass:ie,removeClass:ne,hasClass:te,registerTextFieldInteractionHandler:(e,t)=>V.on(ae(),e,t),deregisterTextFieldInteractionHandler:(e,t)=>V.off(ae(),e,t),registerValidationAttributeChangeHandler:e=>{const t=new MutationObserver(t=>{S()&&e((e=>e.map(e=>e.attributeName).filter(e=>e))(t))}),i={attributes:!0};return A()&&t.observe(A().getElement(),i),t},deregisterValidationAttributeChangeHandler:e=>{e.disconnect()},getNativeInput:()=>void 0!==A()?.getElement()?A().getElement():null,setInputAttr:(e,t)=>{A()?.addAttr(e,t)},removeInputAttr:e=>{A()?.removeAttr(e)},isFocused:()=>document.activeElement===A()?.getElement(),registerInputInteractionHandler:(e,t)=>{const n=A()?.getElement();if(n){const o=i();V.on(n,e,t,"boolean"==typeof o?{capture:o}:o)}},deregisterInputInteractionHandler:(e,t)=>{const i=A()?.getElement();i&&V.off(i,e,t)},floatLabel:e=>O()&&O().float(e||k()),getLabelWidth:()=>O()?O().getWidth():0,hasLabel:()=>!!O(),shakeLabel:e=>O()&&O().shake(e),setLabelRequired:e=>O()&&O().setRequired(e),activateLineRipple:()=>E()&&E().activate(),deactivateLineRipple:()=>E()&&E().deactivate(),setLineRippleTransformOrigin:e=>E()&&E().setRippleCenter(e),closeOutline:()=>_()&&_().closeNotch(),hasOutline:()=>!!_(),notchOutline:e=>_()&&_().notch(e)},{get helperText(){return L},get characterCounter(){return N},get leadingIcon(){return B},get trailingIcon(){return F}}),!0),M){if(null==A())throw new Error("SMUI Textfield must be initialized with either a non-undefined initial value or an Input component.");Gt(j)?.init()}else qt().then(()=>{if(null==A())throw new Error("SMUI Textfield must be initialized with either a non-undefined initial value or an Input component.");Gt(j)?.init()});return $(),()=>{Gt(j)?.destroy(),V.clear()}}),_n(()=>{D&&D()});var le={focus:function(){A()?.focus()},blur:function(){A()?.blur()},layout:re,getElement:ae},ce=dm(),de=Xe(ce),ue=e=>{var i=lm();en(i,(e,t,i)=>({class:e,style:t,for:void 0,...i}),[()=>$o({"mdc-text-field":!0,"mdc-text-field--disabled":c(),"mdc-text-field--textarea":u(),"mdc-text-field--filled":"filled"===p(),"mdc-text-field--outlined":"outlined"===p(),"smui-text-field--standard":"standard"===p()&&!u(),"mdc-text-field--no-label":f()||null==t.label,"mdc-text-field--label-floating":Gt(K)||null!=g()&&""!==g(),"mdc-text-field--with-leading-icon":o(C())?t.leadingIcon:C(),"mdc-text-field--with-trailing-icon":o(x())?t.trailingIcon:x(),"mdc-text-field--with-internal-counter":u()&&t.internalCounter,"mdc-text-field--invalid":b(),...U,[a()]:!0}),()=>Object.entries(H).map(([e,t])=>`${e}: ${t};`).concat([s()]).join(" "),()=>Fo(R,["input$","label$","ripple$","outline$","helperLine$"])]);var n=Ge(i),T=e=>{var i=rm(),n=Xe(i),o=e=>{Ti(e,om())};Ci(n,e=>{"filled"===p()&&e(o)});var r=Ke(n,2),a=e=>{{let i=se(()=>Gt(K)||k()||null!=g()&&""!==g()&&("number"!=typeof g()||!isNaN(g()))),n=se(()=>Lo(R,"label$"));pn(Xf(e,An({get floatAbove(){return Gt(i)},get required(){return d()},wrapped:!0},()=>Gt(n),{children:(e,i)=>{var n=yi(),o=Xe(n),r=e=>{},a=e=>{var i=yi(),n=Xe(i),o=e=>{var i=bi();st(()=>wi(i,t.label)),Ti(e,i)},r=e=>{var i=yi();Di(Xe(i),()=>t.label),Ti(e,i)};Ci(n,e=>{"string"==typeof t.label?e(o):e(r,!1)},!0),Ti(e,i)};Ci(o,e=>{null==t.label?e(r):e(a,!1)}),Ti(e,n)},$$slots:{default:!0}})),e=>O(e),()=>O())}};Ci(r,e=>{f()||null==t.label||e(a)}),Ti(e,i)};Ci(n,e=>{"outlined"!==p()&&e(T)});var I=Ke(n,2),S=e=>{{let i=se(()=>f()||null==t.label),n=se(()=>Lo(R,"outline$"));pn(Jf(e,An({get noLabel(){return Gt(i)}},()=>Gt(n),{children:(e,i)=>{var n=yi(),o=Xe(n),r=e=>{{let i=se(()=>Gt(K)||k()||null!=g()&&""!==g()&&("number"!=typeof g()||!isNaN(g()))),n=se(()=>Lo(R,"label$"));pn(Xf(e,An({get floatAbove(){return Gt(i)},get required(){return d()},wrapped:!0},()=>Gt(n),{children:(e,i)=>{var n=yi(),o=Xe(n),r=e=>{},a=e=>{var i=yi(),n=Xe(i),o=e=>{var i=bi();st(()=>wi(i,t.label)),Ti(e,i)},r=e=>{var i=yi();Di(Xe(i),()=>t.label),Ti(e,i)};Ci(n,e=>{"string"==typeof t.label?e(o):e(r,!1)},!0),Ti(e,i)};Ci(o,e=>{null==t.label?e(r):e(a,!1)}),Ti(e,n)},$$slots:{default:!0}})),e=>O(e),()=>O())}};Ci(o,e=>{f()||null==t.label||e(r)}),Ti(e,n)},$$slots:{default:!0}})),e=>_(e),()=>_())}};Ci(I,e=>{"outlined"===p()&&e(S)});var M=Ke(I,2);Zo(M,{key:"SMUI:textfield:icon:leading",value:!0,children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.leadingIcon??h),Ti(e,n)},$$slots:{default:!0}});var D=Ke(M,2);Di(D,()=>t.children??h);var $=Ke(D,2),B=e=>{var i=am(),n=Ge(i);{let e=se(()=>Lo(R,"input$"));pn(nm(n,An({get disabled(){return c()},get required(){return d()},get updateInvalid(){return y()},get initialInvalid(){return Gt(Z)},get"aria-controls"(){return Gt(X)},get"aria-describedby"(){return Gt(X)}},()=>Gt(e),{onblur:e=>{Me(K,!1),Me(Z,!0),Bo(ae(),"blur",e),t.input$onblur?.(e)},onfocus:e=>{Me(K,!0),Bo(ae(),"focus",e),t.input$onfocus?.(e)},get value(){return g()},set value(e){g(e)},get dirty(){return w()},set dirty(e){w(e)},get invalid(){return b()},set invalid(e){b(e)}})),e=>A(e),()=>A())}Di(Ke(n,2),()=>t.internalCounter??h),st(e=>Hi(i,1,e),[()=>Pi($o({"mdc-text-field__resizer":!("input$resizable"in R)||t.input$resizable}))]),Ti(e,i)},F=e=>{var i=sm(),n=Xe(i),o=e=>{var i=yi(),n=Xe(i),o=e=>{!function(e,t){q(t,!0);let i,n=Cn(t,["$$slots","$$events","$$legacy","children"]);var o={getElement:function(){return i.getElement()}};pn(Yo(e,An({_smuiClass:"mdc-text-field__affix mdc-text-field__affix--prefix",tag:"span"},()=>n,{children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}})),e=>i=e,()=>i),G(o)}(e,{children:(e,i)=>{var n=bi();st(()=>wi(n,t.prefix)),Ti(e,n)},$$slots:{default:!0}})},r=e=>{var i=yi();Di(Xe(i),()=>t.prefix??h),Ti(e,i)};Ci(n,e=>{"string"==typeof t.prefix?e(o):e(r,!1)}),Ti(e,i)};Ci(n,e=>{null!=t.prefix&&e(o)});var r=Ke(n,2);{let e=se(()=>Lo(R,"input$"));pn(tm(r,An({get type(){return m()},get disabled(){return c()},get required(){return d()},get updateInvalid(){return y()},get initialInvalid(){return Gt(Z)},get"aria-controls"(){return Gt(X)},get"aria-describedby"(){return Gt(X)}},()=>f()&&null!=t.label&&"string"==typeof t.label?{placeholder:t.label}:{},()=>Gt(e),{onblur:e=>{Me(K,!1),Me(Z,!0),Bo(ae(),"blur",e),t.input$onblur?.(e)},onfocus:e=>{Me(K,!0),Bo(ae(),"focus",e),t.input$onfocus?.(e)},get value(){return g()},set value(e){g(e)},get files(){return v()},set files(e){v(e)},get dirty(){return w()},set dirty(e){w(e)},get invalid(){return b()},set invalid(e){b(e)}})),e=>A(e),()=>A())}var a=Ke(r,2),s=e=>{var i=yi(),n=Xe(i),o=e=>{!function(e,t){q(t,!0);let i,n=Cn(t,["$$slots","$$events","$$legacy","children"]);var o={getElement:function(){return i.getElement()}};pn(Yo(e,An({_smuiClass:"mdc-text-field__affix mdc-text-field__affix--suffix",tag:"span"},()=>n,{children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}})),e=>i=e,()=>i),G(o)}(e,{children:(e,i)=>{var n=bi();st(()=>wi(n,t.suffix)),Ti(e,n)},$$slots:{default:!0}})},r=e=>{var i=yi();Di(Xe(i),()=>t.suffix??h),Ti(e,i)};Ci(n,e=>{"string"==typeof t.suffix?e(o):e(r,!1)}),Ti(e,i)};Ci(a,e=>{null!=t.suffix&&e(s)}),Ti(e,i)};Ci($,e=>{u()&&"string"==typeof g()?e(B):e(F,!1)});var L=Ke($,2);Zo(L,{key:"SMUI:textfield:icon:leading",value:!1,children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.trailingIcon??h),Ti(e,n)},$$slots:{default:!0}});var N=Ke(L,2),j=e=>{{let t=se(()=>Lo(R,"ripple$"));pn(Zf(e,An(()=>Gt(t))),e=>E(e),()=>E())}};Ci(N,e=>{"outlined"!==p()&&l()&&e(j)}),pn(i,e=>Me(P,e),()=>Gt(P)),Fi(i,(e,t)=>sr?.(e,t),()=>({ripple:"filled"===p(),unbounded:!1,addClass:ie,removeClass:ne,addStyle:oe,eventTarget:Gt(J),activeTarget:Gt(J),initPromise:Q})),Fi(i,(e,t)=>Po?.(e,t),r),Ti(e,i)},pe=e=>{var i=cm();en(i,(e,t,i)=>({class:e,style:t,...i}),[()=>$o({"mdc-text-field":!0,"mdc-text-field--disabled":c(),"mdc-text-field--textarea":u(),"mdc-text-field--filled":"filled"===p(),"mdc-text-field--outlined":"outlined"===p(),"smui-text-field--standard":"standard"===p()&&!u(),"mdc-text-field--no-label":f()||null==t.label,"mdc-text-field--with-leading-icon":t.leadingIcon,"mdc-text-field--with-trailing-icon":t.trailingIcon,"mdc-text-field--invalid":b(),...U,[a()]:!0}),()=>Object.entries(H).map(([e,t])=>`${e}: ${t};`).concat([s()]).join(" "),()=>Fo(R,["input$","label$","ripple$","outline$","helperLine$"])]);var n=Ge(i),o=e=>{var i=yi();Di(Xe(i),()=>t.label??h),Ti(e,i)};Ci(n,e=>{"string"!=typeof t.label&&e(o)});var d=Ke(n,2);Zo(d,{key:"SMUI:textfield:icon:leading",value:!0,children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.leadingIcon??h),Ti(e,n)},$$slots:{default:!0}});var m=Ke(d,2);Di(m,()=>t.children??h);var g=Ke(m,2);Zo(g,{key:"SMUI:textfield:icon:leading",value:!1,children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.trailingIcon??h),Ti(e,n)},$$slots:{default:!0}}),Di(Ke(g,2),()=>t.line??h),pn(i,e=>Me(P,e),()=>Gt(P)),Fi(i,(e,t)=>sr?.(e,t),()=>({ripple:l(),unbounded:!1,addClass:ie,removeClass:ne,addStyle:oe})),Fi(i,(e,t)=>Po?.(e,t),r),Ti(e,i)};Ci(de,e=>{M?e(ue):e(pe,!1)});var he=Ke(de,2),fe=e=>{{let i=se(()=>Lo(R,"helperLine$"));!function(e,t){q(t,!0);let i,n=Cn(t,["$$slots","$$events","$$legacy","children"]);var o={getElement:function(){return i.getElement()}};pn(Yo(e,An({_smuiClass:"mdc-text-field-helper-line",tag:"div"},()=>n,{children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}})),e=>i=e,()=>i),G(o)}(e,An(()=>Gt(i),{children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.helper??h),Ti(e,n)},$$slots:{default:!0}}))}};return Ci(he,e=>{t.helper&&e(fe)}),Ti(e,ce),G(le)}var pm=mi('<div class="row"><div class="col-12 mt-4 mb-2"><!></div> <div class="col-sm-6 col-12 mb-4"><!></div> <div class="col-sm-6 col-12 mb-4"><!></div> <div class="col-12"><!> <!></div></div>'),hm=mi("<!> <!> <!>",1);function fm(e,t){q(t,!0);let i=On(t,"open",7),n=ke(""),o=ke(!1);function r(){let e=[],t=Array.from(vu.keys()),i="";if(t.sort((e,t)=>{let i=wu.get(e),n=wu.get(t);return void 0!==i&&void 0!==n?i.row.index!==n.row.index?i.row.index-n.row.index:i.choice.index-n.choice.index:0}),Gt(o)){let n="";for(let i=0;i<t.length;i++){let o=wu.get(t[i]);if(void 0!==o){const t=o.row,i=o.choice;""!==i.title&&(t.id!==n?(""!==n&&e.push("\n"),e.push(`**${""!==t.title?t.title:t.debugTitle||""}**\n`),i.isSelectableMultiple?e.push(`${i.title}(x${i.multipleUseVariable})`):e.push(`${i.title}`),n=t.id):i.isSelectableMultiple?e.push(`, ${i.title}(x${i.multipleUseVariable})`):e.push(`, ${i.title}`))}}i=e.join("")}else{for(let i=0;i<t.length;i++){let n=wu.get(t[i]);if(void 0!==n){const t=n.choice;""!==t.title&&(t.isSelectableMultiple?e.push(`${t.title}(x${t.multipleUseVariable})`):e.push(`${t.title}`))}}i=e.join(", ")}const n=document.createElement("div");return n.innerHTML=i,n.textContent}df(e,{surface$style:"width: 1920px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return t.onclose},get open(){return i()},set open(e){i(e)},children:(e,t)=>{var i=hm(),a=Xe(i);uf(a,{class:"px-3 pb-0 toolbar toolbar__dialog",tabindex:0,autofocus:!0,children:(e,t)=>{Ti(e,bi("Build Form"))},$$slots:{default:!0}});var s=Ke(a,2);pf(s,{children:(e,t)=>{var i=pm(),a=Ge(i);If(Ge(a),{label:e=>{Ti(e,bi("Separate Choice Titles by Row"))},children:(e,t)=>{_f(e,{color:"secondary",class:"switch-scale",get checked(){return Gt(o)},set checked(e){Me(o,e,!0)}})},$$slots:{label:!0,default:!0}});var s=Ke(a,2),l=Ge(s);{let e=se(r);um(l,{textarea:!0,get value(){return Gt(e)},label:"Current Activated Choices Titles",variant:"filled",input$rows:5})}var c=Ke(s,2),d=Ge(c);{let e=se(Ju);um(d,{textarea:!0,get value(){return Gt(e)},label:"Current Activated Choices ID's",variant:"filled",input$rows:5})}var u=Ge(Ke(c,2));um(u,{textarea:!0,label:"Area To Import Activated Choices With Lists Of Id's",variant:"filled",input$rows:5,get value(){return Gt(n)},set value(e){Me(n,e,!0)}}),pr(Ke(u,2),{onclickcapture:()=>Jp(Gt(n)),variant:"raised",children:(e,t)=>{Ho(e,{children:(e,t)=>{Ti(e,bi("Import Choices/Clean if empty"))},$$slots:{default:!0}})},$$slots:{default:!0}}),Ti(e,i)},$$slots:{default:!0}}),hf(Ke(s,2),{children:(e,t)=>{pr(e,{action:"close",children:(e,t)=>{Ho(e,{class:"dialog-actions--btn",children:(e,t)=>{Ti(e,bi("Cancel"))},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),Ti(e,i)},$$slots:{default:!0}}),G()}var mm=mi("<div><!></div>");function gm(e,t){q(t,!0);let i,n=On(t,"use",19,()=>[]),o=On(t,"class",3,""),r=On(t,"variant",3,"raised"),a=On(t,"square",3,!1),s=On(t,"color",3,"default"),l=On(t,"elevation",3,1),c=On(t,"transition",3,!1),d=Cn(t,["$$slots","$$events","$$legacy","use","class","variant","square","color","elevation","transition","children"]);var u={getElement:function(){return i}},p=mm();return en(p,e=>({class:e,...d}),[()=>$o({"smui-paper":!0,"smui-paper--raised":"raised"===r(),"smui-paper--unelevated":"unelevated"===r(),"smui-paper--outlined":"outlined"===r(),["smui-paper--elevation-z"+l()]:0!==l()&&"raised"===r(),"smui-paper--rounded":!a(),["smui-paper--color-"+s()]:"default"!==s(),"smui-paper-transition":c(),[o()]:!0})]),Di(Ge(p),()=>t.children??h),pn(p,e=>i=e,()=>i),Fi(p,(e,t)=>Po?.(e,t),n),Ti(e,p),G(u)}function vm(e,t){q(t,!0);let i,n=Cn(t,["$$slots","$$events","$$legacy","children"]);var o={getElement:function(){return i.getElement()}};return pn(Yo(e,An({_smuiClass:"smui-paper__content",tag:"div"},()=>n,{children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}})),e=>i=e,()=>i),G(o)}
/**
   * @license
   * Copyright 2018 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
var bm,ym,Tm,wm,Im={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",IS_OPEN_BELOW:"mdc-menu-surface--is-open-below",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},Sm={CLOSED_EVENT:"MDCMenuSurface:closed",CLOSING_EVENT:"MDCMenuSurface:closing",OPENED_EVENT:"MDCMenuSurface:opened",OPENING_EVENT:"MDCMenuSurface:opening",FOCUSABLE_ELEMENTS:["button:not(:disabled)",'[href]:not([aria-disabled="true"])',"input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)",'[tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'].join(", ")},Cm={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67,TOUCH_EVENT_WAIT_MS:30};(ym=bm||(bm={}))[ym.BOTTOM=1]="BOTTOM",ym[ym.CENTER=2]="CENTER",ym[ym.RIGHT=4]="RIGHT",ym[ym.FLIP_RTL=8]="FLIP_RTL",(wm=Tm||(Tm={}))[wm.TOP_LEFT=0]="TOP_LEFT",wm[wm.TOP_RIGHT=4]="TOP_RIGHT",wm[wm.BOTTOM_LEFT=1]="BOTTOM_LEFT",wm[wm.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",wm[wm.TOP_START=8]="TOP_START",wm[wm.TOP_END=12]="TOP_END",wm[wm.BOTTOM_START=9]="BOTTOM_START",wm[wm.BOTTOM_END=13]="BOTTOM_END";
/**
   * @license
   * Copyright 2018 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
var xm,Am,Om=function(e){function t(i){var n=e.call(this,Ln(Ln({},t.defaultAdapter),i))||this;return n.isSurfaceOpen=!1,n.isQuickOpen=!1,n.isHoistedElement=!1,n.isFixedPosition=!1,n.isHorizontallyCenteredOnViewport=!1,n.maxHeight=0,n.openBottomBias=0,n.openAnimationEndTimerId=0,n.closeAnimationEndTimerId=0,n.animationRequestId=0,n.anchorCorner=Tm.TOP_START,n.originCorner=Tm.TOP_START,n.anchorMargin={top:0,right:0,bottom:0,left:0},n.position={x:0,y:0},n}return Fn(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Im},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Sm},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Cm},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Corner",{get:function(){return Tm},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyClosing:function(){},notifyOpen:function(){},notifyOpening:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=t.cssClasses,i=e.ROOT,n=e.OPEN;if(!this.adapter.hasClass(i))throw new Error(i+" class required in root element.");this.adapter.hasClass(n)&&(this.isSurfaceOpen=!0)},t.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId),clearTimeout(this.closeAnimationEndTimerId),cancelAnimationFrame(this.animationRequestId)},t.prototype.setAnchorCorner=function(e){this.anchorCorner=e},t.prototype.flipCornerHorizontally=function(){this.originCorner=this.originCorner^bm.RIGHT},t.prototype.setAnchorMargin=function(e){this.anchorMargin.top=e.top||0,this.anchorMargin.right=e.right||0,this.anchorMargin.bottom=e.bottom||0,this.anchorMargin.left=e.left||0},t.prototype.setIsHoisted=function(e){this.isHoistedElement=e},t.prototype.setFixedPosition=function(e){this.isFixedPosition=e},t.prototype.isFixed=function(){return this.isFixedPosition},t.prototype.setAbsolutePosition=function(e,t){this.position.x=this.isFinite(e)?e:0,this.position.y=this.isFinite(t)?t:0},t.prototype.setIsHorizontallyCenteredOnViewport=function(e){this.isHorizontallyCenteredOnViewport=e},t.prototype.setQuickOpen=function(e){this.isQuickOpen=e},t.prototype.setMaxHeight=function(e){this.maxHeight=e},t.prototype.setOpenBottomBias=function(e){this.openBottomBias=e},t.prototype.isOpen=function(){return this.isSurfaceOpen},t.prototype.open=function(){var e=this;this.isSurfaceOpen||(this.adapter.notifyOpening(),this.adapter.saveFocus(),this.isQuickOpen?(this.isSurfaceOpen=!0,this.adapter.addClass(t.cssClasses.OPEN),this.dimensions=this.adapter.getInnerDimensions(),this.autoposition(),this.adapter.notifyOpen()):(this.adapter.addClass(t.cssClasses.ANIMATING_OPEN),this.animationRequestId=requestAnimationFrame(function(){e.dimensions=e.adapter.getInnerDimensions(),e.autoposition(),e.adapter.addClass(t.cssClasses.OPEN),e.openAnimationEndTimerId=setTimeout(function(){e.openAnimationEndTimerId=0,e.adapter.removeClass(t.cssClasses.ANIMATING_OPEN),e.adapter.notifyOpen()},Cm.TRANSITION_OPEN_DURATION)}),this.isSurfaceOpen=!0))},t.prototype.close=function(e){var i=this;if(void 0===e&&(e=!1),this.isSurfaceOpen){if(this.adapter.notifyClosing(),this.isQuickOpen)return this.isSurfaceOpen=!1,e||this.maybeRestoreFocus(),this.adapter.removeClass(t.cssClasses.OPEN),this.adapter.removeClass(t.cssClasses.IS_OPEN_BELOW),void this.adapter.notifyClose();this.adapter.addClass(t.cssClasses.ANIMATING_CLOSED),requestAnimationFrame(function(){i.adapter.removeClass(t.cssClasses.OPEN),i.adapter.removeClass(t.cssClasses.IS_OPEN_BELOW),i.closeAnimationEndTimerId=setTimeout(function(){i.closeAnimationEndTimerId=0,i.adapter.removeClass(t.cssClasses.ANIMATING_CLOSED),i.adapter.notifyClose()},Cm.TRANSITION_CLOSE_DURATION)}),this.isSurfaceOpen=!1,e||this.maybeRestoreFocus()}},t.prototype.handleBodyClick=function(e){var t=e.target;this.adapter.isElementInContainer(t)||this.close()},t.prototype.handleKeydown=function(e){var t=e.keyCode;("Escape"===e.key||27===t)&&this.close()},t.prototype.autoposition=function(){var e;this.measurements=this.getAutoLayoutmeasurements();var i=this.getoriginCorner(),n=this.getMenuSurfaceMaxHeight(i),o=this.hasBit(i,bm.BOTTOM)?"bottom":"top",r=this.hasBit(i,bm.RIGHT)?"right":"left",a=this.getHorizontalOriginOffset(i),s=this.getVerticalOriginOffset(i),l=this.measurements,c=l.anchorSize,d=l.surfaceSize,u=((e={})[r]=a,e[o]=s,e);c.width/d.width>Cm.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(r="center"),(this.isHoistedElement||this.isFixedPosition)&&this.adjustPositionForHoistedElement(u),this.adapter.setTransformOrigin(r+" "+o),this.adapter.setPosition(u),this.adapter.setMaxHeight(n?n+"px":""),this.hasBit(i,bm.BOTTOM)||this.adapter.addClass(t.cssClasses.IS_OPEN_BELOW)},t.prototype.getAutoLayoutmeasurements=function(){var e=this.adapter.getAnchorDimensions(),t=this.adapter.getBodyDimensions(),i=this.adapter.getWindowDimensions(),n=this.adapter.getWindowScroll();return e||(e={top:this.position.y,right:this.position.x,bottom:this.position.y,left:this.position.x,width:0,height:0}),{anchorSize:e,bodySize:t,surfaceSize:this.dimensions,viewportDistance:{top:e.top,right:i.width-e.right,bottom:i.height-e.bottom,left:e.left},viewportSize:i,windowScroll:n}},t.prototype.getoriginCorner=function(){var e,i,n=this.originCorner,o=this.measurements,r=o.viewportDistance,a=o.anchorSize,s=o.surfaceSize,l=t.numbers.MARGIN_TO_EDGE;this.hasBit(this.anchorCorner,bm.BOTTOM)?(e=r.top-l+this.anchorMargin.bottom,i=r.bottom-l-this.anchorMargin.bottom):(e=r.top-l+this.anchorMargin.top,i=r.bottom-l+a.height-this.anchorMargin.top),!(i-s.height>0)&&e>i+this.openBottomBias&&(n=this.setBit(n,bm.BOTTOM));var c,d,u=this.adapter.isRtl(),p=this.hasBit(this.anchorCorner,bm.FLIP_RTL),h=this.hasBit(this.anchorCorner,bm.RIGHT)||this.hasBit(n,bm.RIGHT),f=!1;(f=u&&p?!h:h)?(c=r.left+a.width+this.anchorMargin.right,d=r.right-this.anchorMargin.right):(c=r.left+this.anchorMargin.left,d=r.right+a.width-this.anchorMargin.left);var m=c-s.width>0,g=d-s.width>0,v=this.hasBit(n,bm.FLIP_RTL)&&this.hasBit(n,bm.RIGHT);return g&&v&&u||!m&&v?n=this.unsetBit(n,bm.RIGHT):(m&&f&&u||m&&!f&&h||!g&&c>=d)&&(n=this.setBit(n,bm.RIGHT)),n},t.prototype.getMenuSurfaceMaxHeight=function(e){if(this.maxHeight>0)return this.maxHeight;var i=this.measurements.viewportDistance,n=0,o=this.hasBit(e,bm.BOTTOM),r=this.hasBit(this.anchorCorner,bm.BOTTOM),a=t.numbers.MARGIN_TO_EDGE;return o?(n=i.top+this.anchorMargin.top-a,r||(n+=this.measurements.anchorSize.height)):(n=i.bottom-this.anchorMargin.bottom+this.measurements.anchorSize.height-a,r&&(n-=this.measurements.anchorSize.height)),n},t.prototype.getHorizontalOriginOffset=function(e){var t=this.measurements.anchorSize,i=this.hasBit(e,bm.RIGHT),n=this.hasBit(this.anchorCorner,bm.RIGHT);if(i){var o=n?t.width-this.anchorMargin.left:this.anchorMargin.right;return this.isHoistedElement||this.isFixedPosition?o-(this.measurements.viewportSize.width-this.measurements.bodySize.width):o}return n?t.width-this.anchorMargin.right:this.anchorMargin.left},t.prototype.getVerticalOriginOffset=function(e){var t=this.measurements.anchorSize,i=this.hasBit(e,bm.BOTTOM),n=this.hasBit(this.anchorCorner,bm.BOTTOM);return i?n?t.height-this.anchorMargin.top:-this.anchorMargin.bottom:n?t.height+this.anchorMargin.bottom:this.anchorMargin.top},t.prototype.adjustPositionForHoistedElement=function(e){var t,i,n=this.measurements,o=n.windowScroll,r=n.viewportDistance,a=n.surfaceSize,s=n.viewportSize,l=Object.keys(e);try{for(var c=Nn(l),d=c.next();!d.done;d=c.next()){var u=d.value,p=e[u]||0;!this.isHorizontallyCenteredOnViewport||"left"!==u&&"right"!==u?(p+=r[u],this.isFixedPosition||("top"===u?p+=o.y:"bottom"===u?p-=o.y:"left"===u?p+=o.x:p-=o.x),e[u]=p):e[u]=(s.width-a.width)/2}}catch(h){t={error:h}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(t)throw t.error}}},t.prototype.maybeRestoreFocus=function(){var e=this,t=this.adapter.isFocused(),i=this.adapter.getOwnerDocument?this.adapter.getOwnerDocument():document,n=i.activeElement&&this.adapter.isElementInContainer(i.activeElement);(t||n)&&setTimeout(function(){e.adapter.restoreFocus()},Cm.TOUCH_EVENT_WAIT_MS)},t.prototype.hasBit=function(e,t){return Boolean(e&t)},t.prototype.setBit=function(e,t){return e|t},t.prototype.unsetBit=function(e,t){return e^t},t.prototype.isFinite=function(e){return"number"==typeof e&&isFinite(e)},t}(Vn),Em={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},_m={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list,.mdc-deprecated-list",SELECTED_EVENT:"MDCMenu:selected",SKIP_RESTORE_FOCUS:"data-menu-item-skip-restore-focus"},km={FOCUS_ROOT_INDEX:-1};
/**
   * @license
   * Copyright 2018 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */(Am=xm||(xm={}))[Am.NONE=0]="NONE",Am[Am.LIST_ROOT=1]="LIST_ROOT",Am[Am.FIRST_ITEM=2]="FIRST_ITEM",Am[Am.LAST_ITEM=3]="LAST_ITEM";
/**
   * @license
   * Copyright 2018 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
var Rm=function(e){function t(i){var n=e.call(this,Ln(Ln({},t.defaultAdapter),i))||this;return n.closeAnimationEndTimerId=0,n.defaultFocusState=xm.LIST_ROOT,n.selectedIndex=-1,n}return Fn(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Em},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return _m},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return km},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},getAttributeFromElementAtIndex:function(){return null},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.closeAnimationEndTimerId&&clearTimeout(this.closeAnimationEndTimerId),this.adapter.closeSurface()},t.prototype.handleKeydown=function(e){var t=e.key,i=e.keyCode;("Tab"===t||9===i)&&this.adapter.closeSurface(!0)},t.prototype.handleItemAction=function(e){var t=this,i=this.adapter.getElementIndex(e);if(!(i<0)){this.adapter.notifySelected({index:i});var n="true"===this.adapter.getAttributeFromElementAtIndex(i,_m.SKIP_RESTORE_FOCUS);this.adapter.closeSurface(n),this.closeAnimationEndTimerId=setTimeout(function(){var i=t.adapter.getElementIndex(e);i>=0&&t.adapter.isSelectableItemAtIndex(i)&&t.setSelectedIndex(i)},Om.numbers.TRANSITION_CLOSE_DURATION)}},t.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState){case xm.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case xm.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case xm.NONE:break;default:this.adapter.focusListRoot()}},t.prototype.setDefaultFocusState=function(e){this.defaultFocusState=e},t.prototype.getSelectedIndex=function(){return this.selectedIndex},t.prototype.setSelectedIndex=function(e){if(this.validatedIndex(e),!this.adapter.isSelectableItemAtIndex(e))throw new Error("MDCMenuFoundation: No selection group at specified index.");var t=this.adapter.getSelectedSiblingOfItemAtIndex(e);t>=0&&(this.adapter.removeAttributeFromElementAtIndex(t,_m.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(t,Em.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(e,Em.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(e,_m.ARIA_CHECKED_ATTR,"true"),this.selectedIndex=e},t.prototype.setEnabled=function(e,t){this.validatedIndex(e),t?(this.adapter.removeClassFromElementAtIndex(e,hr.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(e,_m.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(e,hr.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(e,_m.ARIA_DISABLED_ATTR,"true"))},t.prototype.validatedIndex=function(e){var t=this.adapter.getMenuItemCount();if(!(e>=0&&e<t))throw new Error("MDCMenuFoundation: No list item at specified index.")},t}(Vn),Mm={ACTIVATED:"mdc-select--activated",DISABLED:"mdc-select--disabled",FOCUSED:"mdc-select--focused",INVALID:"mdc-select--invalid",MENU_INVALID:"mdc-select__menu--invalid",OUTLINED:"mdc-select--outlined",REQUIRED:"mdc-select--required",ROOT:"mdc-select",WITH_LEADING_ICON:"mdc-select--with-leading-icon"},Dm={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",ARIA_SELECTED_ATTR:"aria-selected",CHANGE_EVENT:"MDCSelect:change",HIDDEN_INPUT_SELECTOR:'input[type="hidden"]',LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-select__icon",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",MENU_SELECTOR:".mdc-select__menu",OUTLINE_SELECTOR:".mdc-notched-outline",SELECTED_TEXT_SELECTOR:".mdc-select__selected-text",SELECT_ANCHOR_SELECTOR:".mdc-select__anchor",VALUE_ATTR:"data-value"},$m={LABEL_SCALE:.75,UNSET_INDEX:-1,CLICK_DEBOUNCE_TIMEOUT_MS:330},Bm=function(e){function t(i,n){void 0===n&&(n={});var o=e.call(this,Ln(Ln({},t.defaultAdapter),i))||this;return o.disabled=!1,o.isMenuOpen=!1,o.useDefaultValidation=!0,o.customValidity=!0,o.lastSelectedIndex=$m.UNSET_INDEX,o.clickDebounceTimeout=0,o.recentlyClicked=!1,o.leadingIcon=n.leadingIcon,o.helperText=n.helperText,o}return Fn(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Mm},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return $m},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Dm},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},activateBottomLine:function(){},deactivateBottomLine:function(){},getSelectedIndex:function(){return-1},setSelectedIndex:function(){},hasLabel:function(){return!1},floatLabel:function(){},getLabelWidth:function(){return 0},setLabelRequired:function(){},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){},setRippleCenter:function(){},notifyChange:function(){},setSelectedText:function(){},isSelectAnchorFocused:function(){return!1},getSelectAnchorAttr:function(){return""},setSelectAnchorAttr:function(){},removeSelectAnchorAttr:function(){},addMenuClass:function(){},removeMenuClass:function(){},openMenu:function(){},closeMenu:function(){},getAnchorElement:function(){return null},setMenuAnchorElement:function(){},setMenuAnchorCorner:function(){},setMenuWrapFocus:function(){},focusMenuItemAtIndex:function(){},getMenuItemCount:function(){return 0},getMenuItemValues:function(){return[]},getMenuItemTextAtIndex:function(){return""},isTypeaheadInProgress:function(){return!1},typeaheadMatchItem:function(){return-1}}},enumerable:!1,configurable:!0}),t.prototype.getSelectedIndex=function(){return this.adapter.getSelectedIndex()},t.prototype.setSelectedIndex=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1),e>=this.adapter.getMenuItemCount()||(e===$m.UNSET_INDEX?this.adapter.setSelectedText(""):this.adapter.setSelectedText(this.adapter.getMenuItemTextAtIndex(e).trim()),this.adapter.setSelectedIndex(e),t&&this.adapter.closeMenu(),i||this.lastSelectedIndex===e||this.handleChange(),this.lastSelectedIndex=e)},t.prototype.setValue=function(e,t){void 0===t&&(t=!1);var i=this.adapter.getMenuItemValues().indexOf(e);this.setSelectedIndex(i,!1,t)},t.prototype.getValue=function(){var e=this.adapter.getSelectedIndex(),t=this.adapter.getMenuItemValues();return e!==$m.UNSET_INDEX?t[e]:""},t.prototype.getDisabled=function(){return this.disabled},t.prototype.setDisabled=function(e){this.disabled=e,this.disabled?(this.adapter.addClass(Mm.DISABLED),this.adapter.closeMenu()):this.adapter.removeClass(Mm.DISABLED),this.leadingIcon&&this.leadingIcon.setDisabled(this.disabled),this.disabled?this.adapter.removeSelectAnchorAttr("tabindex"):this.adapter.setSelectAnchorAttr("tabindex","0"),this.adapter.setSelectAnchorAttr("aria-disabled",this.disabled.toString())},t.prototype.openMenu=function(){this.adapter.addClass(Mm.ACTIVATED),this.adapter.openMenu(),this.isMenuOpen=!0,this.adapter.setSelectAnchorAttr("aria-expanded","true")},t.prototype.setHelperTextContent=function(e){this.helperText&&this.helperText.setContent(e)},t.prototype.layout=function(){if(this.adapter.hasLabel()){var e=this.getValue().length>0,t=this.adapter.hasClass(Mm.FOCUSED),i=e||t,n=this.adapter.hasClass(Mm.REQUIRED);this.notchOutline(i),this.adapter.floatLabel(i),this.adapter.setLabelRequired(n)}},t.prototype.layoutOptions=function(){var e=this.adapter.getMenuItemValues().indexOf(this.getValue());this.setSelectedIndex(e,!1,!0)},t.prototype.handleMenuOpened=function(){if(0!==this.adapter.getMenuItemValues().length){var e=this.getSelectedIndex(),t=e>=0?e:0;this.adapter.focusMenuItemAtIndex(t)}},t.prototype.handleMenuClosing=function(){this.adapter.setSelectAnchorAttr("aria-expanded","false")},t.prototype.handleMenuClosed=function(){this.adapter.removeClass(Mm.ACTIVATED),this.isMenuOpen=!1,this.adapter.isSelectAnchorFocused()||this.blur()},t.prototype.handleChange=function(){this.layout(),this.adapter.notifyChange(this.getValue()),this.adapter.hasClass(Mm.REQUIRED)&&this.useDefaultValidation&&this.setValid(this.isValid())},t.prototype.handleMenuItemAction=function(e){this.setSelectedIndex(e,!0)},t.prototype.handleFocus=function(){this.adapter.addClass(Mm.FOCUSED),this.layout(),this.adapter.activateBottomLine()},t.prototype.handleBlur=function(){this.isMenuOpen||this.blur()},t.prototype.handleClick=function(e){this.disabled||this.recentlyClicked||(this.setClickDebounceTimeout(),this.isMenuOpen?this.adapter.closeMenu():(this.adapter.setRippleCenter(e),this.openMenu()))},t.prototype.handleKeydown=function(e){if(!this.isMenuOpen&&this.adapter.hasClass(Mm.FOCUSED)){var t=Do(e)===io,i=Do(e)===no,n=Do(e)===co,o=Do(e)===po;if(!(e.ctrlKey||e.metaKey)&&(!i&&e.key&&1===e.key.length||i&&this.adapter.isTypeaheadInProgress())){var r=i?" ":e.key,a=this.adapter.typeaheadMatchItem(r,this.getSelectedIndex());return a>=0&&this.setSelectedIndex(a),void e.preventDefault()}(t||i||n||o)&&(this.openMenu(),e.preventDefault())}},t.prototype.notchOutline=function(e){if(this.adapter.hasOutline()){var t=this.adapter.hasClass(Mm.FOCUSED);if(e){var i=$m.LABEL_SCALE,n=this.adapter.getLabelWidth()*i;this.adapter.notchOutline(n)}else t||this.adapter.closeOutline()}},t.prototype.setLeadingIconAriaLabel=function(e){this.leadingIcon&&this.leadingIcon.setAriaLabel(e)},t.prototype.setLeadingIconContent=function(e){this.leadingIcon&&this.leadingIcon.setContent(e)},t.prototype.getUseDefaultValidation=function(){return this.useDefaultValidation},t.prototype.setUseDefaultValidation=function(e){this.useDefaultValidation=e},t.prototype.setValid=function(e){this.useDefaultValidation||(this.customValidity=e),this.adapter.setSelectAnchorAttr("aria-invalid",(!e).toString()),e?(this.adapter.removeClass(Mm.INVALID),this.adapter.removeMenuClass(Mm.MENU_INVALID)):(this.adapter.addClass(Mm.INVALID),this.adapter.addMenuClass(Mm.MENU_INVALID)),this.syncHelperTextValidity(e)},t.prototype.isValid=function(){return this.useDefaultValidation&&this.adapter.hasClass(Mm.REQUIRED)&&!this.adapter.hasClass(Mm.DISABLED)?this.getSelectedIndex()!==$m.UNSET_INDEX&&(0!==this.getSelectedIndex()||Boolean(this.getValue())):this.customValidity},t.prototype.setRequired=function(e){e?this.adapter.addClass(Mm.REQUIRED):this.adapter.removeClass(Mm.REQUIRED),this.adapter.setSelectAnchorAttr("aria-required",e.toString()),this.adapter.setLabelRequired(e)},t.prototype.getRequired=function(){return"true"===this.adapter.getSelectAnchorAttr("aria-required")},t.prototype.init=function(){var e=this.adapter.getAnchorElement();e&&(this.adapter.setMenuAnchorElement(e),this.adapter.setMenuAnchorCorner(Tm.BOTTOM_START)),this.adapter.setMenuWrapFocus(!1),this.setDisabled(this.adapter.hasClass(Mm.DISABLED)),this.syncHelperTextValidity(!this.adapter.hasClass(Mm.INVALID)),this.layout(),this.layoutOptions()},t.prototype.blur=function(){this.adapter.removeClass(Mm.FOCUSED),this.layout(),this.adapter.deactivateBottomLine(),this.adapter.hasClass(Mm.REQUIRED)&&this.useDefaultValidation&&this.setValid(this.isValid())},t.prototype.syncHelperTextValidity=function(e){if(this.helperText){this.helperText.setValidity(e);var t=this.helperText.isVisible(),i=this.helperText.getId();t&&i?this.adapter.setSelectAnchorAttr(Dm.ARIA_DESCRIBEDBY,i):this.adapter.removeSelectAnchorAttr(Dm.ARIA_DESCRIBEDBY)}},t.prototype.setClickDebounceTimeout=function(){var e=this;clearTimeout(this.clickDebounceTimeout),this.clickDebounceTimeout=setTimeout(function(){e.recentlyClicked=!1},$m.CLICK_DEBOUNCE_TIMEOUT_MS),this.recentlyClicked=!0},t}(Vn),Fm={ARIA_HIDDEN:"aria-hidden",ROLE:"role"},Lm={HELPER_TEXT_VALIDATION_MSG:"mdc-select-helper-text--validation-msg",HELPER_TEXT_VALIDATION_MSG_PERSISTENT:"mdc-select-helper-text--validation-msg-persistent"},Nm=function(e){function t(i){return e.call(this,Ln(Ln({},t.defaultAdapter),i))||this}return Fn(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Lm},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Fm},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setAttr:function(){},getAttr:function(){return null},removeAttr:function(){},setContent:function(){}}},enumerable:!1,configurable:!0}),t.prototype.getId=function(){return this.adapter.getAttr("id")},t.prototype.isVisible=function(){return"true"!==this.adapter.getAttr(Fm.ARIA_HIDDEN)},t.prototype.setContent=function(e){this.adapter.setContent(e)},t.prototype.setValidation=function(e){e?this.adapter.addClass(Lm.HELPER_TEXT_VALIDATION_MSG):this.adapter.removeClass(Lm.HELPER_TEXT_VALIDATION_MSG)},t.prototype.setValidationMsgPersistent=function(e){e?this.adapter.addClass(Lm.HELPER_TEXT_VALIDATION_MSG_PERSISTENT):this.adapter.removeClass(Lm.HELPER_TEXT_VALIDATION_MSG_PERSISTENT)},t.prototype.getIsValidation=function(){return this.adapter.hasClass(Lm.HELPER_TEXT_VALIDATION_MSG)},t.prototype.getIsValidationMsgPersistent=function(){return this.adapter.hasClass(Lm.HELPER_TEXT_VALIDATION_MSG_PERSISTENT)},t.prototype.setValidity=function(e){if(this.adapter.hasClass(Lm.HELPER_TEXT_VALIDATION_MSG)){var t=this.adapter.hasClass(Lm.HELPER_TEXT_VALIDATION_MSG_PERSISTENT);if(!e||t)return this.showToScreenReader(),void(e?this.adapter.removeAttr(Fm.ROLE):this.adapter.setAttr(Fm.ROLE,"alert"));this.adapter.removeAttr(Fm.ROLE),this.hide()}},t.prototype.showToScreenReader=function(){this.adapter.removeAttr(Fm.ARIA_HIDDEN)},t.prototype.hide=function(){this.adapter.setAttr(Fm.ARIA_HIDDEN,"true")},t}(Vn),Pm=mi("<div><!></div>");
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */function jm(e,t){q(t,!0);const{closest:i}=Hn;let n,o=On(t,"use",19,()=>[]),r=On(t,"class",3,""),a=On(t,"open",15,!1),s=On(t,"anchorElement",15),l=On(t,"managed",3,!1),c=Cn(t,["$$slots","$$events","$$legacy","use","class","open","anchorElement","managed","children"]),d=ke(void 0),u=ke(void 0),p=ke(void 0);z("SMUI:menu-surface:mount",e=>{Gt(u)||Me(u,e,!0)});const f=W("SMUI:list:mount");z("SMUI:list:mount",e=>{Gt(p)||Me(p,e,!0),f&&f(e)});const m=W("SMUI:menu:mount"),g=W("SMUI:menu:unmount");function v(){return n.getElement()}En(()=>(Me(d,new Rm({addClassToElementAtIndex:(e,t)=>{if(null==Gt(p))throw new Error("List accessor is undefined.");Gt(p).addClassForElementIndex(e,t)},removeClassFromElementAtIndex:(e,t)=>{if(null==Gt(p))throw new Error("List accessor is undefined.");Gt(p).removeClassForElementIndex(e,t)},addAttributeToElementAtIndex:(e,t,i)=>{if(null==Gt(p))throw new Error("List accessor is undefined.");Gt(p).setAttributeForElementIndex(e,t,i)},removeAttributeFromElementAtIndex:(e,t)=>{if(null==Gt(p))throw new Error("List accessor is undefined.");Gt(p).removeAttributeForElementIndex(e,t)},getAttributeFromElementAtIndex:(e,t)=>{if(null==Gt(p))throw new Error("List accessor is undefined.");return Gt(p).getAttributeFromElementIndex(e,t)},elementContainsClass:(e,t)=>e.classList.contains(t),closeSurface:e=>{l()||(Gt(u)?.closeProgrammatic(e),Bo(v(),"SMUIMenuClosedProgrammatically"))},getElementIndex:e=>{if(null==Gt(p))throw new Error("List accessor is undefined.");return Gt(p).getOrderedList().map(e=>e.element).indexOf(e)},notifySelected:e=>{if(null==Gt(p))throw new Error("List accessor is undefined.");Bo(v(),"SMUIMenuSelected",{index:e.index,item:Gt(p).getOrderedList()[e.index].element})},getMenuItemCount:()=>{if(null==Gt(p))throw new Error("List accessor is undefined.");return Gt(p).items.length},focusItemAtIndex:e=>{if(null==Gt(p))throw new Error("List accessor is undefined.");Gt(p).focusItemAtIndex(e)},focusListRoot:()=>{if(null==Gt(p))throw new Error("List accessor is undefined.");"focus"in Gt(p).element&&Gt(p).element.focus()},isSelectableItemAtIndex:e=>{if(null==Gt(p))throw new Error("List accessor is undefined.");return!!i(Gt(p).getOrderedList()[e].element,`.${Em.MENU_SELECTION_GROUP}`)},getSelectedSiblingOfItemAtIndex:e=>{if(null==Gt(p))throw new Error("List accessor is undefined.");const t=Gt(p).getOrderedList(),n=i(t[e].element,`.${Em.MENU_SELECTION_GROUP}`),o=n?.querySelector(`.${Em.MENU_SELECTED_LIST_ITEM}`);return o?t.map(e=>e.element).indexOf(o):-1}}),!0),m&&m(Gt(d)),Gt(d).init(),()=>{g&&Gt(d)&&g(Gt(d)),Gt(d)?.destroy()}));var b={isOpen:function(){return a()},setOpen:function(e){a(e)},setDefaultFocusState:function(e){if(null==Gt(d))throw new Error("Instance is undefined.");Gt(d).setDefaultFocusState(e)},getSelectedIndex:function(){if(null==Gt(d))throw new Error("Instance is undefined.");return Gt(d).getSelectedIndex()},getMenuSurface:function(){return n},getElement:v};{let i=se(()=>$o({"mdc-menu":!0,[r()]:!0}));pn(function(e,t){q(t,!0);let i,n=On(t,"use",19,()=>[]),o=On(t,"class",3,""),r=On(t,"style",3,""),a=On(t,"static",3,!1),s=On(t,"anchor",3,!0),l=On(t,"fixed",3,!1),c=On(t,"open",31,()=>Fe(a())),d=On(t,"managed",3,!1),u=On(t,"fullWidth",3,!1),p=On(t,"quickOpen",3,!1),f=On(t,"anchorElement",15),m=On(t,"anchorMargin",19,()=>({top:0,right:0,bottom:0,left:0})),g=On(t,"maxHeight",3,0),v=On(t,"horizontallyCenteredOnViewport",3,!1),b=On(t,"openBottomBias",3,0),y=On(t,"neverRestoreFocus",3,!1),T=Cn(t,["$$slots","$$events","$$legacy","use","class","style","static","anchor","fixed","open","managed","fullWidth","quickOpen","anchorElement","anchorCorner","anchorMargin","maxHeight","horizontallyCenteredOnViewport","openBottomBias","neverRestoreFocus","children"]),w=ke(void 0),I=Fe({}),S=Fe({}),C=ke(void 0);z("SMUI:list:role","menu"),z("SMUI:list:item:role","menuitem"),nt(()=>{i&&s()&&!i.parentElement?.classList.contains("mdc-menu-surface--anchor")&&(i.parentElement?.classList.add("mdc-menu-surface--anchor"),f(i.parentElement??void 0))}),nt(()=>{Gt(w)&&Gt(w).isOpen()!==c()&&(c()?Gt(w).open():Gt(w).close())}),nt(()=>{Gt(w)&&Gt(w).setQuickOpen(p())}),nt(()=>{Gt(w)&&Gt(w).setFixedPosition(l())}),nt(()=>{Gt(w)&&Gt(w).setMaxHeight(g())}),nt(()=>{Gt(w)&&Gt(w).setIsHorizontallyCenteredOnViewport(v())});const x=Tm;nt(()=>{Gt(w)&&null!=t.anchorCorner&&("string"==typeof t.anchorCorner?Gt(w).setAnchorCorner(x[t.anchorCorner]):Gt(w).setAnchorCorner(t.anchorCorner))}),nt(()=>{Gt(w)&&Gt(w).setAnchorMargin(m())}),nt(()=>{Gt(w)&&Gt(w).setOpenBottomBias(b())});const A=W("SMUI:menu-surface:mount"),O=W("SMUI:menu-surface:unmount");function E(e){return e in I?I[e]:M().classList.contains(e)}function _(e){I[e]||(I[e]=!0)}function k(e){e in I&&!I[e]||(I[e]=!1)}function R(e){Gt(w)?.close(e),c(!1)}function M(){return i}En(()=>{Me(w,new Om({addClass:_,removeClass:k,hasClass:E,hasAnchor:()=>!!f(),notifyClose:()=>{d()||c(a()),c()||Bo(M(),"SMUIMenuSurfaceClosed")},notifyClosing:()=>{d()||c(a()),c()||Bo(M(),"SMUIMenuSurfaceClosing")},notifyOpen:()=>{d()||c(!0),c()&&Bo(M(),"SMUIMenuSurfaceOpened")},notifyOpening:()=>{c()||Bo(M(),"SMUIMenuSurfaceOpening")},isElementInContainer:e=>M().contains(e),isRtl:()=>"rtl"===getComputedStyle(M()).getPropertyValue("direction"),setTransformOrigin:e=>{S["transform-origin"]=e},isFocused:()=>document.activeElement===M(),saveFocus:()=>{Me(C,document.activeElement??void 0,!0)},restoreFocus:()=>{!y()&&(!i||M().contains(document.activeElement))&&Gt(C)&&document.contains(Gt(C))&&"focus"in Gt(C)&&Gt(C).focus()},getInnerDimensions:()=>({width:M().offsetWidth,height:M().offsetHeight}),getAnchorDimensions:()=>f()?f().getBoundingClientRect():null,getWindowDimensions:()=>({width:window.innerWidth,height:window.innerHeight}),getBodyDimensions:()=>({width:document.body.clientWidth,height:document.body.clientHeight}),getWindowScroll:()=>({x:window.pageXOffset,y:window.pageYOffset}),setPosition:e=>{S.left="left"in e?`${e.left}px`:"",S.right="right"in e?`${e.right}px`:"",S.top="top"in e?`${e.top}px`:"",S.bottom="bottom"in e?`${e.bottom}px`:""},setMaxHeight:e=>{S["max-height"]=e}}),!0);const e={get open(){return c()},set open(e){c(e)},closeProgrammatic:R};return A&&A(e),Gt(w).init(),()=>{O&&O(e);const t=Gt(w).isHoistedElement;Gt(w)?.destroy(),t&&M().parentNode?.removeChild(M())}}),_n(()=>{s()&&M()&&M().parentElement?.classList.remove("mdc-menu-surface--anchor")});var D={isOpen:function(){return c()},setOpen:function(e){c(e)},setAbsolutePosition:function(e,t){if(null==Gt(w))throw new Error("Instance is not defined.");return Gt(w).setAbsolutePosition(e,t)},setIsHoisted:function(e){if(null==Gt(w))throw new Error("Instance is not defined.");return Gt(w).setIsHoisted(e)},isFixed:function(){if(null==Gt(w))throw new Error("Instance is not defined.");return Gt(w).isFixed()},flipCornerHorizontally:function(){if(null==Gt(w))throw new Error("Instance is not defined.");return Gt(w).flipCornerHorizontally()},getElement:M},$=Pm();ci("click",je.body,function(e){Gt(w)&&c()&&!d()&&Gt(w).handleBodyClick(e)},!0);var B=e=>{Gt(w)&&!d()&&Gt(w).handleKeydown(e),t.onkeydown?.(e)};return en($,(e,t)=>({class:e,style:t,role:"dialog",...T,onkeydown:B}),[()=>$o({"mdc-menu-surface":!0,"mdc-menu-surface--fixed":l(),"mdc-menu-surface--open":a(),"smui-menu-surface--static":a(),"mdc-menu-surface--fullwidth":u(),...I,[o()]:!0}),()=>Object.entries(S).map(([e,t])=>`${e}: ${t};`).concat([r()]).join(" ")]),Di(Ge($),()=>t.children??h),pn($,e=>i=e,()=>i),Fi($,(e,t)=>Po?.(e,t),n),Ti(e,$),G(D)}(e,An({get use(){return o()},get class(){return Gt(i)},get managed(){return l()}},()=>c,{onkeydown:e=>{var i;i=e,Gt(d)&&Gt(d).handleKeydown(i),t.onkeydown?.(e)},onSMUIMenuSurfaceOpened:e=>{Gt(d)&&Gt(d).handleMenuSurfaceOpened(),t.onSMUIMenuSurfaceOpened?.(e)},onSMUIListAction:e=>{Gt(d)&&Gt(p)&&Gt(d).handleItemAction(Gt(p).getOrderedList()[e.detail.index].element),t.onSMUIListAction?.(e)},get open(){return a()},set open(e){a(e)},get anchorElement(){return s()},set anchorElement(e){s(e)},children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}})),e=>n=e,()=>n)}return G(b)}let Vm=0;var Um=mi("<div><!></div>");let Hm=0;var Wm=mi("<input/>"),zm=mi('<span class="mdc-select__ripple"></span>'),qm=mi('<div><!> <div><!> <!> <!> <!> <span><span> </span></span> <span><svg class="mdc-select__dropdown-icon-graphic" viewBox="7 10 10 5" focusable="false"><polygon class="mdc-select__dropdown-icon-inactive" stroke="none" fill-rule="evenodd" points="7 10 12 15 17 10"></polygon><polygon class="mdc-select__dropdown-icon-active" stroke="none" fill-rule="evenodd" points="7 15 12 10 17 15"></polygon></svg></span> <!></div> <!></div> <!>',1);function Gm(e,t){q(t,!0);const i=()=>Tn(ue,"$selectedTextStore",n),[n,o]=In();let r=()=>{};function a(e){return e===r}let s=On(t,"use",19,()=>[]),l=On(t,"class",3,""),c=On(t,"style",3,""),d=On(t,"ripple",3,!0),u=On(t,"disabled",3,!1),p=On(t,"variant",3,"standard"),f=On(t,"noLabel",3,!1),m=On(t,"label",3,void 0),g=On(t,"value",15),v=On(t,"key",3,e=>e),b=On(t,"dirty",15,!1),y=On(t,"invalid",15,r),T=On(t,"updateInvalid",19,()=>a(y())),w=On(t,"required",3,!1),I=On(t,"inputId",19,()=>"SMUI-select-"+Hm++),S=On(t,"hiddenInput",3,!1),C=On(t,"withLeadingIcon",3,r),x=On(t,"anchor$use",19,()=>[]),A=On(t,"anchor$class",3,""),O=On(t,"selectedTextContainer$use",19,()=>[]),E=On(t,"selectedTextContainer$class",3,""),_=On(t,"selectedText$use",19,()=>[]),k=On(t,"selectedText$class",3,""),R=On(t,"dropdownIcon$use",19,()=>[]),M=On(t,"dropdownIcon$class",3,""),D=On(t,"menu$class",3,""),$=On(t,"alwaysFloat",3,!1),B=Cn(t,["$$slots","$$events","$$legacy","use","class","style","ripple","disabled","variant","noLabel","label","value","key","dirty","invalid","updateInvalid","required","inputId","hiddenInput","withLeadingIcon","anchor$use","anchor$class","selectedTextContainer$use","selectedTextContainer$class","selectedText$use","selectedText$class","dropdownIcon$use","dropdownIcon$class","menu$class","children","leadingIcon","helperText","alwaysFloat"]);const F=a(y());let L;a(y())&&y(!1);let N,P=ke(void 0),j=Fe({}),V=Fe({}),U=Fe({}),H=ke(-1);const X=se(()=>void 0!==B.menu$id?B.menu$id:I()+"-menu");let K,Z,Y,Q,J=ke(void 0),ee=W("SMUI:addLayoutListener"),te=ke(!1),ie=Fe({}),ne=ke(void 0),oe=ke(void 0),re=ke(!1),ae=W("SMUI:select:context"),le=ke(void 0),ce=ke(void 0),de=ke(void 0);z("SMUI:list:role",""),z("SMUI:list:nav",!1);const ue=gn("");z("SMUI:select:selectedText",ue);const pe=gn(g());nt(()=>{wn(pe,g())}),z("SMUI:select:value",pe),nt(()=>{Gt(P)&&Gt(P).getValue()!==v()(g())&&Gt(P).setValue(v()(g()))});let he=Gt(H);function fe(e){return e in j?j[e]:Ae().classList.contains(e)}function me(e){j[e]||(j[e]=!0)}function ge(e){e in j&&!j[e]||(j[e]=!1)}function ve(e,t){V[e]!=t&&(""===t||null==t?delete V[e]:V[e]=t)}function be(e){ie[e]||(ie[e]=!0)}function ye(e){e in ie&&!ie[e]||(ie[e]=!1)}function Te(e){return e in U?void 0!==U[e]?U[e]:null:Ae().getAttribute(e)}function we(e,t){U[e]!==t&&(U[e]=t)}function Ie(e){e in U&&null==U[e]||(U[e]=void 0)}function Se(){return Z.getOrderedList().map(e=>e.getValue())}function Ce(e){Gt(P)?.setUseDefaultValidation(e)}function xe(){Gt(P)?.layout()}function Ae(){return L}nt(()=>{if(he!==Gt(H))if(he=Gt(H),Gt(P))Gt(P).setSelectedIndex(Gt(H),!1,!0);else{const e=Se();g()!==e[Gt(H)]&&g(e[Gt(H)])}}),nt(()=>{Gt(P)&&Gt(P).getDisabled()!==u()&&Gt(P).setDisabled(u())}),nt(()=>{Gt(P)&&b()&&Gt(P).isValid()!==!y()&&(T()?y(!Gt(P).isValid()):Gt(P).setValid(!y()))}),nt(()=>{Gt(P)&&Gt(P).getRequired()!==w()&&Gt(P).setRequired(w())}),ee&&(K=ee(xe)),z("SMUI:select:leading-icon:mount",e=>{Y=e}),z("SMUI:select:leading-icon:unmount",()=>{Y=void 0}),z("SMUI:list:mount",e=>{Z=e}),z("SMUI:select:helper-text:id",e=>{Me(J,e,!0)}),z("SMUI:select:helper-text:mount",e=>{Q=e}),z("SMUI:select:helper-text:unmount",()=>{Me(J,void 0),Q=void 0}),En(()=>(Me(P,new Bm({setSelectedText:e=>{wn(ue,e)},isSelectAnchorFocused:()=>document.activeElement===N,getSelectAnchorAttr:Te,setSelectAnchorAttr:we,removeSelectAnchorAttr:Ie,addMenuClass:be,removeMenuClass:ye,openMenu:()=>{Me(te,!0)},closeMenu:()=>{Me(te,!1)},getAnchorElement:()=>N,setMenuAnchorElement:e=>{Me(ne,e,!0)},setMenuAnchorCorner:e=>{Me(oe,e,!0)},setMenuWrapFocus:e=>{Me(re,e,!0)},getSelectedIndex:()=>Gt(H),setSelectedIndex:e=>{he=e,Me(H,e,!0),g(Se()[Gt(H)])},focusMenuItemAtIndex:e=>{Z.focusItemAtIndex(e)},getMenuItemCount:()=>Z.items.length,getMenuItemValues:()=>Se().map(v()),getMenuItemTextAtIndex:e=>Z.getPrimaryTextAtIndex(e),isTypeaheadInProgress:()=>Z.typeaheadInProgress,typeaheadMatchItem:(e,t)=>Z.typeaheadMatchItem(e,t),addClass:me,removeClass:ge,hasClass:fe,setRippleCenter:e=>Gt(ce)&&Gt(ce).setRippleCenter(e),activateBottomLine:()=>Gt(ce)&&Gt(ce).activate(),deactivateBottomLine:()=>Gt(ce)&&Gt(ce).deactivate(),notifyChange:e=>{b(!0),T()&&y(!Gt(P)?.isValid()),Bo(Ae(),"SMUISelectChange",{value:g(),index:Gt(H)})},hasOutline:()=>!!Gt(de),notchOutline:e=>Gt(de)&&Gt(de).notch(e),closeOutline:()=>Gt(de)&&Gt(de).closeNotch(),hasLabel:()=>!!Gt(le),floatLabel:e=>Gt(le)&&Gt(le).float(e||$()),getLabelWidth:()=>Gt(le)?Gt(le).getWidth():0,setLabelRequired:e=>Gt(le)&&Gt(le).setRequired(e)},{get helperText(){return Q},get leadingIcon(){return Y}}),!0),Me(H,Se().indexOf(g()),!0),Gt(P).init(),Ce(F),()=>{Gt(P)?.destroy()})),_n(()=>{K&&K()});var Oe={getUseDefaultValidation:function(){if(null==Gt(P))throw new Error("Instance is undefined.");return Gt(P).getUseDefaultValidation()},setUseDefaultValidation:Ce,focus:function(){N.focus()},layout:xe,getElement:Ae},Ee=qm(),_e=Xe(Ee);en(_e,(e,t,i)=>({class:e,style:t,...i}),[()=>$o({"mdc-select":!0,"mdc-select--required":w(),"mdc-select--disabled":u(),"mdc-select--filled":"filled"===p(),"mdc-select--outlined":"outlined"===p(),"smui-select--standard":"standard"===p(),"mdc-select--with-leading-icon":a(C())?t.leadingIcon:C(),"mdc-select--no-label":f()||null==m(),"mdc-select--invalid":y(),"mdc-select--activated":Gt(te),"mdc-data-table__pagination-rows-per-page-select":"data-table:pagination"===ae,...j,[l()]:!0}),()=>Object.entries(V).map(([e,t])=>`${e}: ${t};`).concat([c()]).join(" "),()=>Fo(B,["input$","anchor$","label$","outline$","selectedTextContainer$","selectedText$","dropdownIcon$","ripple$","menu$","list$","helperText$"])]);var Re=Ge(_e),De=e=>{var t=Wm();en(t,e=>({type:"hidden",required:w(),disabled:u(),value:g(),...e}),[()=>Lo(B,"input$")],void 0,void 0,!0),Ti(e,t)};Ci(Re,e=>{S()&&e(De)});var $e=Ke(Re,2),Be=e=>{N.focus(),Gt(P)&&Gt(P).handleClick(function(e){const t=e.currentTarget.getBoundingClientRect();return(function(e){return"touches"in e}(e)?e.touches[0].clientX:e.clientX)-t.left}(e)),t.anchor$onclick?.(e)},Le=e=>{Gt(P)&&Gt(P).handleKeydown(e),t.onkeydown?.(e)},Ne=e=>{Gt(P)&&Gt(P).handleBlur(),Bo(Ae(),"blur",e),t.anchor$onblur?.(e)},Pe=e=>{Gt(P)&&Gt(P).handleFocus(),Bo(Ae(),"focus",e),t.anchor$onfocus?.(e)};en($e,(e,t)=>({class:e,"aria-required":w()?"true":void 0,"aria-disabled":u()?"true":void 0,"aria-controls":Gt(X),"aria-expanded":Gt(te)?"true":"false","aria-describedby":Gt(J),role:"combobox",tabindex:"0",...U,...t,onclick:Be,onkeydown:Le,onblur:Ne,onfocus:Pe}),[()=>$o({[A()]:!0,"mdc-select__anchor":!0}),()=>Lo(B,"anchor$")]);var je=Ge($e),Ve=e=>{Ti(e,zm())};Ci(je,e=>{"filled"===p()&&e(Ve)});var Ue=Ke(je,2),He=e=>{{let t=se(()=>I()+"-smui-label"),n=se(()=>""!==i()||$()),o=se(()=>Lo(B,"label$"));pn(Xf(e,An({get id(){return Gt(t)},get floatAbove(){return Gt(n)},get required(){return w()}},()=>Gt(o),{children:(e,t)=>{var i=yi(),n=Xe(i),o=e=>{},r=e=>{var t=yi(),i=Xe(t),n=e=>{var t=bi();st(()=>wi(t,m())),Ti(e,t)},o=e=>{var t=yi();Di(Xe(t),m),Ti(e,t)};Ci(i,e=>{"string"==typeof m()?e(n):e(o,!1)},!0),Ti(e,t)};Ci(n,e=>{null==m()?e(o):e(r,!1)}),Ti(e,i)},$$slots:{default:!0}})),e=>Me(le,e,!0),()=>Gt(le))}};Ci(Ue,e=>{"outlined"===p()||f()||null==m()||e(He)});var We=Ke(Ue,2),ze=e=>{{let t=se(()=>f()||null==m()),n=se(()=>Lo(B,"outline$"));pn(Jf(e,An({get noLabel(){return Gt(t)}},()=>Gt(n),{children:(e,t)=>{var n=yi(),o=Xe(n),r=e=>{{let t=se(()=>I()+"-smui-label"),n=se(()=>""!==i()||$()),o=se(()=>Lo(B,"label$"));pn(Xf(e,An({get id(){return Gt(t)},get floatAbove(){return Gt(n)},get required(){return w()}},()=>Gt(o),{children:(e,t)=>{var i=yi(),n=Xe(i),o=e=>{},r=e=>{var t=yi(),i=Xe(t),n=e=>{var t=bi();st(()=>wi(t,m())),Ti(e,t)},o=e=>{var t=yi();Di(Xe(t),m),Ti(e,t)};Ci(i,e=>{"string"==typeof m()?e(n):e(o,!1)},!0),Ti(e,t)};Ci(n,e=>{null==m()?e(o):e(r,!1)}),Ti(e,i)},$$slots:{default:!0}})),e=>Me(le,e,!0),()=>Gt(le))}};Ci(o,e=>{f()||null==m()||e(r)}),Ti(e,n)},$$slots:{default:!0}})),e=>Me(de,e,!0),()=>Gt(de))}};Ci(We,e=>{"outlined"===p()&&e(ze)});var qe=Ke(We,2);Di(qe,()=>t.leadingIcon??h);var Ze=Ke(qe,2);en(Ze,(e,t)=>({class:e,...t}),[()=>$o({[E()]:!0,"mdc-select__selected-text-container":!0}),()=>Lo(B,"selectedTextContainer$")]);var Ye=Ge(Ze);en(Ye,(e,t)=>({id:I()+"-smui-selected-text",class:e,role:"button","aria-haspopup":"listbox","aria-labelledby":I()+"-smui-label",...t}),[()=>$o({[k()]:!0,"mdc-select__selected-text":!0}),()=>Lo(B,"selectedText$")]);var Qe=Ge(Ye);Fi(Ye,(e,t)=>Po?.(e,t),_),Fi(Ze,(e,t)=>Po?.(e,t),O);var Je=Ke(Ze,2);en(Je,(e,t)=>({class:e,...t}),[()=>$o({[M()]:!0,"mdc-select__dropdown-icon":!0}),()=>Lo(B,"dropdownIcon$")]),Fi(Je,(e,t)=>Po?.(e,t),R);var et=Ke(Je,2),tt=e=>{{let t=se(()=>Lo(B,"ripple$"));pn(Zf(e,An(()=>Gt(t))),e=>Me(ce,e,!0),()=>Gt(ce))}};Ci(et,e=>{"outlined"!==p()&&d()&&e(tt)}),pn($e,e=>N=e,()=>N),Fi($e,(e,t)=>Po?.(e,t),x);var it=Ke($e,2);{let e=se(()=>$o({[D()]:!0,"mdc-select__menu":!0,...ie})),i=se(()=>Lo(B,"menu$"));jm(it,An({get class(){return Gt(e)},get id(){return Gt(X)},fullWidth:!0,anchor:!1,get anchorElement(){return Gt(ne)},get anchorCorner(){return Gt(oe)}},()=>Gt(i),{onSMUIMenuSelected:e=>{Gt(P)&&Gt(P).handleMenuItemAction(e.detail.index),t.onSMUIMenuSelected?.(e)},onSMUIMenuSurfaceClosing:e=>{Gt(P)&&Gt(P).handleMenuClosing(),t.onSMUIMenuSurfaceClosing?.(e)},onSMUIMenuSurfaceClosed:e=>{Gt(P)&&Gt(P).handleMenuClosed(),t.onSMUIMenuSurfaceClosed?.(e)},onSMUIMenuSurfaceOpened:e=>{Gt(P)&&Gt(P).handleMenuOpened(),t.onSMUIMenuSurfaceOpened?.(e)},get open(){return Gt(te)},set open(e){Me(te,e,!0)},children:(e,i)=>{{let i=se(()=>Lo(B,"list$"));Nr(e,An({role:"listbox",get wrapFocus(){return Gt(re)}},()=>Gt(i),{style:"max-height: 296px",get selectedIndex(){return Gt(H)},set selectedIndex(e){Me(H,e,!0)},children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}}))}},$$slots:{default:!0}}))}pn(_e,e=>L=e,()=>L),Fi(_e,(e,t)=>sr?.(e,t),()=>({ripple:"filled"===p(),unbounded:!1,addClass:me,removeClass:ge,addStyle:ve})),Fi(_e,(e,t)=>function(e,{addClass:t=t=>e.classList.add(t),removeClass:i=t=>e.classList.remove(t)}={}){return t("mdc-menu-surface--anchor"),{destroy(){i("mdc-menu-surface--anchor")}}}?.(e,t),()=>({addClass:me,removeClass:ge})),Fi(_e,(e,t)=>Po?.(e,t),s);var ot=Ke(_e,2),rt=e=>{{let i=se(()=>Lo(B,"helperText$"));!function(e,t){q(t,!0);let i,n=On(t,"use",19,()=>[]),o=On(t,"class",3,""),r=On(t,"id",19,()=>"SMUI-select-helper-text-"+Vm++),a=On(t,"persistent",3,!1),s=On(t,"validationMsg",3,!1),l=Cn(t,["$$slots","$$events","$$legacy","use","class","id","persistent","validationMsg","children"]),c=ke(void 0),d=Fe({}),u=Fe({}),p=ke(void 0);const f=W("SMUI:select:helper-text:id"),m=W("SMUI:select:helper-text:mount"),g=W("SMUI:select:helper-text:unmount");function v(e){return e in d?d[e]:S().classList.contains(e)}function b(e){d[e]||(d[e]=!0)}function y(e){e in d&&!d[e]||(d[e]=!1)}function T(e){return e in u?void 0!==u[e]?u[e]:null:S().getAttribute(e)}function w(e,t){u[e]!==t&&(u[e]=t)}function I(e){e in u&&null==u[e]||(u[e]=void 0)}function S(){return i}En(()=>(Me(c,new Nm({addClass:b,removeClass:y,hasClass:v,getAttr:T,setAttr:w,removeAttr:I,setContent:e=>{Me(p,e,!0)}}),!0),f&&f(r()),m&&m(Gt(c)),Gt(c).init(),()=>{g&&Gt(c)&&g(Gt(c)),Gt(c)?.destroy()}));var C={getElement:S},x=Um();en(x,e=>({class:e,"aria-hidden":a()?void 0:"true",id:r(),...u,...l}),[()=>$o({"mdc-select-helper-text":!0,"mdc-select-helper-text--validation-msg":s(),"mdc-select-helper-text--validation-msg-persistent":a(),...d,[o()]:!0})]);var A=Ge(x),O=e=>{var i=yi();Di(Xe(i),()=>t.children??h),Ti(e,i)},E=e=>{var t=bi();st(()=>wi(t,Gt(p))),Ti(e,t)};Ci(A,e=>{null==Gt(p)?e(O):e(E,!1)}),pn(x,e=>i=e,()=>i),Fi(x,(e,t)=>Po?.(e,t),n),Ti(e,x),G(C)}(e,An(()=>Gt(i),{children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.helperText??h),Ti(e,n)},$$slots:{default:!0}}))}};Ci(ot,e=>{t.helperText&&e(rt)}),st(()=>wi(Qe,i())),Ti(e,Ee);var at=G(Oe);return o(),at}function Xm(e,t){q(t,!0);const[i,n]=In();let o=On(t,"use",19,()=>[]);On(t,"class",3,"");let r,a=On(t,"value",3,""),s=Cn(t,["$$slots","$$events","$$legacy","use","class","value","children"]);const l=W("SMUI:select:selectedText"),c=W("SMUI:select:value");z("SMUI:list:item:role","option");const d=se(()=>null!=a()&&""!==a()&&Tn(c,"$selectedValue",i)===a());function u(){Gt(d)&&r&&wn(l,r.getPrimaryText())}En(u),_n(u);var p={getElement:function(){return r.getElement()}};pn(Ur(e,An({get use(){return o()},get"data-value"(){return a()},get value(){return a()},get selected(){return Gt(d)}},()=>s,{children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}})),e=>r=e,()=>r);var f=G(p);return n(),f}
/**
   * @license
   * Copyright 2018 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */var Km={ACTIVE:"mdc-tab-indicator--active",FADE:"mdc-tab-indicator--fade",NO_TRANSITION:"mdc-tab-indicator--no-transition"},Zm={CONTENT_SELECTOR:".mdc-tab-indicator__content"},Ym=function(e){function t(i){return e.call(this,Ln(Ln({},t.defaultAdapter),i))||this}return Fn(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Km},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Zm},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},computeContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},setContentStyleProperty:function(){}}},enumerable:!1,configurable:!0}),t.prototype.computeContentClientRect=function(){return this.adapter.computeContentClientRect()},t}(Vn),Qm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fn(t,e),t.prototype.activate=function(){this.adapter.addClass(Ym.cssClasses.ACTIVE)},t.prototype.deactivate=function(){this.adapter.removeClass(Ym.cssClasses.ACTIVE)},t}(Ym),Jm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fn(t,e),t.prototype.activate=function(e){if(e){var t=this.computeContentClientRect(),i=e.width/t.width,n=e.left-t.left;this.adapter.addClass(Ym.cssClasses.NO_TRANSITION),this.adapter.setContentStyleProperty("transform","translateX("+n+"px) scaleX("+i+")"),this.computeContentClientRect(),this.adapter.removeClass(Ym.cssClasses.NO_TRANSITION),this.adapter.addClass(Ym.cssClasses.ACTIVE),this.adapter.setContentStyleProperty("transform","")}else this.adapter.addClass(Ym.cssClasses.ACTIVE)},t.prototype.deactivate=function(){this.adapter.removeClass(Ym.cssClasses.ACTIVE)},t}(Ym),eg={ACTIVE:"mdc-tab--active"},tg={ARIA_SELECTED:"aria-selected",CONTENT_SELECTOR:".mdc-tab__content",INTERACTED_EVENT:"MDCTab:interacted",RIPPLE_SELECTOR:".mdc-tab__ripple",TABINDEX:"tabIndex",TAB_INDICATOR_SELECTOR:".mdc-tab-indicator"},ig=function(e){function t(i){var n=e.call(this,Ln(Ln({},t.defaultAdapter),i))||this;return n.focusOnActivate=!0,n}return Fn(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return eg},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return tg},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setAttr:function(){},activateIndicator:function(){},deactivateIndicator:function(){},notifyInteracted:function(){},getOffsetLeft:function(){return 0},getOffsetWidth:function(){return 0},getContentOffsetLeft:function(){return 0},getContentOffsetWidth:function(){return 0},focus:function(){}}},enumerable:!1,configurable:!0}),t.prototype.handleClick=function(){this.adapter.notifyInteracted()},t.prototype.isActive=function(){return this.adapter.hasClass(eg.ACTIVE)},t.prototype.setFocusOnActivate=function(e){this.focusOnActivate=e},t.prototype.activate=function(e){this.adapter.addClass(eg.ACTIVE),this.adapter.setAttr(tg.ARIA_SELECTED,"true"),this.adapter.setAttr(tg.TABINDEX,"0"),this.adapter.activateIndicator(e),this.focusOnActivate&&this.adapter.focus()},t.prototype.deactivate=function(){this.isActive()&&(this.adapter.removeClass(eg.ACTIVE),this.adapter.setAttr(tg.ARIA_SELECTED,"false"),this.adapter.setAttr(tg.TABINDEX,"-1"),this.adapter.deactivateIndicator())},t.prototype.computeDimensions=function(){var e=this.adapter.getOffsetWidth(),t=this.adapter.getOffsetLeft(),i=this.adapter.getContentOffsetWidth(),n=this.adapter.getContentOffsetLeft();return{contentLeft:t+n,contentRight:t+n+i,rootLeft:t,rootRight:t+e}},t}(Vn),ng=mi("<span><span><!></span></span>");function og(e,t){q(t,!0);let i,n,o=On(t,"use",19,()=>[]),r=On(t,"class",3,""),a=On(t,"active",15,!1),s=On(t,"type",3,"underline"),l=On(t,"transition",3,"slide"),c=On(t,"content$use",19,()=>[]),d=On(t,"content$class",3,""),u=Cn(t,["$$slots","$$events","$$legacy","use","class","active","type","transition","content$use","content$class","children"]),p=ke(void 0),f=ke(Fe({})),m=ke(Fe({})),g=Fe([]),v=l();var b;function y(){return new({fade:Qm,slide:Jm}[l()]||Jm)({addClass:(...e)=>T(()=>function(e){Gt(f)[e]||(Gt(f)[e]=!0)}(...e)),removeClass:(...e)=>T(()=>function(e){e in Gt(f)&&!Gt(f)[e]||(Gt(f)[e]=!1)}(...e)),computeContentClientRect:w,setContentStyleProperty:(...e)=>T(()=>function(e,t){Gt(m)[e]!=t&&(""===t||null==t?delete Gt(m)[e]:Gt(m)[e]=t)}(...e))})}function T(e){g.length?g[g.length-1].push(e):e()}function w(){return g.push([]),n.getBoundingClientRect()}nt(()=>{v!==l()&&(v=l(),Gt(p)&&Gt(p).destroy(),Me(f,{},!0),Me(m,{},!0),Me(p,y(),!0),Gt(p).init())}),b=()=>{g.length&&requestAnimationFrame(()=>{const e=g.shift()??[];for(const t of e)t()})},et(),tt(1048584,b,!0),En(()=>(Me(p,y(),!0),Gt(p).init(),()=>{Gt(p)?.destroy()}));var I={activate:function(e){a(!0),Gt(p)?.activate(e)},deactivate:function(){a(!1),Gt(p)?.deactivate()},computeContentClientRect:w,getElement:function(){return i}},S=ng();en(S,(e,t)=>({class:e,...t}),[()=>$o({"mdc-tab-indicator":!0,"mdc-tab-indicator--active":a(),"mdc-tab-indicator--fade":"fade"===l(),...Gt(f),[r()]:!0}),()=>Fo(u,["content$"])]);var C=Ge(S);return en(C,(e,t,i)=>({class:e,style:t,"aria-hidden":"icon"===s()?"true":void 0,...i}),[()=>$o({"mdc-tab-indicator__content":!0,"mdc-tab-indicator__content--underline":"underline"===s(),"mdc-tab-indicator__content--icon":"icon"===s(),[d()]:!0}),()=>Object.entries(Gt(m)).map(([e,t])=>`${e}: ${t};`).join(" "),()=>Lo(u,"content$")]),Di(Ge(C),()=>t.children??h),pn(C,e=>n=e,()=>n),Fi(C,(e,t)=>Po?.(e,t),c),pn(S,e=>i=e,()=>i),Fi(S,(e,t)=>Po?.(e,t),o),Ti(e,S),G(I)}var rg=mi('<span><!> <!></span> <!> <span class="mdc-tab__ripple"></span>',1);function ag(e,t){q(t,!0);const i=e=>{{let i=se(()=>Lo(y,"tabIndicator$"));pn(og(e,An(()=>Gt(i),{get active(){return Gt(A)},set active(e){Me(A,e,!0)},children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.tabIndicator??h),Ti(e,n)},$$slots:{default:!0}})),e=>r=e,()=>r)}};let n,o,r,a=On(t,"use",19,()=>[]),s=On(t,"class",3,""),l=On(t,"style",3,""),c=On(t,"ripple",3,!0),d=On(t,"stacked",3,!1),u=On(t,"minWidth",3,!1),p=On(t,"indicatorSpanOnlyContent",3,!1),f=On(t,"href",3,void 0),m=On(t,"content$use",19,()=>[]),g=On(t,"content$class",3,""),v=On(t,"component",3,qo),b=On(t,"tag",19,()=>null==f()?"button":"a"),y=Cn(t,["$$slots","$$events","$$legacy","use","class","style","tab","ripple","stacked","minWidth","indicatorSpanOnlyContent","href","content$use","content$class","component","tag","children","tabIndicator"]),T=ke(void 0),w=Fe({}),I=Fe({}),S=Fe({}),C=W("SMUI:tab:focusOnActivate");const x=W("SMUI:tab:initialActive");let A=ke(Fe(null!=x.active&&x.key(t.tab)===x.active)),O=ke(!1);if(z("SMUI:label:context","tab"),z("SMUI:icon:context","tab"),!t.tab)throw new Error("The tab property is required! It should be passed down from the TabBar to the Tab.");let E=!1;nt(()=>{Gt(T)?E||(E=!0,Gt(T).setFocusOnActivate(C)):E=!1});const _=W("SMUI:tab:mount"),k=W("SMUI:tab:unmount");function R(e){return e in w?w[e]:P().classList.contains(e)}function M(e){w[e]||(w[e]=!0)}function D(e){e in w&&!w[e]||(w[e]=!1)}function $(e,t){I[e]!=t&&(""===t||null==t?delete I[e]:I[e]=t)}function B(e,t){S[e]!==t&&(S[e]=t)}function F(e,t){Me(A,!0),t&&Gt(T)?.setFocusOnActivate(!1),Gt(T)?.activate(e),t&&Gt(T)?.setFocusOnActivate(C)}function L(){Me(A,!1),Gt(T)?.deactivate()}function N(){P().focus()}function P(){return n.getElement()}En(()=>{Me(T,new ig({setAttr:B,addClass:M,removeClass:D,hasClass:R,activateIndicator:e=>r.activate(e),deactivateIndicator:()=>r.deactivate(),notifyInteracted:()=>Bo(P(),"SMUITabInteracted",{tabId:t.tab}),getOffsetLeft:()=>P().offsetLeft,getOffsetWidth:()=>P().offsetWidth,getContentOffsetLeft:()=>o.offsetLeft,getContentOffsetWidth:()=>o.offsetWidth,focus:N}),!0);const e={tabId:t.tab,get element(){return P()},get active(){return Gt(A)},forceAccessible(e){Me(O,e,!0)},computeIndicatorClientRect:()=>r.computeContentClientRect(),computeDimensions:()=>{if(null==Gt(T))throw new Error("Instance is undefined.");return Gt(T).computeDimensions()},focus:N,activate:F,deactivate:L};return _&&_(e),Gt(T).init(),()=>{k&&k(e),Gt(T)?.destroy()}});var j={activate:F,deactivate:L,focus:N,getElement:P},V=yi(),U=Xe(V);{let e=se(()=>[[sr,{ripple:c(),unbounded:!1,addClass:M,removeClass:D,addStyle:$}],...a()]),r=se(()=>$o({"mdc-tab":!0,"mdc-tab--active":Gt(A),"mdc-tab--stacked":d(),"mdc-tab--min-width":u(),...w,[s()]:!0})),C=se(()=>Object.entries(I).map(([e,t])=>`${e}: ${t};`).concat([l()]).join(" ")),x=se(()=>Gt(A)?"true":"false"),E=se(()=>Gt(A)||Gt(O)?"0":"-1"),_=se(()=>Fo(y,["content$","tabIndicator$"]));$i(U,v,(a,s)=>{pn(s(a,An({get tag(){return b()},get use(){return Gt(e)},get class(){return Gt(r)},get style(){return Gt(C)},role:"tab",get"aria-selected"(){return Gt(x)},get tabindex(){return Gt(E)},get href(){return f()}},()=>S,()=>Gt(_),{onclick:e=>{t.onclick?.(e),!e.defaultPrevented&&Gt(T)&&Gt(T).handleClick()},children:(e,n)=>{var r=rg(),a=Xe(r);en(a,(e,t)=>({class:e,...t}),[()=>$o({"mdc-tab__content":!0,[g()]:!0}),()=>Lo(y,"content$")]);var s=Ge(a);Di(s,()=>t.children??h);var l=Ke(s,2),c=e=>{i(e)};Ci(l,e=>{p()&&e(c)}),pn(a,e=>o=e,()=>o),Fi(a,(e,t)=>Po?.(e,t),m);var d=Ke(a,2),u=e=>{i(e)};Ci(d,e=>{p()||e(u)}),Ti(e,r)},$$slots:{default:!0}})),e=>n=e,()=>n)})}return Ti(e,V),G(j)}
/**
   * @license
   * Copyright 2018 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */var sg,lg={ANIMATING:"mdc-tab-scroller--animating",SCROLL_AREA_SCROLL:"mdc-tab-scroller__scroll-area--scroll",SCROLL_TEST:"mdc-tab-scroller__test"},cg={AREA_SELECTOR:".mdc-tab-scroller__scroll-area",CONTENT_SELECTOR:".mdc-tab-scroller__scroll-content"},dg=function(){return function(e){this.adapter=e}}(),ug=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fn(t,e),t.prototype.getScrollPositionRTL=function(){var e=this.adapter.getScrollAreaScrollLeft(),t=this.calculateScrollEdges().right;return Math.round(t-e)},t.prototype.scrollToRTL=function(e){var t=this.calculateScrollEdges(),i=this.adapter.getScrollAreaScrollLeft(),n=this.clampScrollValue(t.right-e);return{finalScrollPosition:n,scrollDelta:n-i}},t.prototype.incrementScrollRTL=function(e){var t=this.adapter.getScrollAreaScrollLeft(),i=this.clampScrollValue(t-e);return{finalScrollPosition:i,scrollDelta:i-t}},t.prototype.getAnimatingScrollPosition=function(e){return e},t.prototype.calculateScrollEdges=function(){return{left:0,right:this.adapter.getScrollContentOffsetWidth()-this.adapter.getScrollAreaOffsetWidth()}},t.prototype.clampScrollValue=function(e){var t=this.calculateScrollEdges();return Math.min(Math.max(t.left,e),t.right)},t}(dg),pg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fn(t,e),t.prototype.getScrollPositionRTL=function(e){var t=this.adapter.getScrollAreaScrollLeft();return Math.round(e-t)},t.prototype.scrollToRTL=function(e){var t=this.adapter.getScrollAreaScrollLeft(),i=this.clampScrollValue(-e);return{finalScrollPosition:i,scrollDelta:i-t}},t.prototype.incrementScrollRTL=function(e){var t=this.adapter.getScrollAreaScrollLeft(),i=this.clampScrollValue(t-e);return{finalScrollPosition:i,scrollDelta:i-t}},t.prototype.getAnimatingScrollPosition=function(e,t){return e-t},t.prototype.calculateScrollEdges=function(){var e=this.adapter.getScrollContentOffsetWidth();return{left:this.adapter.getScrollAreaOffsetWidth()-e,right:0}},t.prototype.clampScrollValue=function(e){var t=this.calculateScrollEdges();return Math.max(Math.min(t.right,e),t.left)},t}(dg),hg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fn(t,e),t.prototype.getScrollPositionRTL=function(e){var t=this.adapter.getScrollAreaScrollLeft();return Math.round(t-e)},t.prototype.scrollToRTL=function(e){var t=this.adapter.getScrollAreaScrollLeft(),i=this.clampScrollValue(e);return{finalScrollPosition:i,scrollDelta:t-i}},t.prototype.incrementScrollRTL=function(e){var t=this.adapter.getScrollAreaScrollLeft(),i=this.clampScrollValue(t+e);return{finalScrollPosition:i,scrollDelta:t-i}},t.prototype.getAnimatingScrollPosition=function(e,t){return e+t},t.prototype.calculateScrollEdges=function(){return{left:this.adapter.getScrollContentOffsetWidth()-this.adapter.getScrollAreaOffsetWidth(),right:0}},t.prototype.clampScrollValue=function(e){var t=this.calculateScrollEdges();return Math.min(Math.max(t.right,e),t.left)},t}(dg),fg=function(e){function t(i){var n=e.call(this,Ln(Ln({},t.defaultAdapter),i))||this;return n.isAnimating=!1,n}return Fn(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return lg},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return cg},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{eventTargetMatchesSelector:function(){return!1},addClass:function(){},removeClass:function(){},addScrollAreaClass:function(){},setScrollAreaStyleProperty:function(){},setScrollContentStyleProperty:function(){},getScrollContentStyleValue:function(){return""},setScrollAreaScrollLeft:function(){},getScrollAreaScrollLeft:function(){return 0},getScrollContentOffsetWidth:function(){return 0},getScrollAreaOffsetWidth:function(){return 0},computeScrollAreaClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeScrollContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeHorizontalScrollbarHeight:function(){return 0}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=this.adapter.computeHorizontalScrollbarHeight();this.adapter.setScrollAreaStyleProperty("margin-bottom",-e+"px"),this.adapter.addScrollAreaClass(t.cssClasses.SCROLL_AREA_SCROLL)},t.prototype.getScrollPosition=function(){if(this.isRTL())return this.computeCurrentScrollPositionRTL();var e=this.calculateCurrentTranslateX();return this.adapter.getScrollAreaScrollLeft()-e},t.prototype.handleInteraction=function(){this.isAnimating&&this.stopScrollAnimation()},t.prototype.handleTransitionEnd=function(e){var i=e.target;this.isAnimating&&this.adapter.eventTargetMatchesSelector(i,t.strings.CONTENT_SELECTOR)&&(this.isAnimating=!1,this.adapter.removeClass(t.cssClasses.ANIMATING))},t.prototype.incrementScroll=function(e){0!==e&&this.animate(this.getIncrementScrollOperation(e))},t.prototype.incrementScrollImmediate=function(e){if(0!==e){var t=this.getIncrementScrollOperation(e);0!==t.scrollDelta&&(this.stopScrollAnimation(),this.adapter.setScrollAreaScrollLeft(t.finalScrollPosition))}},t.prototype.scrollTo=function(e){this.isRTL()?this.scrollToImplRTL(e):this.scrollToImpl(e)},t.prototype.getRTLScroller=function(){return this.rtlScrollerInstance||(this.rtlScrollerInstance=this.rtlScrollerFactory()),this.rtlScrollerInstance},t.prototype.calculateCurrentTranslateX=function(){var e=this.adapter.getScrollContentStyleValue("transform");if("none"===e)return 0;var t=/\((.+?)\)/.exec(e);if(!t)return 0;var i=Pn(t[1].split(","),6);i[0],i[1],i[2],i[3];var n=i[4];return i[5],parseFloat(n)},t.prototype.clampScrollValue=function(e){var t=this.calculateScrollEdges();return Math.min(Math.max(t.left,e),t.right)},t.prototype.computeCurrentScrollPositionRTL=function(){var e=this.calculateCurrentTranslateX();return this.getRTLScroller().getScrollPositionRTL(e)},t.prototype.calculateScrollEdges=function(){return{left:0,right:this.adapter.getScrollContentOffsetWidth()-this.adapter.getScrollAreaOffsetWidth()}},t.prototype.scrollToImpl=function(e){var t=this.getScrollPosition(),i=this.clampScrollValue(e),n=i-t;this.animate({finalScrollPosition:i,scrollDelta:n})},t.prototype.scrollToImplRTL=function(e){var t=this.getRTLScroller().scrollToRTL(e);this.animate(t)},t.prototype.getIncrementScrollOperation=function(e){if(this.isRTL())return this.getRTLScroller().incrementScrollRTL(e);var t=this.getScrollPosition(),i=e+t,n=this.clampScrollValue(i);return{finalScrollPosition:n,scrollDelta:n-t}},t.prototype.animate=function(e){var i=this;0!==e.scrollDelta&&(this.stopScrollAnimation(),this.adapter.setScrollAreaScrollLeft(e.finalScrollPosition),this.adapter.setScrollContentStyleProperty("transform","translateX("+e.scrollDelta+"px)"),this.adapter.computeScrollAreaClientRect(),requestAnimationFrame(function(){i.adapter.addClass(t.cssClasses.ANIMATING),i.adapter.setScrollContentStyleProperty("transform","none")}),this.isAnimating=!0)},t.prototype.stopScrollAnimation=function(){this.isAnimating=!1;var e=this.getAnimatingScrollPosition();this.adapter.removeClass(t.cssClasses.ANIMATING),this.adapter.setScrollContentStyleProperty("transform","translateX(0px)"),this.adapter.setScrollAreaScrollLeft(e)},t.prototype.getAnimatingScrollPosition=function(){var e=this.calculateCurrentTranslateX(),t=this.adapter.getScrollAreaScrollLeft();return this.isRTL()?this.getRTLScroller().getAnimatingScrollPosition(t,e):t-e},t.prototype.rtlScrollerFactory=function(){var e=this.adapter.getScrollAreaScrollLeft();this.adapter.setScrollAreaScrollLeft(e-1);var t=this.adapter.getScrollAreaScrollLeft();if(t<0)return this.adapter.setScrollAreaScrollLeft(e),new pg(this.adapter);var i=this.adapter.computeScrollAreaClientRect(),n=this.adapter.computeScrollContentClientRect(),o=Math.round(n.right-i.right);return this.adapter.setScrollAreaScrollLeft(e),o===t?new hg(this.adapter):new ug(this.adapter)},t.prototype.isRTL=function(){return"rtl"===this.adapter.getScrollContentStyleValue("direction")},t}(Vn);
/**
   * @license
   * Copyright 2018 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
var mg={ARROW_LEFT_KEY:"ArrowLeft",ARROW_RIGHT_KEY:"ArrowRight",END_KEY:"End",ENTER_KEY:"Enter",HOME_KEY:"Home",SPACE_KEY:"Space",TAB_ACTIVATED_EVENT:"MDCTabBar:activated",TAB_SCROLLER_SELECTOR:".mdc-tab-scroller",TAB_SELECTOR:".mdc-tab"},gg={ARROW_LEFT_KEYCODE:37,ARROW_RIGHT_KEYCODE:39,END_KEYCODE:35,ENTER_KEYCODE:13,EXTRA_SCROLL_AMOUNT:20,HOME_KEYCODE:36,SPACE_KEYCODE:32},vg=new Set;vg.add(mg.ARROW_LEFT_KEY),vg.add(mg.ARROW_RIGHT_KEY),vg.add(mg.END_KEY),vg.add(mg.HOME_KEY),vg.add(mg.ENTER_KEY),vg.add(mg.SPACE_KEY);var bg=new Map;bg.set(gg.ARROW_LEFT_KEYCODE,mg.ARROW_LEFT_KEY),bg.set(gg.ARROW_RIGHT_KEYCODE,mg.ARROW_RIGHT_KEY),bg.set(gg.END_KEYCODE,mg.END_KEY),bg.set(gg.HOME_KEYCODE,mg.HOME_KEY),bg.set(gg.ENTER_KEYCODE,mg.ENTER_KEY),bg.set(gg.SPACE_KEYCODE,mg.SPACE_KEY);var yg=function(e){function t(i){var n=e.call(this,Ln(Ln({},t.defaultAdapter),i))||this;return n.useAutomaticActivation=!1,n}return Fn(t,e),Object.defineProperty(t,"strings",{get:function(){return mg},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return gg},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{scrollTo:function(){},incrementScroll:function(){},getScrollPosition:function(){return 0},getScrollContentWidth:function(){return 0},getOffsetWidth:function(){return 0},isRTL:function(){return!1},setActiveTab:function(){},activateTabAtIndex:function(){},deactivateTabAtIndex:function(){},focusTabAtIndex:function(){},getTabIndicatorClientRectAtIndex:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getTabDimensionsAtIndex:function(){return{rootLeft:0,rootRight:0,contentLeft:0,contentRight:0}},getPreviousActiveTabIndex:function(){return-1},getFocusedTabIndex:function(){return-1},getIndexOfTabById:function(){return-1},getTabListLength:function(){return 0},notifyTabActivated:function(){}}},enumerable:!1,configurable:!0}),t.prototype.setUseAutomaticActivation=function(e){this.useAutomaticActivation=e},t.prototype.activateTab=function(e){var t,i=this.adapter.getPreviousActiveTabIndex();this.indexIsInRange(e)&&e!==i&&(-1!==i&&(this.adapter.deactivateTabAtIndex(i),t=this.adapter.getTabIndicatorClientRectAtIndex(i)),this.adapter.activateTabAtIndex(e,t),this.scrollIntoView(e),this.adapter.notifyTabActivated(e))},t.prototype.handleKeyDown=function(e){var t=this.getKeyFromEvent(e);if(void 0!==t)if(this.isActivationKey(t)||e.preventDefault(),this.useAutomaticActivation){if(this.isActivationKey(t))return;var i=this.determineTargetFromKey(this.adapter.getPreviousActiveTabIndex(),t);this.adapter.setActiveTab(i),this.scrollIntoView(i)}else{var n=this.adapter.getFocusedTabIndex();if(this.isActivationKey(t))this.adapter.setActiveTab(n);else{i=this.determineTargetFromKey(n,t);this.adapter.focusTabAtIndex(i),this.scrollIntoView(i)}}},t.prototype.handleTabInteraction=function(e){this.adapter.setActiveTab(this.adapter.getIndexOfTabById(e.detail.tabId))},t.prototype.scrollIntoView=function(e){this.indexIsInRange(e)&&(0!==e?e!==this.adapter.getTabListLength()-1?this.isRTL()?this.scrollIntoViewImplRTL(e):this.scrollIntoViewImpl(e):this.adapter.scrollTo(this.adapter.getScrollContentWidth()):this.adapter.scrollTo(0))},t.prototype.determineTargetFromKey=function(e,t){var i=this.isRTL(),n=this.adapter.getTabListLength()-1,o=e;return t===mg.END_KEY?o=n:t===mg.ARROW_LEFT_KEY&&!i||t===mg.ARROW_RIGHT_KEY&&i?o-=1:t===mg.ARROW_RIGHT_KEY&&!i||t===mg.ARROW_LEFT_KEY&&i?o+=1:o=0,o<0?o=n:o>n&&(o=0),o},t.prototype.calculateScrollIncrement=function(e,t,i,n){var o=this.adapter.getTabDimensionsAtIndex(t),r=o.contentLeft-i-n,a=o.contentRight-i-gg.EXTRA_SCROLL_AMOUNT,s=r+gg.EXTRA_SCROLL_AMOUNT;return t<e?Math.min(a,0):Math.max(s,0)},t.prototype.calculateScrollIncrementRTL=function(e,t,i,n,o){var r=this.adapter.getTabDimensionsAtIndex(t),a=o-r.contentLeft-i,s=o-r.contentRight-i-n+gg.EXTRA_SCROLL_AMOUNT,l=a-gg.EXTRA_SCROLL_AMOUNT;return t>e?Math.max(s,0):Math.min(l,0)},t.prototype.findAdjacentTabIndexClosestToEdge=function(e,t,i,n){var o=t.rootLeft-i,r=t.rootRight-i-n,a=o+r;return o<0||a<0?e-1:r>0||a>0?e+1:-1},t.prototype.findAdjacentTabIndexClosestToEdgeRTL=function(e,t,i,n,o){var r=o-t.rootLeft-n-i,a=o-t.rootRight-i,s=r+a;return r>0||s>0?e+1:a<0||s<0?e-1:-1},t.prototype.getKeyFromEvent=function(e){return vg.has(e.key)?e.key:bg.get(e.keyCode)},t.prototype.isActivationKey=function(e){return e===mg.SPACE_KEY||e===mg.ENTER_KEY},t.prototype.indexIsInRange=function(e){return e>=0&&e<this.adapter.getTabListLength()},t.prototype.isRTL=function(){return this.adapter.isRTL()},t.prototype.scrollIntoViewImpl=function(e){var t=this.adapter.getScrollPosition(),i=this.adapter.getOffsetWidth(),n=this.adapter.getTabDimensionsAtIndex(e),o=this.findAdjacentTabIndexClosestToEdge(e,n,t,i);if(this.indexIsInRange(o)){var r=this.calculateScrollIncrement(e,o,t,i);this.adapter.incrementScroll(r)}},t.prototype.scrollIntoViewImplRTL=function(e){var t=this.adapter.getScrollPosition(),i=this.adapter.getOffsetWidth(),n=this.adapter.getTabDimensionsAtIndex(e),o=this.adapter.getScrollContentWidth(),r=this.findAdjacentTabIndexClosestToEdgeRTL(e,n,t,i,o);if(this.indexIsInRange(r)){var a=this.calculateScrollIncrementRTL(e,r,t,i,o);this.adapter.incrementScroll(a)}},t}(Vn),Tg=mi("<div><div><div><!></div></div></div>");function wg(e,t){q(t,!0);const{matches:i}=Hn;let n,o,r,a=On(t,"use",19,()=>[]),s=On(t,"class",3,""),l=On(t,"align",3,void 0),c=On(t,"scrollArea$use",19,()=>[]),d=On(t,"scrollArea$class",3,""),u=On(t,"scrollContent$use",19,()=>[]),p=On(t,"scrollContent$class",3,""),f=Cn(t,["$$slots","$$events","$$legacy","use","class","align","scrollArea$use","scrollArea$class","scrollContent$use","scrollContent$class","children"]),m=ke(void 0),g=Fe({}),v=Fe({}),b=Fe({}),y=Fe({});function T(e){g[e]||(g[e]=!0)}function w(e){e in g&&!g[e]||(g[e]=!1)}function I(e){v[e]||(v[e]=!0)}function S(e,t){b[e]!=t&&(""===t||null==t?delete b[e]:b[e]=t)}function C(e,t){y[e]!=t&&(""===t||null==t?delete y[e]:y[e]=t)}function x(e){return e in y?y[e]:getComputedStyle(r).getPropertyValue(e)}En(()=>(Me(m,new fg({eventTargetMatchesSelector:(e,t)=>i(e,t),addClass:T,removeClass:w,addScrollAreaClass:I,setScrollAreaStyleProperty:S,setScrollContentStyleProperty:C,getScrollContentStyleValue:x,setScrollAreaScrollLeft:e=>o.scrollLeft=e,getScrollAreaScrollLeft:()=>o.scrollLeft,getScrollContentOffsetWidth:()=>r.offsetWidth,getScrollAreaOffsetWidth:()=>o.offsetWidth,computeScrollAreaClientRect:()=>o.getBoundingClientRect(),computeScrollContentClientRect:()=>r.getBoundingClientRect(),computeHorizontalScrollbarHeight:()=>function(e,t){if(void 0===t&&(t=!0),t&&void 0!==sg)return sg;var i=e.createElement("div");i.classList.add(lg.SCROLL_TEST),e.body.appendChild(i);var n=i.offsetHeight-i.clientHeight;return e.body.removeChild(i),t&&(sg=n),n}(document)}),!0),Gt(m).init(),()=>{Gt(m)?.destroy()}));var A={getScrollPosition:function(){if(null==Gt(m))throw new Error("Instance is undefined.");return Gt(m).getScrollPosition()},getScrollContentWidth:function(){return r.offsetWidth},incrementScroll:function(e){Gt(m)?.incrementScroll(e)},scrollTo:function(e){Gt(m)?.scrollTo(e)},getElement:function(){return n}},O=Tg();en(O,(e,t)=>({class:e,...t}),[()=>$o({"mdc-tab-scroller":!0,"mdc-tab-scroller--align-start":"start"===l(),"mdc-tab-scroller--align-end":"end"===l(),"mdc-tab-scroller--align-center":"center"===l(),...g,[s()]:!0}),()=>Fo(f,["scrollArea$","scrollContent$"])]);var E=Ge(O),_=e=>{Gt(m)&&Gt(m).handleInteraction(),t.scrollArea$onwheel?.(e)},k=e=>{Gt(m)&&Gt(m).handleInteraction(),t.scrollArea$ontouchstart?.(e)},R=e=>{Gt(m)&&Gt(m).handleInteraction(),t.scrollArea$onpointerdown?.(e)},M=e=>{Gt(m)&&Gt(m).handleInteraction(),t.scrollArea$onmousedown?.(e)},D=e=>{Gt(m)&&Gt(m).handleInteraction(),t.scrollArea$onkeydown?.(e)};en(E,(e,t,i)=>({class:e,style:t,...i,onwheel:_,ontouchstart:k,onpointerdown:R,onmousedown:M,onkeydown:D}),[()=>$o({"mdc-tab-scroller__scroll-area":!0,...v,[d()]:!0}),()=>Object.entries(b).map(([e,t])=>`${e}: ${t};`).join(" "),()=>Lo(f,"scrollArea$")]);var $=Ge(E),B=e=>{Gt(m)&&Gt(m).handleTransitionEnd(e),t.scrollContent$ontransitionend?.(e)};return en($,(e,t,i)=>({class:e,style:t,...i,ontransitionend:B}),[()=>$o({"mdc-tab-scroller__scroll-content":!0,[p()]:!0}),()=>Object.entries(y).map(([e,t])=>`${e}: ${t};`).join(" "),()=>Lo(f,"scrollContent$")]),Di(Ge($),()=>t.children??h),pn($,e=>r=e,()=>r),Fi($,(e,t)=>Po?.(e,t),u),pn(E,e=>o=e,()=>o),Fi(E,(e,t)=>Po?.(e,t),c),pn(O,e=>n=e,()=>n),Fi(O,(e,t)=>Po?.(e,t),a),Ti(e,O),G(A)}var Ig=mi("<div><!></div>");function Sg(e,t){q(t,!0);let i,n,o=On(t,"use",19,()=>[]),r=On(t,"class",3,""),a=On(t,"tabs",19,()=>[]),s=On(t,"key",3,e=>e),l=On(t,"focusOnActivate",3,!0),c=On(t,"focusOnProgrammatic",3,!1),d=On(t,"useAutomaticActivation",3,!0),u=On(t,"active",15),p=On(t,"tabindex",3,0),h=Cn(t,["$$slots","$$events","$$legacy","use","class","tabs","key","focusOnActivate","focusOnProgrammatic","useAutomaticActivation","active","tabindex","tab"]),f=ke(void 0),m=ke(Fe(null==u()?-1:a().findIndex(e=>u()&&s()(e)===s()(u())))),g=Fe({}),v=ke(new WeakMap),b=!1;z("SMUI:tab:focusOnActivate",l()),z("SMUI:tab:initialActive",{active:null==u()?null:s()(u()),key:s()}),nt(()=>{(null==u()&&-1!==Gt(m)||null!=u()&&-1===Gt(m)||null!=u()&&s()(u())!==s()(a()[Gt(m)]))&&(Me(m,a().findIndex(e=>u()&&s()(e)===s()(u())),!0),Gt(f)&&(b=!c(),Gt(f).activateTab(Gt(m)),b=!1))}),nt(()=>{if(a().length){const e=a()[0]instanceof Object?Gt(v).get(a()[0]):g[a()[0]];e&&e.forceAccessible(-1===Gt(m))}});let y=!1;function T(e){return e instanceof Object?Gt(v).get(e):g[e]}function w(){return i}nt(()=>{Gt(f)?y||(y=!0,Gt(f).setUseAutomaticActivation(d())):y=!1}),z("SMUI:tab:mount",e=>{!function(e,t){e instanceof Object?(Gt(v).set(e,t),Me(v,Gt(v))):g[e]=t}(e.tabId,e)}),z("SMUI:tab:unmount",e=>{var t;(t=e.tabId)instanceof Object?(Gt(v).delete(t),Me(v,Gt(v))):delete g[t]}),En(()=>(Me(f,new yg({scrollTo:e=>n.scrollTo(e),incrementScroll:e=>n.incrementScroll(e),getScrollPosition:()=>n.getScrollPosition(),getScrollContentWidth:()=>n.getScrollContentWidth(),getOffsetWidth:()=>w().offsetWidth,isRTL:()=>"rtl"===getComputedStyle(w()).getPropertyValue("direction"),setActiveTab:e=>{u(a()[e]),Me(m,e,!0),Gt(f)?.activateTab(e)},activateTabAtIndex:(e,t)=>T(a()[e])?.activate(t,b),deactivateTabAtIndex:e=>T(a()[e])?.deactivate(),focusTabAtIndex:e=>T(a()[e])?.focus(),getTabIndicatorClientRectAtIndex:e=>T(a()[e])?.computeIndicatorClientRect()??new DOMRect,getTabDimensionsAtIndex:e=>T(a()[e])?.computeDimensions()??{rootLeft:0,rootRight:0,contentLeft:0,contentRight:0},getPreviousActiveTabIndex:()=>{for(let e=0;e<a().length;e++)if(T(a()[e])?.active)return e;return-1},getFocusedTabIndex:()=>{const e=a().map(e=>T(e)?.element),t=document.activeElement;return e.indexOf(t)},getIndexOfTabById:e=>a().findIndex(t=>s()(t)===s()(e)),getTabListLength:()=>a().length,notifyTabActivated:e=>Bo(w(),"SMUITabBarActivated",{index:e})}),!0),Gt(f).init(),()=>{Gt(f)?.destroy()}));var I={scrollIntoView:function(e){Gt(f)?.scrollIntoView(e)},getElement:w},S=Ig(),C=e=>{Gt(f)&&Gt(f).handleKeyDown(e),t.onkeydown?.(e)},x=e=>{Gt(f)&&Gt(f).handleTabInteraction(e),t.onSMUITabInteracted?.(e)};en(S,(e,t)=>({class:e,role:"tablist",tabindex:p(),...t,onkeydown:C,onSMUITabInteracted:x}),[()=>$o({"mdc-tab-bar":!0,[r()]:!0}),()=>Fo(h,["tabScroller$"])]);var A=Ge(S);{let e=se(()=>Lo(h,"tabScroller$"));pn(wg(A,An(()=>Gt(e),{children:(e,i)=>{var n=yi();Oi(Xe(n),17,a,e=>s()(e),(e,i)=>{var n=yi();Di(Xe(n),()=>t.tab,()=>Gt(i)),Ti(e,n)}),Ti(e,n)},$$slots:{default:!0}})),e=>n=e,()=>n)}return pn(S,e=>i=e,()=>i),Fi(S,(e,t)=>Po?.(e,t),o),Ti(e,S),G(I)}var Cg=mi('<div class="col-12 px-3 mt-0"><!></div>'),xg=mi('<div class="container-fluid p-0"><div class="row gy-3"><div class="col-12"><!></div> <div class="col-12"><!></div> <!> <div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div></div></div>'),Ag=mi("<b>Interactive CYOA Creator Plus</b>"),Og=mi('<div class="container-fluid p-0"><div class="row gy-3"><div class="col-12 text-right"> <br/></div></div></div>'),Eg=mi("<!> <!>",1),_g=mi("<!> <!>",1),kg=mi("<!> <!> <!>",1);function Rg(e,t){q(t,!0);let i=On(t,"open",7);const n=[{text:"2 per row",value:"col-6"},{text:"3 per row",value:"col-4"},{text:"4 per row",value:"col-3"}];let o=ke("General");function r(){Ku&&Ku.abort(),Yu()}function a(){const e=Nu.allowDeselect;for(let t=0;t<app.backpack.length;t++){const i=app.backpack[t];i.isResultRow&&(i.isInfoRow=!e)}}df(e,{surface$style:"width: 600px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return t.onclose},get open(){return i()},set open(e){i(e)},children:(e,t)=>{var i=kg(),s=Xe(i);uf(s,{class:"text-left dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{Ti(e,bi("Settings"))},$$slots:{default:!0}});var l=Ke(s,2);pf(l,{children:(e,t)=>{var i=_g(),s=Xe(i);{const e=(e,t=h)=>{ag(e,{get tab(){return t()},children:(e,i)=>{Ho(e,{children:(e,i)=>{var n=bi();st(()=>wi(n,t())),Ti(e,n)},$$slots:{default:!0}})},$$slots:{default:!0}})};Sg(s,{tabs:["General","About"],get active(){return Gt(o)},set active(e){Me(o,e,!0)},tab:e,$$slots:{tab:!0}})}var l=Ke(s,2),c=e=>{gm(e,{role:"tabpanel",variant:"unelevated",children:(e,t)=>{vm(e,{children:(e,t)=>{var i=xg(),o=Ge(i),s=Ge(o);{const e=e=>{Ti(e,bi("Maximum Number of Choices per Row for Screens Between 720px and 1280px."))};Gm(Ge(s),{label:"Choices per row",variant:"standard",alwaysFloat:!0,get value(){return app.objectsPerRow},set value(e){app.objectsPerRow=e},helperText:e,children:(e,t)=>{var i=yi();Oi(Xe(i),17,()=>n,e=>e.text,(e,t)=>{Xm(e,{get value(){return Gt(t).value},children:(e,i)=>{var n=bi();st(()=>wi(n,Gt(t).text)),Ti(e,n)},$$slots:{default:!0}})}),Ti(e,i)},$$slots:{helperText:!0,default:!0}})}var l=Ke(s,2);If(Ge(l),{label:e=>{Ti(e,bi("Enable Auto Save"))},children:(e,t)=>{_f(e,{get checked(){return app.buildAutoSaveIsOn||!1},set checked(e){(e=>{app.buildAutoSaveIsOn=e})(e)},onSMUISwitchChange:()=>{app.buildAutoSaveIsOn&&r()},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var c=Ke(l,2),d=e=>{var t=Cg(),i=Ge(t);um(i,{get value(){return app.buildAutoSaveInterval||10},set value(e){(e=>{app.buildAutoSaveInterval=e})(e)},label:"Auto Save Interval",type:"number",suffix:"min",variant:"standard",style:"max-width: 200px",input$class:"text-right",input$min:"1",onchange:()=>{app.buildAutoSaveInterval<1&&(app.buildAutoSaveInterval=1),r()}}),Ti(e,t)};Ci(c,e=>{app.buildAutoSaveIsOn&&e(d)});var u=Ke(c,2);If(Ge(u),{label:e=>{Ti(e,bi("Preload Images in Backpack"))},children:(e,t)=>{_f(e,{get checked(){return app.preloadImages||!1},set checked(e){(e=>{app.preloadImages=e})(e)},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var p=Ke(u,2);If(Ge(p),{label:e=>{Ti(e,bi("Allow Deselecting Choices in Backpack"))},children:(e,t)=>{_f(e,{onSMUISwitchChange:a,color:"secondary",class:"switch-scale",get checked(){return Nu.allowDeselect},set checked(e){Nu.allowDeselect=e}})},$$slots:{label:!0,default:!0}});var h=Ke(p,2),f=Ge(h);Hh(f,{text:"Enabling this option may cause image downloads to fail or reduce the image resolution.",children:(e,t)=>{If(e,{label:e=>{Ti(e,bi("Download Images as Single File"))},children:(e,t)=>{_f(e,{color:"secondary",class:"switch-scale",get checked(){return Nu.isSingleFile},set checked(e){Nu.isSingleFile=e}})},$$slots:{label:!0,default:!0}})},$$slots:{default:!0}});var m=Ke(h,2);If(Ge(m),{label:e=>{Ti(e,bi("Show Background Music Player"))},children:(e,t)=>{_f(e,{get checked(){return app.showMusicPlayer||!1},set checked(e){(e=>{app.showMusicPlayer=e})(e)},color:"secondary",class:"switch-scale",onchange:()=>{if(app.showMusicPlayer){const e=vn(Du);if(e){let t=0,i=0;0!==Bu.bgmTitleInterval&&(clearInterval(Bu.bgmTitleInterval),Bu.bgmTitleInterval=0),Bu.bgmTitleInterval=window.setInterval(()=>{if(""!==Bu.bgmObjectId){const t=wu.get(Bu.bgmObjectId);if(void 0!==t){const i=t.choice;e.getId()===i.bgmId&&""!==e.getTitle()&&(Bu.bgmTitle=e.getTitle(),Bu.curBgmLength=e.getDuration(),clearInterval(Bu.bgmTitleInterval),Bu.bgmTitleInterval=0)}}},1e3),0!==Bu.bgmPlayInterval&&(clearInterval(Bu.bgmPlayInterval),Bu.bgmPlayInterval=0),Bu.bgmPlayInterval=window.setInterval(()=>{if(!Bu.isSeeking&&e.isPlaying()){const n=Math.floor(e.getCurrentTime());n!==Bu.curBgmTime?t!==n?Bu.curBgmTime=n:(i++,i>Bu.curBgmLength&&(i=1),Bu.curBgmTime=i):(t=n,i=n+1,Bu.curBgmTime=i)}},1e3)}}else Bu.bgmIsPlaying&&(0!==Bu.bgmTitleInterval&&(clearInterval(Bu.bgmTitleInterval),Bu.bgmTitleInterval=0),0!==Bu.bgmPlayInterval&&(clearInterval(Bu.bgmPlayInterval),Bu.bgmPlayInterval=0))}})},$$slots:{label:!0,default:!0}});var g=Ge(Ke(m,2));um(g,{get value(){return app.styling.backPackWidth||1200},set value(e){(e=>{app.styling.backPackWidth=e})(e)},label:"Backpack Width",type:"number",suffix:"px",variant:"standard",input$min:"0",onchange:()=>{void 0!==app.styling.backPackWidth&&app.styling.backPackWidth<0&&(app.styling.backPackWidth=0)}}),Ti(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}})},d=e=>{var t=yi(),i=Xe(t),n=e=>{gm(e,{role:"tabpanel",variant:"unelevated",children:(e,t)=>{var i=Eg(),n=Xe(i);!function(e,t){q(t,!0);let i,n=Cn(t,["$$slots","$$events","$$legacy","children"]);var o={getElement:function(){return i.getElement()}};pn(Yo(e,An({_smuiClass:"smui-paper__title",tag:"h5"},()=>n,{children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}})),e=>i=e,()=>i),G(o)}(n,{class:"text-center",children:(e,t)=>{Ti(e,Ag())},$$slots:{default:!0}}),vm(Ke(n,2),{children:(e,t)=>{var i=Og(),n=Ge(i),o=Ge(n),r=Ge(o);st(()=>wi(r,`v${nu}`)),Ti(e,i)},$$slots:{default:!0}}),Ti(e,i)},$$slots:{default:!0}})};Ci(i,e=>{"About"===Gt(o)&&e(n)},!0),Ti(e,t)};Ci(l,e=>{"General"===Gt(o)?e(c):e(d,!1)}),Ti(e,i)},$$slots:{default:!0}}),hf(Ke(l,2),{children:(e,t)=>{pr(e,{action:"close",children:(e,t)=>{Ho(e,{class:"dialog-actions--btn",children:(e,t)=>{Ti(e,bi("Close"))},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),Ti(e,i)},$$slots:{default:!0}}),G()}var Mg=mi('<div><span class="d-flex text-prewrap align-items-center"><!> <!> <span translate="no"> </span> <!> <!></span></div>');var Dg=mi('<div class="col-12"><!></div>'),$g=mi('<div class="row pt-4"><div class="col-12"><!></div> <!></div>'),Bg=mi('<div class="container-fluid"><div class="row"><div class="col-6"><!></div> <div class="col-6"><!></div></div></div>'),Fg=mi("<!> <!> <!>",1);function Lg(e,t){q(t,!0);let i=On(t,"open",7),n=On(t,"title",3,""),o=On(t,"defaultRow",3,5),r=On(t,"textLabel",3,""),a=ke(Fe(t.isWord&&t.prevText?t.prevText:""));df(e,{surface$style:"width: 400px; max-width: calc(100vw - 32px);",onSMUIDialogClosed:function(e){t.isWord?t.closeHandler(e,Gt(a)):t.closeHandler(e),t.onclose()},get open(){return i()},set open(e){i(e)},children:(e,i)=>{var s=Fg(),l=Xe(s);uf(l,{class:"px-3 pb-0 toolbar toolbar__dialog",children:(e,t)=>{var i=yi();Mi(Xe(i),n),Ti(e,i)},$$slots:{default:!0}});var c=Ke(l,2);pf(c,{children:(e,i)=>{var n=$g(),s=Ge(n);Mi(Ge(s),()=>t.context);var l=Ke(s,2),c=e=>{var t=Dg(),i=Ge(t),n=e=>{um(e,{get label(){return r()},variant:"filled",get value(){return Gt(a)},set value(e){Me(a,e,!0)}})},s=e=>{um(e,{textarea:!0,get label(){return r()},variant:"filled",get input$rows(){return o()},get value(){return Gt(a)},set value(e){Me(a,e,!0)}})};Ci(i,e=>{1===o()?e(n):e(s,!1)}),Ti(e,t)};Ci(l,e=>{t.isWord&&e(c)}),Ti(e,n)},$$slots:{default:!0}}),hf(Ke(c,2),{children:(e,t)=>{var i=Bg(),n=Ge(i),o=Ge(n);pr(Ge(o),{action:"close",children:(e,t)=>{Ho(e,{children:(e,t)=>{Ti(e,bi("Cancel"))},$$slots:{default:!0}})},$$slots:{default:!0}}),pr(Ge(Ke(o,2)),{action:"accept",children:(e,t)=>{Ho(e,{class:"dialog-actions--btn",children:(e,t)=>{Ti(e,bi("OK"))},$$slots:{default:!0}})},$$slots:{default:!0}}),Ti(e,i)},$$slots:{default:!0}}),Ti(e,s)},$$slots:{default:!0}}),G()}var Ng=mi('<i class="mdi mdi-play"></i>'),Pg=mi('<i class="mdi mdi-clipboard-outline"></i>'),jg=mi('<div class="row gx-0" style="border-bottom: 1px solid"><div class="col-sm-1 col-2 d-flex align-items-center justify-center"><!></div> <div class="col-sm-10 col-8"><div class="col-12 pt-1"><div> </div> <div> </div></div></div> <div class="col-sm-1 col-2 d-flex align-items-center justify-center"><!></div></div>'),Vg=mi('<div class="row gx-0" style="border-bottom: 1px solid"><div class="col-12" style="height: 48px">Empty</div></div>'),Ug=mi('<i class="mdi mdi-alpha-a-box-outline"></i>'),Hg=mi('<div class="row gx-0" style="border-bottom: 1px solid"><div class="col-sm-1 col-2 d-flex align-items-center justify-center"><!></div> <div class="col-sm-11 col-10"><div class="col-12 pt-1"><div> </div> <div> </div></div></div></div>'),Wg=mi('<i class="mdi mdi-play"></i>'),zg=mi('<i class="mdi mdi-trash-can"></i>'),qg=mi('<div class="row gx-0" style="border-bottom: 1px solid"><div class="col-sm-1 col-2 d-flex align-items-center justify-center"><!></div> <div class="col-sm-10 col-8"><div class="col-12 pt-1"><div> </div> <div> </div></div></div> <div class="col-sm-1 col-2 d-flex align-items-center justify-center"><!></div></div>'),Gg=mi('<i class="mdi mdi-content-save"></i>'),Xg=mi('<div class="row gx-0" style="border-bottom: 1px solid"><div class="col-sm-1 col-2 d-flex align-items-center justify-center"><!></div> <div class="col-sm-11 col-10"><div class="col-12"><!></div></div></div>'),Kg=mi("<!> <!>",1),Zg=mi('<i class="mdi mdi-menu-left"></i>'),Yg=mi('<i class="mdi mdi-menu-right"></i>'),Qg=mi('<div class="container-fluid pb-2 mb-2" style="border: 1px solid"><!></div> <div class="row gy-2"><div class="col pb-2"><!></div> <div class="col pb-2"><div class="d-row align-items-center justify-end"><!> <span class="list-text px-2"> </span> <!></div></div></div> <div class="row gy-2"><div class="col-12"><!></div></div>',1),Jg=mi("<!> <!> <!>",1),ev=mi("<!> <!>",1);function tv(e,t){q(t,!0);let i=On(t,"open",7);const n={action:()=>{},title:"Warning",context:""};let o=ke("none"),r=ke(1),a=se(()=>9*(Gt(r)-1)),s=se(()=>Math.min(Gt(a)+9-1,99)),l=se(()=>Array.from({length:Gt(s)-Gt(a)+1},(e,t)=>ju[Gt(a)+t])),c=se(()=>Array.from({length:Gt(s)-Gt(a)+1},(e,t)=>Vu[Gt(a)+t])),d=ke(!1),u=se(()=>9*(Gt(r)-1));function p(e){const t=`${location.pathname.replace(/\/index\.html$/,"/")}slot-${e}`,i=navigator.language,n=new Date,o=new Intl.DateTimeFormat(i,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(n);!async function(e,t,i,n,o){const r=(await Xu()).transaction(n,"readwrite").objectStore(n);try{await new Promise((i,n)=>{const o=r.put(e,t);o.onsuccess=()=>i(),o.onerror=()=>n(o.error)}),o&&(ju[i].stored=!0,ju[i].time=e.time,ju[i].name=e.name)}catch(a){console.error(a)}}({stored:!0,name:ju[e].name,time:o,app:Ju()},t,e,"buildStore",!0)}function h(e){!async function(e,t,i,n){const o=(await Xu()).transaction(i,"readwrite").objectStore(i);try{await new Promise((t,i)=>{const n=o.delete(e);n.onsuccess=()=>t(),n.onerror=()=>i(n.error)}),n&&(ju[t].stored=!1,ju[t].name=`Slot ${t+1}`,ju[t].time="")}catch(r){console.error(r)}}(`${location.pathname.replace(/\/index\.html$/,"/")}slot-${e}`,e,"buildStore",!0)}var f=ev(),m=Xe(f);df(m,{surface$style:"width: 700px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return t.onclose},id:"dialog",get open(){return i()},set open(e){i(e)},children:(e,t)=>{var i=Jg(),a=Xe(i);uf(a,{class:"text-left dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{Ti(e,bi("Save/Load Build"))},$$slots:{default:!0}});var s=Ke(a,2);pf(s,{class:"pt-3",children:(e,t)=>{var i=Qg(),a=Xe(i),s=Ge(a),f=e=>{var t=yi();Oi(Xe(t),17,()=>Gt(c),Ai,(e,t,i)=>{var r=yi(),a=Xe(r),s=e=>{var r=jg(),a=Ge(r);Lr(Ge(a),{onclickcapture:()=>{n.action=()=>async function(e){const t=Gt(c)[e].name,i=await Qu(t,"buildStore",!0);Jp(Array.isArray(i.value)?i.value.join(","):i.value)}(Gt(u)+i),n.context="Are you sure you want to load this build?<br>Any unsaved changes will be lost.",Me(o,"dlgCommon")},children:(e,t)=>{Ti(e,Ng())},$$slots:{default:!0}});var s=Ke(a,2),l=Ge(s),d=Ge(l),p=Ge(d),h=Ge(Ke(d,2));Lr(Ge(Ke(s,2)),{onclickcapture:()=>async function(e){const t=Gt(c)[e].name,i=await Qu(t,"buildStore",!0),n=Array.isArray(i.value)?i.value.join(","):i.value;navigator.clipboard.writeText(n).then(()=>{Lu.labelText="Build code copied to clipboard.",Lu.isOpen=!0}).catch(e=>{Lu.labelText="Failed to copy build code to clipboard.",Lu.isOpen=!0,console.error(e)})}(Gt(u)+i),children:(e,t)=>{Ti(e,Pg())},$$slots:{default:!0}}),st(()=>{wi(p,Gt(t).name),wi(h,Gt(t).time)}),Ti(e,r)},l=e=>{Ti(e,Vg())};Ci(a,e=>{Gt(t).stored?e(s):e(l,!1)}),Ti(e,r)}),Ti(e,t)},m=e=>{var t=Kg(),i=Xe(t),r=e=>{var t=Hg(),i=Ge(t);Lr(Ge(i),{onclickcapture:()=>{n.action=()=>async function(){const e=`${location.pathname.replace(/\/index\.html$/,"/")}autoSave`;Jp((await Qu(e,"buildStore")).app)}(),n.context="Are you sure you want to load this build?<br>Any unsaved changes will be lost.",Me(o,"dlgCommon")},children:(e,t)=>{Ti(e,Ug())},$$slots:{default:!0}});var r=Ge(Ke(i,2)),a=Ge(r),s=Ge(a),l=Ge(Ke(a,2));st(()=>{wi(s,Pu.name),wi(l,Pu.time)}),Ti(e,t)};Ci(i,e=>{Pu.stored&&e(r)}),Oi(Ke(i,2),17,()=>Gt(l),Ai,(e,t,i)=>{var r=yi(),a=Xe(r),s=e=>{var r=qg(),a=Ge(r);Lr(Ge(a),{onclickcapture:()=>{n.action=()=>async function(e){const t=`${location.pathname.replace(/\/index\.html$/,"/")}slot-${e}`;Jp((await Qu(t,"buildStore")).app)}(Gt(u)+i),n.context="Are you sure you want to load this build?<br>Any unsaved changes will be lost.",Me(o,"dlgCommon")},children:(e,t)=>{Ti(e,Wg())},$$slots:{default:!0}});var s=Ke(a,2),l=Ge(s),c=Ge(l),d=Ge(c),p=Ge(Ke(c,2));Lr(Ge(Ke(s,2)),{onclickcapture:()=>{n.action=()=>h(Gt(u)+i),n.context="Are you sure you want to delete this build?<br>This action cannot be undone.",Me(o,"dlgCommon")},children:(e,t)=>{Ti(e,zg())},$$slots:{default:!0}}),st(()=>{wi(d,Gt(t).name),wi(p,Gt(t).time)}),Ti(e,r)},l=e=>{var n=Xg(),o=Ge(n);Lr(Ge(o),{onclickcapture:()=>p(Gt(u)+i),children:(e,t)=>{Ti(e,Gg())},$$slots:{default:!0}});var r=Ge(Ke(o,2));um(Ge(r),{onclickcapture:()=>Gt(t).name="",onblur:()=>{""===Gt(t).name&&(Gt(t).name=`Slot ${Gt(u)+i+1}`)},input$onkeydown:e=>{"Enter"===e.key&&p(Gt(u)+i)},class:"textbox-mini",variant:"standard",get value(){return Gt(t).name},set value(e){Gt(t).name=e}}),Ti(e,n)};Ci(a,e=>{Gt(t).stored?e(s):e(l,!1)}),Ti(e,r)}),Ti(e,t)};Ci(s,e=>{Gt(d)?e(f):e(m,!1)});var g=Ke(a,2),v=Ge(g);If(Ge(v),{style:"height: 48px",label:e=>{Ti(e,bi("Load from Legacy Version"))},children:(e,t)=>{_f(e,{onSMUISwitchChange:()=>Me(r,1),color:"secondary",class:"switch-scale",get checked(){return Gt(d)},set checked(e){Me(d,e,!0)}})},$$slots:{label:!0,default:!0}});var b=Ge(Ke(v,2)),y=Ge(b);Lr(y,{onclickcapture:()=>Gt(r)>1?Me(r,Gt(r)-1):Me(r,11),children:(e,t)=>{Ti(e,Zg())},$$slots:{default:!0}});var T=Ke(y,2),w=Ge(T);Lr(Ke(T,2),{onclickcapture:()=>Gt(r)<11?Me(r,Gt(r)+1):Me(r,1),children:(e,t)=>{Ti(e,Yg())},$$slots:{default:!0}});var I=Ge(Ke(g,2));pr(Ge(I),{onclickcapture:()=>Me(o,"appBuildForm"),variant:"raised",children:(e,t)=>{Ho(e,{children:(e,t)=>{Ti(e,bi("Open Build Form"))},$$slots:{default:!0}})},$$slots:{default:!0}}),st(()=>wi(w,`Page ${Gt(r)??""}`)),Ti(e,i)},$$slots:{default:!0}}),hf(Ke(s,2),{children:(e,t)=>{pr(e,{action:"close",children:(e,t)=>{Ho(e,{class:"dialog-actions--btn",children:(e,t)=>{Ti(e,bi("Close"))},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),Ti(e,i)},$$slots:{default:!0}});var g=Ke(m,2),v=e=>{{let t=se(()=>"dlgCommon"===Gt(o));Lg(e,{get open(){return Gt(t)},onclose:()=>Me(o,"none"),get title(){return n.title},get context(){return n.context},closeHandler:e=>{"accept"===e.detail.action&&n.action()}})}},b=e=>{var t=yi(),i=Xe(t),n=e=>{{let t=se(()=>"appBuildForm"===Gt(o));fm(e,{get open(){return Gt(t)},onclose:()=>Me(o,"none")})}};Ci(i,e=>{"appBuildForm"===Gt(o)&&e(n)},!0),Ti(e,t)};Ci(g,e=>{"dlgCommon"===Gt(o)?e(v):e(b,!1)}),Ti(e,f),G()}
/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:iv,setPrototypeOf:nv,isFrozen:ov,getPrototypeOf:rv,getOwnPropertyDescriptor:av}=Object;let{freeze:sv,seal:lv,create:cv}=Object,{apply:dv,construct:uv}="undefined"!=typeof Reflect&&Reflect;sv||(sv=function(e){return e}),lv||(lv=function(e){return e}),dv||(dv=function(e,t,i){return e.apply(t,i)}),uv||(uv=function(e,t){return new e(...t)});const pv=Ov(Array.prototype.forEach),hv=Ov(Array.prototype.lastIndexOf),fv=Ov(Array.prototype.pop),mv=Ov(Array.prototype.push),gv=Ov(Array.prototype.splice),vv=Ov(String.prototype.toLowerCase),bv=Ov(String.prototype.toString),yv=Ov(String.prototype.match),Tv=Ov(String.prototype.replace),wv=Ov(String.prototype.indexOf),Iv=Ov(String.prototype.trim),Sv=Ov(Object.prototype.hasOwnProperty),Cv=Ov(RegExp.prototype.test),xv=(Av=TypeError,function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return uv(Av,t)});var Av;function Ov(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return dv(e,t,n)}}function Ev(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vv;nv&&nv(e,null);let n=t.length;for(;n--;){let o=t[n];if("string"==typeof o){const e=i(o);e!==o&&(ov(t)||(t[n]=e),o=e)}e[o]=!0}return e}function _v(e){for(let t=0;t<e.length;t++){Sv(e,t)||(e[t]=null)}return e}function kv(e){const t=cv(null);for(const[i,n]of iv(e)){Sv(e,i)&&(Array.isArray(n)?t[i]=_v(n):n&&"object"==typeof n&&n.constructor===Object?t[i]=kv(n):t[i]=n)}return t}function Rv(e,t){for(;null!==e;){const i=av(e,t);if(i){if(i.get)return Ov(i.get);if("function"==typeof i.value)return Ov(i.value)}e=rv(e)}return function(){return null}}const Mv=sv(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Dv=sv(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$v=sv(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Bv=sv(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Fv=sv(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Lv=sv(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Nv=sv(["#text"]),Pv=sv(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),jv=sv(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Vv=sv(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Uv=sv(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Hv=lv(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Wv=lv(/<%[\w\W]*|[\w\W]*%>/gm),zv=lv(/\$\{[\w\W]*/gm),qv=lv(/^data-[\-\w.\u00B7-\uFFFF]+$/),Gv=lv(/^aria-[\-\w]+$/),Xv=lv(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Kv=lv(/^(?:\w+script|data):/i),Zv=lv(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Yv=lv(/^html$/i),Qv=lv(/^[a-z][.\w]*(-[.\w]+)+$/i);var Jv=Object.freeze({__proto__:null,ARIA_ATTR:Gv,ATTR_WHITESPACE:Zv,CUSTOM_ELEMENT:Qv,DATA_ATTR:qv,DOCTYPE_NAME:Yv,ERB_EXPR:Wv,IS_ALLOWED_URI:Xv,IS_SCRIPT_OR_DATA:Kv,MUSTACHE_EXPR:Hv,TMPLIT_EXPR:zv});const eb=1,tb=3,ib=7,nb=8,ob=9;var rb=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window;const i=t=>e(t);if(i.version="3.2.6",i.removed=[],!t||!t.document||t.document.nodeType!==ob||!t.Element)return i.isSupported=!1,i;let{document:n}=t;const o=n,r=o.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:h,trustedTypes:f}=t,m=c.prototype,g=Rv(m,"cloneNode"),v=Rv(m,"remove"),b=Rv(m,"nextSibling"),y=Rv(m,"childNodes"),T=Rv(m,"parentNode");if("function"==typeof s){const e=n.createElement("template");e.content&&e.content.ownerDocument&&(n=e.content.ownerDocument)}let w,I="";const{implementation:S,createNodeIterator:C,createDocumentFragment:x,getElementsByTagName:A}=n,{importNode:O}=o;let E={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};i.isSupported="function"==typeof iv&&"function"==typeof T&&S&&void 0!==S.createHTMLDocument;const{MUSTACHE_EXPR:_,ERB_EXPR:k,TMPLIT_EXPR:R,DATA_ATTR:M,ARIA_ATTR:D,IS_SCRIPT_OR_DATA:$,ATTR_WHITESPACE:B,CUSTOM_ELEMENT:F}=Jv;let{IS_ALLOWED_URI:L}=Jv,N=null;const P=Ev({},[...Mv,...Dv,...$v,...Fv,...Nv]);let j=null;const V=Ev({},[...Pv,...jv,...Vv,...Uv]);let U=Object.seal(cv(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),H=null,W=null,z=!0,q=!0,G=!1,X=!0,K=!1,Z=!0,Y=!1,Q=!1,J=!1,ee=!1,te=!1,ie=!1,ne=!0,oe=!1,re=!0,ae=!1,se={},le=null;const ce=Ev({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let de=null;const ue=Ev({},["audio","video","img","source","image","track"]);let pe=null;const he=Ev({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),fe="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let ve=ge,be=!1,ye=null;const Te=Ev({},[fe,me,ge],bv);let we=Ev({},["mi","mo","mn","ms","mtext"]),Ie=Ev({},["annotation-xml"]);const Se=Ev({},["title","style","font","a","script"]);let Ce=null;const xe=["application/xhtml+xml","text/html"];let Ae=null,Oe=null;const Ee=n.createElement("form"),_e=function(e){return e instanceof RegExp||e instanceof Function},ke=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Oe||Oe!==e){if(e&&"object"==typeof e||(e={}),e=kv(e),Ce=-1===xe.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Ae="application/xhtml+xml"===Ce?bv:vv,N=Sv(e,"ALLOWED_TAGS")?Ev({},e.ALLOWED_TAGS,Ae):P,j=Sv(e,"ALLOWED_ATTR")?Ev({},e.ALLOWED_ATTR,Ae):V,ye=Sv(e,"ALLOWED_NAMESPACES")?Ev({},e.ALLOWED_NAMESPACES,bv):Te,pe=Sv(e,"ADD_URI_SAFE_ATTR")?Ev(kv(he),e.ADD_URI_SAFE_ATTR,Ae):he,de=Sv(e,"ADD_DATA_URI_TAGS")?Ev(kv(ue),e.ADD_DATA_URI_TAGS,Ae):ue,le=Sv(e,"FORBID_CONTENTS")?Ev({},e.FORBID_CONTENTS,Ae):ce,H=Sv(e,"FORBID_TAGS")?Ev({},e.FORBID_TAGS,Ae):kv({}),W=Sv(e,"FORBID_ATTR")?Ev({},e.FORBID_ATTR,Ae):kv({}),se=!!Sv(e,"USE_PROFILES")&&e.USE_PROFILES,z=!1!==e.ALLOW_ARIA_ATTR,q=!1!==e.ALLOW_DATA_ATTR,G=e.ALLOW_UNKNOWN_PROTOCOLS||!1,X=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,K=e.SAFE_FOR_TEMPLATES||!1,Z=!1!==e.SAFE_FOR_XML,Y=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ie=e.RETURN_TRUSTED_TYPE||!1,J=e.FORCE_BODY||!1,ne=!1!==e.SANITIZE_DOM,oe=e.SANITIZE_NAMED_PROPS||!1,re=!1!==e.KEEP_CONTENT,ae=e.IN_PLACE||!1,L=e.ALLOWED_URI_REGEXP||Xv,ve=e.NAMESPACE||ge,we=e.MATHML_TEXT_INTEGRATION_POINTS||we,Ie=e.HTML_INTEGRATION_POINTS||Ie,U=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&_e(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&_e(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(U.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),K&&(q=!1),te&&(ee=!0),se&&(N=Ev({},Nv),j=[],!0===se.html&&(Ev(N,Mv),Ev(j,Pv)),!0===se.svg&&(Ev(N,Dv),Ev(j,jv),Ev(j,Uv)),!0===se.svgFilters&&(Ev(N,$v),Ev(j,jv),Ev(j,Uv)),!0===se.mathMl&&(Ev(N,Fv),Ev(j,Vv),Ev(j,Uv))),e.ADD_TAGS&&(N===P&&(N=kv(N)),Ev(N,e.ADD_TAGS,Ae)),e.ADD_ATTR&&(j===V&&(j=kv(j)),Ev(j,e.ADD_ATTR,Ae)),e.ADD_URI_SAFE_ATTR&&Ev(pe,e.ADD_URI_SAFE_ATTR,Ae),e.FORBID_CONTENTS&&(le===ce&&(le=kv(le)),Ev(le,e.FORBID_CONTENTS,Ae)),re&&(N["#text"]=!0),Y&&Ev(N,["html","head","body"]),N.table&&(Ev(N,["tbody"]),delete H.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw xv('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw xv('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=e.TRUSTED_TYPES_POLICY,I=w.createHTML("")}else void 0===w&&(w=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let i=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(i=t.getAttribute(n));const o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(r){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(f,r)),null!==w&&"string"==typeof I&&(I=w.createHTML(""));sv&&sv(e),Oe=e}},Re=Ev({},[...Dv,...$v,...Bv]),Me=Ev({},[...Fv,...Lv]),De=function(e){mv(i.removed,{element:e});try{T(e).removeChild(e)}catch(t){v(e)}},$e=function(e,t){try{mv(i.removed,{attribute:t.getAttributeNode(e),from:t})}catch(n){mv(i.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{De(t)}catch(n){}else try{t.setAttribute(e,"")}catch(n){}},Be=function(e){let t=null,i=null;if(J)e="<remove></remove>"+e;else{const t=yv(e,/^[\r\n\t ]+/);i=t&&t[0]}"application/xhtml+xml"===Ce&&ve===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const o=w?w.createHTML(e):e;if(ve===ge)try{t=(new h).parseFromString(o,Ce)}catch(a){}if(!t||!t.documentElement){t=S.createDocument(ve,"template",null);try{t.documentElement.innerHTML=be?I:o}catch(a){}}const r=t.body||t.documentElement;return e&&i&&r.insertBefore(n.createTextNode(i),r.childNodes[0]||null),ve===ge?A.call(t,Y?"html":"body")[0]:Y?t.documentElement:r},Fe=function(e){return C.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Le=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Ne=function(e){return"function"==typeof l&&e instanceof l};function Pe(e,t,n){pv(e,e=>{e.call(i,t,n,Oe)})}const je=function(e){let t=null;if(Pe(E.beforeSanitizeElements,e,null),Le(e))return De(e),!0;const n=Ae(e.nodeName);if(Pe(E.uponSanitizeElement,e,{tagName:n,allowedTags:N}),Z&&e.hasChildNodes()&&!Ne(e.firstElementChild)&&Cv(/<[/\w!]/g,e.innerHTML)&&Cv(/<[/\w!]/g,e.textContent))return De(e),!0;if(e.nodeType===ib)return De(e),!0;if(Z&&e.nodeType===nb&&Cv(/<[/\w]/g,e.data))return De(e),!0;if(!N[n]||H[n]){if(!H[n]&&Ue(n)){if(U.tagNameCheck instanceof RegExp&&Cv(U.tagNameCheck,n))return!1;if(U.tagNameCheck instanceof Function&&U.tagNameCheck(n))return!1}if(re&&!le[n]){const t=T(e)||e.parentNode,i=y(e)||e.childNodes;if(i&&t){for(let n=i.length-1;n>=0;--n){const o=g(i[n],!0);o.__removalCount=(e.__removalCount||0)+1,t.insertBefore(o,b(e))}}}return De(e),!0}return e instanceof c&&!function(e){let t=T(e);t&&t.tagName||(t={namespaceURI:ve,tagName:"template"});const i=vv(e.tagName),n=vv(t.tagName);return!!ye[e.namespaceURI]&&(e.namespaceURI===me?t.namespaceURI===ge?"svg"===i:t.namespaceURI===fe?"svg"===i&&("annotation-xml"===n||we[n]):Boolean(Re[i]):e.namespaceURI===fe?t.namespaceURI===ge?"math"===i:t.namespaceURI===me?"math"===i&&Ie[n]:Boolean(Me[i]):e.namespaceURI===ge?!(t.namespaceURI===me&&!Ie[n])&&!(t.namespaceURI===fe&&!we[n])&&!Me[i]&&(Se[i]||!Re[i]):!("application/xhtml+xml"!==Ce||!ye[e.namespaceURI]))}(e)?(De(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!Cv(/<\/no(script|embed|frames)/i,e.innerHTML)?(K&&e.nodeType===tb&&(t=e.textContent,pv([_,k,R],e=>{t=Tv(t,e," ")}),e.textContent!==t&&(mv(i.removed,{element:e.cloneNode()}),e.textContent=t)),Pe(E.afterSanitizeElements,e,null),!1):(De(e),!0)},Ve=function(e,t,i){if(ne&&("id"===t||"name"===t)&&(i in n||i in Ee))return!1;if(q&&!W[t]&&Cv(M,t));else if(z&&Cv(D,t));else if(!j[t]||W[t]){if(!(Ue(e)&&(U.tagNameCheck instanceof RegExp&&Cv(U.tagNameCheck,e)||U.tagNameCheck instanceof Function&&U.tagNameCheck(e))&&(U.attributeNameCheck instanceof RegExp&&Cv(U.attributeNameCheck,t)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(t))||"is"===t&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&Cv(U.tagNameCheck,i)||U.tagNameCheck instanceof Function&&U.tagNameCheck(i))))return!1}else if(pe[t]);else if(Cv(L,Tv(i,B,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==wv(i,"data:")||!de[e]){if(G&&!Cv($,Tv(i,B,"")));else if(i)return!1}else;return!0},Ue=function(e){return"annotation-xml"!==e&&yv(e,F)},He=function(e){Pe(E.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Le(e))return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:j,forceKeepAttr:void 0};let o=t.length;for(;o--;){const a=t[o],{name:s,namespaceURI:l,value:c}=a,d=Ae(s),u=c;let p="value"===s?u:Iv(u);if(n.attrName=d,n.attrValue=p,n.keepAttr=!0,n.forceKeepAttr=void 0,Pe(E.uponSanitizeAttribute,e,n),p=n.attrValue,!oe||"id"!==d&&"name"!==d||($e(s,e),p="user-content-"+p),Z&&Cv(/((--!?|])>)|<\/(style|title)/i,p)){$e(s,e);continue}if(n.forceKeepAttr)continue;if(!n.keepAttr){$e(s,e);continue}if(!X&&Cv(/\/>/i,p)){$e(s,e);continue}K&&pv([_,k,R],e=>{p=Tv(p,e," ")});const h=Ae(e.nodeName);if(Ve(h,d,p)){if(w&&"object"==typeof f&&"function"==typeof f.getAttributeType)if(l);else switch(f.getAttributeType(h,d)){case"TrustedHTML":p=w.createHTML(p);break;case"TrustedScriptURL":p=w.createScriptURL(p)}if(p!==u)try{l?e.setAttributeNS(l,s,p):e.setAttribute(s,p),Le(e)?De(e):fv(i.removed)}catch(r){$e(s,e)}}else $e(s,e)}Pe(E.afterSanitizeAttributes,e,null)},We=function e(t){let i=null;const n=Fe(t);for(Pe(E.beforeSanitizeShadowDOM,t,null);i=n.nextNode();)Pe(E.uponSanitizeShadowNode,i,null),je(i),He(i),i.content instanceof a&&e(i.content);Pe(E.afterSanitizeShadowDOM,t,null)};return i.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null,s=null,c=null;if(be=!e,be&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Ne(e)){if("function"!=typeof e.toString)throw xv("toString is not a function");if("string"!=typeof(e=e.toString()))throw xv("dirty is not a string, aborting")}if(!i.isSupported)return e;if(Q||ke(t),i.removed=[],"string"==typeof e&&(ae=!1),ae){if(e.nodeName){const t=Ae(e.nodeName);if(!N[t]||H[t])throw xv("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)n=Be("\x3c!----\x3e"),r=n.ownerDocument.importNode(e,!0),r.nodeType===eb&&"BODY"===r.nodeName||"HTML"===r.nodeName?n=r:n.appendChild(r);else{if(!ee&&!K&&!Y&&-1===e.indexOf("<"))return w&&ie?w.createHTML(e):e;if(n=Be(e),!n)return ee?null:ie?I:""}n&&J&&De(n.firstChild);const d=Fe(ae?e:n);for(;s=d.nextNode();)je(s),He(s),s.content instanceof a&&We(s.content);if(ae)return e;if(ee){if(te)for(c=x.call(n.ownerDocument);n.firstChild;)c.appendChild(n.firstChild);else c=n;return(j.shadowroot||j.shadowrootmode)&&(c=O.call(o,c,!0)),c}let u=Y?n.outerHTML:n.innerHTML;return Y&&N["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&Cv(Yv,n.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+u),K&&pv([_,k,R],e=>{u=Tv(u,e," ")}),w&&ie?w.createHTML(u):u},i.setConfig=function(){ke(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Q=!0},i.clearConfig=function(){Oe=null,Q=!1},i.isValidAttribute=function(e,t,i){Oe||ke({});const n=Ae(e),o=Ae(t);return Ve(n,o,i)},i.addHook=function(e,t){"function"==typeof t&&mv(E[e],t)},i.removeHook=function(e,t){if(void 0!==t){const i=hv(E[e],t);return-1===i?void 0:gv(E[e],i,1)[0]}return fv(E[e])},i.removeHooks=function(e){E[e]=[]},i.removeAllHooks=function(){E={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},i}(),ab=mi('<div class="col req text-prewrap"><!></div>'),sb=mi('<div class="col req text-prewrap"><!></div>');function lb(e,t){q(t,!0);let i=se(()=>{let e=Su.get(t.required.reqId);return void 0!==e&&void 0!==app.globalRequirements?e.requireds:[]}),n=se(()=>{let e=!1;return t.required.showRequired&&(e=!0,t.required.hideRequired2&&(e=Ip(t.required.requireds)),t.required.hideRequired&&(e=t.required.requireds.length>0?Ip(t.required.requireds)&&!wp(t.required):!wp(t.required))),e}),o=se(()=>mp(tp(t.required)));var r=yi(),a=Xe(r),s=e=>{var n=yi(),r=Xe(n),a=e=>{var n=yi();Oi(Xe(n),17,()=>Gt(i),Ai,(e,i)=>{var n=yi(),o=Xe(n),r=e=>{var n=yi();xi(Xe(n),()=>mp(tp(Gt(i))),e=>{var n=ab();Mi(Ge(n),()=>rb.sanitize(mp(tp(Gt(i))),Mu)),st(()=>zi(n,t.scoreText)),Ti(e,n)}),Ti(e,n)};Ci(o,e=>{Gt(i).showRequired&&e(r)}),Ti(e,n)}),Ti(e,n)},s=e=>{var i=yi();xi(Xe(i),()=>Gt(o),e=>{var i=sb();Mi(Ge(i),()=>rb.sanitize(Gt(o),Mu)),st(()=>zi(i,t.scoreText)),Ti(e,i)}),Ti(e,i)};Ci(r,e=>{"gid"===t.required.type?e(a):e(s,!1)}),Ti(e,n)};Ci(a,e=>{Gt(n)&&e(s)}),Ti(e,r),G()}var cb=mi('<img class="me-1" alt=""/>'),db=mi('<img class="mx-1" alt=""/>'),ub=mi('<img class="mx-1" alt=""/>'),pb=mi('<img class="ms-1" alt=""/>'),hb=mi("<!> <!><!> <!><!> <!><!>",1),fb=mi('<p class="m-0 d-flex text-prewrap align-items-center"><!></p>'),mb=mi('<div class="row m-0"><div class="col-12 p-0 m-0 d-flex align-items-center justify-center"><!></div></div>');function gb(e,t){q(t,!0);let i=se(()=>gp("privateTextIsOn",t.row,t.choice)),n=se(()=>gp("privateFilterIsOn",t.row,t.choice)),o=se(()=>yu.get(t.score.id)),r=se(()=>Ip(t.choice.requireds)),a=se(()=>{let e={isWithinCount:!1,isSimple:!1};if(!t.score.discountIsOn||!t.score.discountedFrom||0===t.score.discountedFrom.length)return e;for(let i=0;i<t.score.discountedFrom.length;i++){const n=wu.get(t.score.discountedFrom[i]);if(void 0!==n){const t=n.choice;if(!t.useDiscountCount||void 0===t.discountCount||!t.appliedDisChoices){e.isSimple=!0;break}if((t.isSelectableMultiple&&t.isMultipleUseVariable?t.discountCount*t.multipleUseVariable:t.discountCount)>t.appliedDisChoices.length){e.isWithinCount=!0;break}}}return e}),s=se(()=>{let e=[];if(t.score.discountIsOn&&t.score.discountShow&&t.score.discountAfterText)if(t.score.appliedDiscount)t.score.replaceText||e.push(`${t.score.afterText}`),e.push(`${t.score.discountAfterText}`);else if(Gt(a).isWithinCount)t.score.replaceText||e.push(`${t.score.afterText}`),e.push(`${t.score.discountAfterText}`);else if(Gt(a).isSimple)t.score.replaceText||e.push(`${t.score.afterText}`),e.push(`${t.score.discountAfterText}`);else if(void 0!==t.score.tmpDiscount){let i=t.score.value,n="",o=!1;for(let e=0;e<t.score.tmpDiscount.length;e++)t.score.tmpDiscount[e].showDiscount&&i>t.score.tmpDiscount[e].discountedValue&&(i=t.score.tmpDiscount[e].discountedValue,n=t.score.tmpDiscount[e].beforeText||"",o=t.score.tmpDiscount[e].replaceText||!1);o||e.push(`${t.score.afterText}`),e.push(`${n}`)}else e.push(`${t.score.afterText}`);else e.push(`${t.score.afterText}`);return e.join(" ")}),l=se(()=>{let e=[];if(t.score.discountIsOn&&t.score.discountShow&&t.score.discountBeforeText)if(t.score.appliedDiscount)t.score.replaceText||e.push(`${t.score.beforeText}`),e.push(`${t.score.discountBeforeText}`);else if(Gt(a).isWithinCount)t.score.replaceText||e.push(`${t.score.beforeText}`),e.push(`${t.score.discountBeforeText}`);else if(Gt(a).isSimple)t.score.replaceText||e.push(`${t.score.beforeText}`),e.push(`${t.score.discountBeforeText}`);else if(void 0!==t.score.tmpDiscount){let i=t.score.value,n="",o=!1;for(let e=0;e<t.score.tmpDiscount.length;e++)t.score.tmpDiscount[e].showDiscount&&i>t.score.tmpDiscount[e].discountedValue&&(i=t.score.tmpDiscount[e].discountedValue,n=t.score.tmpDiscount[e].beforeText||"",o=t.score.tmpDiscount[e].replaceText||!1);o||e.push(`${t.score.beforeText}`),e.push(`${n}`)}else e.push(`${t.score.beforeText}`);else e.push(`${t.score.beforeText}`);return e.join(" ")}),c=se(()=>{let e=t.score.value;if(!t.score.hideValue){if(t.score.isRandom&&!t.score.setValue)return Gt(d);if(!t.score.setValue&&t.score.useExpression&&t.score.expValue){if(void 0!==yu.get(t.score.id))try{e=iu(t.score.expValue.replace(/\{([^{}]+)\}/g,(e,t)=>{const i=yu.get(t);if(void 0!==i)return`${i.startingSum}`;throw new Error(`Undefined variable: "${t}"`)}))}catch(Pd){console.error(Pd)}}if(t.score.discountShow)if(t.score.appliedDiscount){if(t.score.replaceText&&t.score.hideDisValue)return"";void 0!==t.score.discountScore&&(e=t.score.discountScore)}else if(Gt(a).isWithinCount||Gt(a).isSimple){if(t.score.replaceText&&t.score.hideDisValue)return"";if(t.score.useExpression&&t.score.expValue){if(t.score.discountedFrom&&t.score.discountedFrom.length>0)for(let i=0;i<t.score.discountedFrom.length;i++){const n=wu.get(t.score.discountedFrom[i]);if(void 0!==n){const t=n.choice;e=_p(e,t.discountOperator,t.discountValue),t.discountLowLimitIsOn&&void 0!==t.discountLowLimit&&(e=Math.max(e,t.discountLowLimit))}}}else void 0!==t.score.discountScore&&(e=t.score.discountScore)}else if(void 0!==t.score.tmpDiscount){let i=!1;for(let n=0;n<t.score.tmpDiscount.length;n++)t.score.tmpDiscount[n].showDiscount&&e>t.score.tmpDiscount[n].discountedValue&&(e=t.score.tmpDiscount[n].discountedValue,i=t.score.tmpDiscount[n].hideValue||!1);if(i)return""}if(e=Math.abs(e),e=Gt(o)?.allowFloat?e%1==0?e:parseFloat(e.toFixed(void 0!==Gt(o).decimalPlaces?Gt(o).decimalPlaces:2)):Math.floor(e),t.choice.isSelectableMultiple&&t.score.multiplyByTimes&&t.score.displayMulScore&&(e*=t.choice.multipleUseVariable+1),Gt(o)?.plussOrMinusAdded){return`${Gt(o).plussOrMinusInverted?Gt(u)?"-":"+":Gt(u)?"+":"-"}${e}`}return`${e}`}return""}),d=se(()=>{let e=0,i=0,n=!1,r=!1;if(t.score.useExpression){if(t.score.expMaxValue)try{e=iu(t.score.expMaxValue.replace(/\{([^{}]+)\}/g,(e,t)=>{const i=yu.get(t);if(void 0!==i)return`${i.startingSum}`;throw new Error(`Undefined variable: "${t}"`)})),n=e<0}catch(Pd){console.error(Pd)}if(t.score.expMinValue)try{i=iu(t.score.expMinValue.replace(/\{([^{}]+)\}/g,(e,t)=>{const i=yu.get(t);if(void 0!==i)return`${i.startingSum}`;throw new Error(`Undefined variable: "${t}"`)})),r=i<0}catch(Pd){console.error(Pd)}}else void 0!==t.score.maxValue&&void 0!==t.score.minValue&&(n=t.score.maxValue<0,r=t.score.minValue<0,e=Math.abs(t.score.maxValue),i=Math.abs(t.score.minValue));if(Gt(o)?.allowFloat?(e=e%1==0?e:parseFloat(e.toFixed(void 0!==Gt(o).decimalPlaces?Gt(o).decimalPlaces:2)),i=i%1==0?i:parseFloat(i.toFixed(void 0!==Gt(o).decimalPlaces?Gt(o).decimalPlaces:2))):(e=Math.floor(e),i=Math.floor(i)),Gt(o)?.plussOrMinusAdded){let t=Gt(o).plussOrMinusInverted?n?"-":"+":n?"+":"-",a=Gt(o).plussOrMinusInverted?r?"-":"+":r?"+":"-";return n?`${t}${e} ~ ${a}${i}`:`${a}${i} ~ ${t}${e}`}return n?`${e} ~ ${i}`:`${i} ~ ${e}`}),u=se(()=>t.score.discountShow?(void 0!==t.score.discountScore&&(t.score.appliedDiscount||Gt(a).isWithinCount||Gt(a).isSimple)?t.score.discountScore:t.score.value)<0:t.score.value<0),p=se(()=>{let e=[];return e.push(`font-family: '${Gt(i).scoreText}'; font-size: ${Gt(i).scoreTextSize}%; text-align: ${Gt(i).scoreTextAlign};`),Gt(o)?.pointColorsIsOn?Gt(u)?e.push(`color: ${Lh(Gt(o).positiveColor)};`):e.push(`color: ${Lh(Gt(o).negativeColor)};`):e.push(`color: ${Lh(Gt(i).scoreTextColor)};`),Gt(r)?t.choice.isActive&&Gt(n).selScoreTextColorIsOn&&e.push(`color: ${Lh(Gt(n).selFilterSTextColor)}`):Gt(n).reqScoreTextColorIsOn&&e.push(`color: ${Lh(Gt(n).reqFilterSTextColor)}`),e.join(" ")}),h=se(()=>{if(!Gt(o)||!Gt(o).iconIsOn)return!1;if(t.score.discountIsOn&&t.score.discountShow)if(t.score.appliedDiscount){if(t.score.replaceText&&t.score.hideDisIcon)return!1}else if(Gt(a).isWithinCount){if(t.score.replaceText&&t.score.hideDisIcon)return!1}else if(Gt(a).isSimple){if(t.score.hideDisIcon)return!1}else if(void 0!==t.score.tmpDiscount){let e=t.score.value,i=!1;for(let n=0;n<t.score.tmpDiscount.length;n++)t.score.tmpDiscount[n].showDiscount&&e>t.score.tmpDiscount[n].discountedValue&&(e=t.score.tmpDiscount[n].discountedValue,i=t.score.tmpDiscount[n].hideIcon||!1);if(i)return!1}return!0}),f=se(()=>Gt(o)?.negativeIconIsOn&&Gt(u)),m=se(()=>!!Gt(o)&&(Gt(f)?Gt(o).useSeperatePosition?!!Gt(o).negativeImageSidePlacementInChoice:!!Gt(o).negativeImageSidePlacement:Gt(o).useSeperatePosition?!!Gt(o).imageSidePlacementInChoice:!!Gt(o).imageSidePlacement)),g=se(()=>!!Gt(o)&&(Gt(f)?Gt(o).useSeperatePosition?!!Gt(o).negativeImageOnSideInChoice:!!Gt(o).negativeImageOnSide:Gt(o).useSeperatePosition?!!Gt(o).imageOnSideInChoice:!!Gt(o).imageOnSide)),v=se(()=>(Gt(f)?Gt(o)?.negativeImage:Gt(o)?.image)||""),b=se(()=>(Gt(f)?Gt(o)?.negativeIconWidth:Gt(o)?.iconWidth)||0),y=se(()=>(Gt(f)?Gt(o)?.negativeIconHeight:Gt(o)?.iconHeight)||0),T=se(()=>!Gt(m)&&!Gt(g)),w=se(()=>!Gt(m)&&Gt(g)),I=se(()=>Gt(m)&&!Gt(g)),S=se(()=>Gt(m)&&Gt(g)),C=se(()=>`${Gt(l)} ${Gt(c)} ${Gt(s)}`);var x=yi(),A=Xe(x),O=e=>{var t=mb(),i=Ge(t);xi(Ge(i),()=>Gt(C),e=>{var t=fb(),i=Ge(t),n=e=>{var t=hb(),i=Xe(t),n=e=>{var t=cb();st(()=>{Ji(t,"src",Gt(v)),zi(t,`width: ${Gt(b)??""}px; height: ${Gt(y)??""}px;`)}),Ti(e,t)};Ci(i,e=>{Gt(T)&&e(n)});var o=Ke(i,2);Mi(o,()=>rb.sanitize(Gt(l),Mu));var r=Ke(o),a=e=>{var t=db();st(()=>{Ji(t,"src",Gt(v)),zi(t,`width: ${Gt(b)??""}px; height: ${Gt(y)??""}px;`)}),Ti(e,t)};Ci(r,e=>{Gt(w)&&e(a)});var d=Ke(r,2);Mi(d,()=>rb.sanitize(Gt(c),Mu));var u=Ke(d),p=e=>{var t=ub();st(()=>{Ji(t,"src",Gt(v)),zi(t,`width: ${Gt(b)??""}px; height: ${Gt(y)??""}px;`)}),Ti(e,t)};Ci(u,e=>{Gt(I)&&e(p)});var h=Ke(u,2);Mi(h,()=>rb.sanitize(Gt(s),Mu));var f=Ke(h),m=e=>{var t=pb();st(()=>{Ji(t,"src",Gt(v)),zi(t,`width: ${Gt(b)??""}px; height: ${Gt(y)??""}px;`)}),Ti(e,t)};Ci(f,e=>{Gt(S)&&e(m)}),Ti(e,t)},o=e=>{var t=yi();Mi(Xe(t),()=>rb.sanitize(`${Gt(l)} ${Gt(c)} ${Gt(s)}`,Mu)),Ti(e,t)};Ci(i,e=>{Gt(h)?e(n):e(o,!1)}),Ti(e,t)}),st(()=>zi(i,Gt(p))),Ti(e,t)};Ci(A,e=>{(function(){if(t.score.showScore){if(void 0!==Gt(o)&&Gt(o).isNotShownObjects){if(void 0!==Gt(o).activatedId&&""!==Gt(o).activatedId){let e=Su.get(Gt(o).activatedId),t=xu.get(Gt(o).activatedId);return void 0!==e?Ip(e.requireds):void 0!==t?t.isTrue:bp(Gt(o).activatedId)}return!1}return!0}return!1})()&&Ip(t.score.requireds)&&e(O)}),Ti(e,x),G()}var vb=mi('<img alt=""/>'),bb=mi('<img alt=""/>'),yb=mi('<h3 class="m-0"><!></h3>'),Tb=mi("<!> <!>",1),wb=mi('<img alt=""/>'),Ib=mi('<img alt=""/>'),Sb=mi('<p class="mb-0"><!></p>'),Cb=mi('<img alt=""/>'),xb=mi('<img alt=""/>'),Ab=mi("<div><!> <!> <!> <!> <!> <!> <!></div>"),Ob=mi('<img alt=""/>'),Eb=mi('<img alt=""/>'),_b=mi('<h2 class="mb-0"><!></h2>'),kb=mi("<!> <!>",1),Rb=mi('<p class="mb-0"><!></p>'),Mb=mi('<div class="col p-0 text-center"><!></div> <div class="col p-0 text-center"><!> <!> <!> <!></div>',1),Db=mi('<h2 class="mb-0"><!></h2>'),$b=mi("<!> <!>",1),Bb=mi('<p class="mb-0"><!></p>'),Fb=mi('<img alt=""/>'),Lb=mi('<img alt=""/>'),Nb=mi('<div class="col p-0 text-center"><!> <!> <!> <!></div> <div class="col p-0 text-center"><!></div>',1),Pb=mi('<div class="row m-0 p-0 w-100"><!></div>'),jb=mi("<div><!></div>");function Vb(e,t){q(t,!0);const i=()=>Tn(Wu,"$winWidth",n),[n,o]=In();let r=On(t,"windowWidth",3,0),a=On(t,"preloadImages",3,!1),s=se(()=>void 0!==t.choice&&t.choice.isActive),l=se(()=>gp("privateAddonImageIsOn",t.row,t.choice)),c=se(()=>gp("privateAddonIsOn",t.row,t.choice)),d=se(()=>gp("privateFilterIsOn",t.row,t.choice)),u=se(()=>gp("privateObjectImageIsOn",t.row,t.choice)),p=se(()=>gp("privateObjectIsOn",t.row,t.choice)),h=se(()=>gp("privateTextIsOn",t.row,t.choice)),f=se(()=>Ip(t.addon.requireds)),m=se(()=>mp(t.addon.title)),g=se(()=>mp(t.addon.text)),v=se(()=>void 0!==Gt(l).addonImageBoxWidth?Gt(l).addonImageBoxWidth:50),b=se(()=>{let e=Gt(c).useAddonDesign,i=(e?Gt(c).addonBorderRadiusIsPixels:Gt(p).objectBorderRadiusIsPixels)?"px":"%",n=0,o=0,r=0,a=[];if(e){if(Gt(c).addonBorderImage&&a.push(`border-image: url('${Gt(c).addonBorderImage}') ${Gt(c).addonBorderImageSliceTop} ${Gt(c).addonBorderImageSliceRight} ${Gt(c).addonBorderImageSliceBottom} ${Gt(c).addonBorderImageSliceLeft} / ${Gt(c).addonBorderImageWidth}px ${Gt(c).addonBorderImageRepeat}; border-style: solid; padding: ${Gt(c).addonBorderImageWidth}px;`),Gt(c).useAddonBackgroundImage&&Gt(c).addonBackgroundImage&&(a.push(`background-image: url('${Gt(c).addonBackgroundImage}'); ${Gt(c).isObjectBackgroundRepeat?"background-repeat: repeat;":Gt(c).isObjectBackgroundFitIn?"background-size: 100% 100%;":"background-size: cover;"}`),n=a.length),Gt(c).addonBgColorIsOn&&(a.push(`background-color: ${Lh(Gt(c).addonBgColor)};`),o=a.length),a.push(`margin: ${Gt(c).addonMargin}px;`),a.push(`border-radius: ${Gt(c).addonBorderRadiusTopLeft}${i} ${Gt(c).addonBorderRadiusTopRight}${i} ${Gt(c).addonBorderRadiusBottomRight}${i} ${Gt(c).addonBorderRadiusBottomLeft}${i};`),Gt(c).addonOverflowIsOn&&a.push("overflow: hidden;"),Gt(c).addonBorderIsOn||Gt(s)&&Gt(d).selBorderColorIsOn||!t.isEnabled&&Gt(d).reqBorderColorIsOn){let e=Gt(c).addonBorderColor;!t.isEnabled&&Gt(d).reqBorderColorIsOn?e=Gt(d).reqFilterBorderColor:Gt(s)&&Gt(d).selBorderColorIsOn&&(e=Gt(d).selFilterBorderColor),a.push(`border: ${Gt(c).addonBorderWidth}px ${Gt(c).addonBorderStyle} ${Lh(e)};`)}Gt(c).addonGradientIsOn&&(t.isEnabled&&Gt(f)?Gt(s)?a.push(`background-image: linear-gradient(${Gt(c).addonGradientOnSelect});`):a.push(`background-image: linear-gradient(${Gt(c).addonGradient});`):a.push(`background-image: linear-gradient(${Gt(c).addonGradientOnReq});`)),Gt(c).addonDropShadowIsOn&&(Gt(c).addonUseBoxShadowIsOn?a.push(`box-shadow: ${Gt(c).addonDropShadowH}px ${Gt(c).addonDropShadowV}px ${Gt(c).addonDropShadowBlur}px ${Gt(c).addonDropShadowSpread}px ${Lh(Gt(c).addonDropShadowColor)};`):(r=a.length,a.push(`filter: drop-shadow(${Gt(c).addonDropShadowH}px ${Gt(c).addonDropShadowV}px ${Gt(c).addonDropShadowBlur}px ${Lh(Gt(c).addonDropShadowColor)})`))),0===r&&(a.push("filter:"),r=a.length),t.isEnabled&&Gt(f)&&(Gt(s)?(Gt(d).selFilterBlurIsOn&&a.push(` blur(${Gt(d).selFilterBlur}px)`),Gt(d).selFilterBrightIsOn&&a.push(` brightness(${Gt(d).selFilterBright}%)`),Gt(d).selFilterContIsOn&&a.push(` contrast(${Gt(d).selFilterCont}%)`),Gt(d).selFilterGrayIsOn&&a.push(` grayscale(${Gt(d).selFilterGray}%)`),Gt(d).selFilterHueIsOn&&a.push(` hue-rotate(${Gt(d).selFilterHue}deg)`),Gt(d).selFilterInvertIsOn&&a.push(` invert(${Gt(d).selFilterInvert}%)`),Gt(d).selFilterOpacIsOn&&a.push(` opacity(${Gt(d).selFilterOpac}%)`),Gt(d).selFilterSaturIsOn&&a.push(` saturate(${Gt(d).selFilterSatur})`),Gt(d).selFilterSepiaIsOn&&a.push(` sepia(${Gt(d).selFilterGray}%)`),a.length===r?a.splice(r-1,1):a.push(";")):(Gt(d).unselFilterBlurIsOn&&a.push(` blur(${Gt(d).unselFilterBlur}px)`),Gt(d).unselFilterBrightIsOn&&a.push(` brightness(${Gt(d).unselFilterBright}%)`),Gt(d).unselFilterContIsOn&&a.push(` contrast(${Gt(d).unselFilterCont}%)`),Gt(d).unselFilterGrayIsOn&&a.push(` grayscale(${Gt(d).unselFilterGray}%)`),Gt(d).unselFilterHueIsOn&&a.push(` hue-rotate(${Gt(d).unselFilterHue}deg)`),Gt(d).unselFilterInvertIsOn&&a.push(` invert(${Gt(d).unselFilterInvert}%)`),Gt(d).unselFilterOpacIsOn&&a.push(` opacity(${Gt(d).unselFilterOpac}%)`),Gt(d).unselFilterSaturIsOn&&a.push(` saturate(${Gt(d).unselFilterSatur})`),Gt(d).unselFilterSepiaIsOn&&a.push(` sepia(${Gt(d).unselFilterGray}%)`)),a.length===r?a.splice(r-1,1):a.push(";"))}return(app.showAllAddons>0||t.addon.showAddon)&&t.isEnabled&&!Gt(f)&&(0===r&&(a.push("filter:"),r=a.length),Gt(d).reqFilterBlurIsOn&&a.push(` blur(${Gt(d).reqFilterBlur}px)`),Gt(d).reqFilterBrightIsOn&&a.push(` brightness(${Gt(d).reqFilterBright}%)`),Gt(d).reqFilterContIsOn&&a.push(` contrast(${Gt(d).reqFilterCont}%)`),Gt(d).reqFilterGrayIsOn&&a.push(` grayscale(${Gt(d).reqFilterGray}%)`),Gt(d).reqFilterHueIsOn&&a.push(` hue-rotate(${Gt(d).reqFilterHue}deg)`),Gt(d).reqFilterInvertIsOn&&a.push(` invert(${Gt(d).reqFilterInvert}%)`),Gt(d).reqFilterOpacIsOn&&a.push(` opacity(${Gt(d).reqFilterOpac}%)`),Gt(d).reqFilterSaturIsOn&&a.push(` saturate(${Gt(d).reqFilterSatur})`),Gt(d).reqFilterSepiaIsOn&&a.push(` sepia(${Gt(d).reqFilterGray}%)`),a.length===r?a.splice(r-1,1):a.push(";"),Gt(d).reqBgColorIsOn&&(Gt(d).reqOverlayOnImage||(0!==o&&a.splice(o-1,1),0!==n&&a.splice(n-1,1)),a.push(`background-color: ${Lh(Gt(d).reqFilterBgColor)};`)),e&&Gt(c).addonGradientIsOn&&a.push(`background-image: linear-gradient(${Gt(c).addonGradientOnReq});`)),a.join(" ")}),y=se(()=>{let e=[];return e.push(`white-space: pre-line; font-family: '${Gt(h).addonTitle}'; font-size: ${Gt(h).addonTitleTextSize}%; text-align: ${Gt(h).addonTitleAlign};`),!t.isEnabled&&Gt(d).reqATitleColorIsOn?e.push(`color: ${Lh(Gt(d).reqFilterATitleColor)};`):Gt(s)&&Gt(d).selATitleColorIsOn?e.push(`color: ${Lh(Gt(d).selFilterATitleColor)};`):e.push(`color: ${Lh(Gt(h).addonTitleColor)};`),Gt(c).useAddonDesign?Gt(c).titlePaddingIsOn&&e.push(`padding: ${Gt(c).addonTextPadding}px;`):Gt(p).titlePaddingIsOn&&e.push(`padding: ${Gt(p).objectTextPadding}px;`),e.join(" ")}),T=se(()=>{let e=[];return e.push(`white-space: pre-wrap; font-family: '${Gt(h).addonText}'; text-align: ${Gt(h).addonTextAlign}; font-size: ${Gt(h).addonTextTextSize}%;`),!t.isEnabled&&Gt(d).reqATextColorIsOn?e.push(`color: ${Lh(Gt(d).reqFilterATextColor)};`):Gt(s)&&Gt(d).selATextColorIsOn?e.push(`color: ${Lh(Gt(d).selFilterATextColor)};`):e.push(`color: ${Lh(Gt(h).addonTextColor)};`),Gt(c).useAddonDesign?e.push(`padding: ${Gt(c).addonTextPadding}px;`):e.push(`padding: ${Gt(p).objectTextPadding}px;`),e.join(" ")}),w=se(()=>{let e=[],i=Gt(l).useAddonImage,n=(i?Gt(l).addonImgBorderRadiusIsPixels:Gt(u).objectImgBorderRadiusIsPixels)?"px":"%";if(i){if(e.push(`width: ${Gt(l).addonImageWidth}%; margin-top: ${Gt(l).addonImageMarginTop}%; margin-bottom: ${Gt(l).addonImageMarginBottom}%;`),Gt(l).addonImgObjectFillIsOn){e.push(`object-fit: ${Gt(l).addonImgObjectFillStyle};`);const i=t.choice.addonImgObjectFillHeight||Gt(u).addonImgObjectFillHeight;i&&e.push(`height: ${i}px`)}if(e.push(`border-radius: ${Gt(l).addonImgBorderRadiusTopLeft}${n} ${Gt(l).addonImgBorderRadiusTopRight}${n} ${Gt(l).addonImgBorderRadiusBottomRight}${n} ${Gt(l).addonImgBorderRadiusBottomLeft}${n};`),Gt(l).addonImgOverflowIsOn&&e.push("overflow: hidden;"),Gt(l).addonImgBorderIsOn){const i=t.isEnabled?Gt(s)&&Gt(d).selImgBorderColorIsOn&&Gt(d).selFilterImgBorderColor||Gt(l).addonImgBorderColor:Gt(d).reqImgBorderColorIsOn&&Gt(d).reqFilterImgBorderColor||Gt(l).addonImgBorderColor;e.push(`border: ${Gt(l).addonImgBorderWidth}px ${Gt(l).addonImgBorderStyle} ${Lh(i)};`)}}else{if(e.push(`width: ${Gt(u).objectImageWidth}%; margin-top: ${Gt(u).objectImageMarginTop}%; margin-bottom: ${Gt(u).objectImageMarginBottom}%;`),Gt(u).objectImgObjectFillIsOn){e.push(`object-fit: ${Gt(u).objectImgObjectFillStyle};`);const i=t.row?.objectImgObjectFillHeight||Gt(u).objectImgObjectFillHeight;i&&e.push(`height: ${i}px;`)}if(e.push(`border-radius: ${Gt(u).objectImgBorderRadiusTopLeft}${n} ${Gt(u).objectImgBorderRadiusTopRight}${n} ${Gt(u).objectImgBorderRadiusBottomRight}${n} ${Gt(u).objectImgBorderRadiusBottomLeft}${n};`),Gt(u).objectImgOverflowIsOn&&e.push("overflow: hidden;"),Gt(u).objectImgBorderIsOn){const i=t.isEnabled?Gt(s)&&Gt(d).selImgBorderColorIsOn&&Gt(d).selFilterImgBorderColor||Gt(u).objectImgBorderColor:Gt(d).reqImgBorderColorIsOn&&Gt(d).reqFilterImgBorderColor||Gt(u).objectImgBorderColor;e.push(`border: ${Gt(u).objectImgBorderWidth}px ${Gt(u).objectImgBorderStyle} ${Lh(i)};`)}}return e.join(" ")}),I=se(()=>`font-family: '${Gt(h).scoreText}'; font-size: ${Gt(h).scoreTextSize}%; text-align: ${Gt(h).scoreTextAlign}; color: ${Lh(Gt(h).scoreTextColor)};`);function S(e){navigator.clipboard.writeText(t.addon.imageSourceTooltip).then(()=>{Lu.labelText="Tooltip copied to clipboard.",Lu.isOpen=!0}).catch(()=>{console.log(t.addon.imageSourceTooltip),Lu.labelText="Tooltip text logged to developer console.",Lu.isOpen=!0})}var C=jb(),x=Ge(C),A=e=>{var i=Ab(),n=Ge(i),o=e=>{var i=yi(),n=Xe(i),o=e=>{var i=vb();i.__contextmenu=S,Fi(i,(e,t)=>jh?.(e,t),()=>t.addon.imageSourceTooltip),st(()=>{Ji(i,"src",t.addon.image),zi(i,Gt(w)),Ji(i,"loading",a()?"eager":"lazy")}),Ti(e,i)},r=e=>{var i=bb();st(()=>{Ji(i,"src",t.addon.image),zi(i,Gt(w)),Ji(i,"loading",a()?"eager":"lazy")}),Ti(e,i)};Ci(n,e=>{t.addon.imageSourceTooltip?e(o):e(r,!1)}),Ti(e,i)};Ci(n,e=>{(1===t.addon.template||r()<=1280)&&t.addon.image&&!t.row?.addonImageRemoved&&e(o)});var s=Ke(n,2),l=e=>{var t=yi();xi(Xe(t),()=>Gt(m),e=>{var t=yb();Mi(Ge(t),()=>rb.sanitize(Gt(m),Mu)),st(()=>zi(t,Gt(y))),Ti(e,t)}),Ti(e,t)};Ci(s,e=>{""===t.addon.title||t.row?.addonTitleRemoved||e(l)});var c=Ke(s,2),d=e=>{var i=yi();Oi(Xe(i),17,()=>t.choice.scores,Ai,(e,i)=>{gb(e,{get score(){return Gt(i)},get row(){return t.row},get choice(){return t.choice}})}),Ti(e,i)};Ci(c,e=>{!t.row?.objectScoreRemoved&&t.choice.showScoreInAddon&&t.isFirst&&e(d)});var u=Ke(c,2),p=e=>{var i=Tb(),n=Xe(i),o=e=>{var i=yi();Oi(Xe(i),17,()=>t.choice.requireds,Ai,(e,t)=>{lb(e,{get required(){return Gt(t)},get scoreText(){return Gt(I)}})}),Ti(e,i)};Ci(n,e=>{t.choice.showReqInAddon&&t.isFirst&&e(o)}),Oi(Ke(n,2),17,()=>t.addon.requireds,Ai,(e,t)=>{lb(e,{get required(){return Gt(t)},get scoreText(){return Gt(I)}})}),Ti(e,i)};Ci(u,e=>{t.row?.objectRequirementRemoved||e(p)});var h=Ke(u,2),f=e=>{var i=yi(),n=Xe(i),o=e=>{var i=wb();i.__contextmenu=S,Fi(i,(e,t)=>jh?.(e,t),()=>t.addon.imageSourceTooltip),st(()=>{Ji(i,"src",t.addon.image),zi(i,Gt(w)),Ji(i,"loading",a()?"eager":"lazy")}),Ti(e,i)},r=e=>{var i=Ib();st(()=>{Ji(i,"src",t.addon.image),zi(i,Gt(w)),Ji(i,"loading",a()?"eager":"lazy")}),Ti(e,i)};Ci(n,e=>{t.addon.imageSourceTooltip?e(o):e(r,!1)}),Ti(e,i)};Ci(h,e=>{5===t.addon.template&&r()>1280&&t.addon.image&&!t.row?.addonImageRemoved&&e(f)});var v=Ke(h,2),b=e=>{var t=yi();xi(Xe(t),()=>Gt(g),e=>{var t=Sb();Mi(Ge(t),()=>rb.sanitize(Gt(g),Mu)),st(()=>zi(t,Gt(T))),Ti(e,t)}),Ti(e,t)};Ci(v,e=>{""===t.addon.text||t.row?.addonTextRemoved||e(b)});var C=Ke(v,2),x=e=>{var i=yi(),n=Xe(i),o=e=>{var i=Cb();i.__contextmenu=S,Fi(i,(e,t)=>jh?.(e,t),()=>t.addon.imageSourceTooltip),st(()=>{Ji(i,"src",t.addon.image),zi(i,Gt(w)),Ji(i,"loading",a()?"eager":"lazy")}),Ti(e,i)},r=e=>{var i=xb();st(()=>{Ji(i,"src",t.addon.image),zi(i,Gt(w)),Ji(i,"loading",a()?"eager":"lazy")}),Ti(e,i)};Ci(n,e=>{t.addon.imageSourceTooltip?e(o):e(r,!1)}),Ti(e,i)};Ci(C,e=>{4===t.addon.template&&r()>1280&&t.addon.image&&!t.row?.addonImageRemoved&&e(x)}),Ti(e,i)},O=e=>{var i=Pb(),n=Ge(i),o=e=>{var i=Mb(),n=Xe(i),o=Ge(n),r=e=>{var i=yi(),n=Xe(i),o=e=>{var i=Ob();i.__contextmenu=S,Fi(i,(e,t)=>jh?.(e,t),()=>t.addon.imageSourceTooltip),st(()=>{Ji(i,"src",t.addon.image),zi(i,Gt(w)),Ji(i,"loading",a()?"eager":"lazy")}),Ti(e,i)},r=e=>{var i=Eb();st(()=>{Ji(i,"src",t.addon.image),zi(i,Gt(w)),Ji(i,"loading",a()?"eager":"lazy")}),Ti(e,i)};Ci(n,e=>{t.addon.imageSourceTooltip?e(o):e(r,!1)}),Ti(e,i)};Ci(o,e=>{t.addon.image&&!t.row?.addonImageRemoved&&e(r)});var s=Ke(n,2),l=Ge(s),c=e=>{var t=yi();xi(Xe(t),()=>Gt(m),e=>{var t=_b();Mi(Ge(t),()=>rb.sanitize(Gt(m),Mu)),st(()=>zi(t,Gt(y))),Ti(e,t)}),Ti(e,t)};Ci(l,e=>{""===t.addon.title||t.row?.addonTitleRemoved||e(c)});var d=Ke(l,2),u=e=>{var i=yi();Oi(Xe(i),17,()=>t.choice.scores,Ai,(e,i)=>{gb(e,{get score(){return Gt(i)},get row(){return t.row},get choice(){return t.choice}})}),Ti(e,i)};Ci(d,e=>{!t.row?.objectScoreRemoved&&t.choice.showScoreInAddon&&t.isFirst&&e(u)});var p=Ke(d,2),h=e=>{var i=kb(),n=Xe(i),o=e=>{var i=yi();Oi(Xe(i),17,()=>t.choice.requireds,Ai,(e,t)=>{lb(e,{get required(){return Gt(t)},get scoreText(){return Gt(I)}})}),Ti(e,i)};Ci(n,e=>{t.choice.showReqInAddon&&t.isFirst&&e(o)}),Oi(Ke(n,2),17,()=>t.addon.requireds,Ai,(e,t)=>{lb(e,{get required(){return Gt(t)},get scoreText(){return Gt(I)}})}),Ti(e,i)};Ci(p,e=>{t.row?.objectRequirementRemoved||e(h)});var f=Ke(p,2),b=e=>{var t=yi();xi(Xe(t),()=>Gt(g),e=>{var t=Rb();Mi(Ge(t),()=>rb.sanitize(Gt(g),Mu)),st(()=>zi(t,Gt(T))),Ti(e,t)}),Ti(e,t)};Ci(f,e=>{""===t.addon.text||t.row?.addonTextRemoved||e(b)}),st(()=>{zi(n,`max-width: ${Gt(v)??""}%`),zi(s,`max-width: ${100-Gt(v)}%`)}),Ti(e,i)},r=e=>{var i=yi(),n=Xe(i),o=e=>{var i=Nb(),n=Xe(i),o=Ge(n),r=e=>{var t=yi();xi(Xe(t),()=>Gt(m),e=>{var t=Db();Mi(Ge(t),()=>rb.sanitize(Gt(m),Mu)),st(()=>zi(t,Gt(y))),Ti(e,t)}),Ti(e,t)};Ci(o,e=>{""===t.addon.title||t.row?.addonTitleRemoved||e(r)});var s=Ke(o,2),l=e=>{var i=yi();Oi(Xe(i),17,()=>t.choice.scores,Ai,(e,i)=>{gb(e,{get score(){return Gt(i)},get row(){return t.row},get choice(){return t.choice}})}),Ti(e,i)};Ci(s,e=>{!t.row?.objectScoreRemoved&&t.choice.showScoreInAddon&&t.isFirst&&e(l)});var c=Ke(s,2),d=e=>{var i=$b(),n=Xe(i),o=e=>{var i=yi();Oi(Xe(i),17,()=>t.choice.requireds,Ai,(e,t)=>{lb(e,{get required(){return Gt(t)},get scoreText(){return Gt(I)}})}),Ti(e,i)};Ci(n,e=>{t.choice.showReqInAddon&&t.isFirst&&e(o)}),Oi(Ke(n,2),17,()=>t.addon.requireds,Ai,(e,t)=>{lb(e,{get required(){return Gt(t)},get scoreText(){return Gt(I)}})}),Ti(e,i)};Ci(c,e=>{t.row?.objectRequirementRemoved||e(d)});var u=Ke(c,2),p=e=>{var t=yi();xi(Xe(t),()=>Gt(g),e=>{var t=Bb();Mi(Ge(t),()=>rb.sanitize(Gt(g),Mu)),st(()=>zi(t,Gt(T))),Ti(e,t)}),Ti(e,t)};Ci(u,e=>{""===t.addon.text||t.row?.addonTextRemoved||e(p)});var h=Ke(n,2),f=Ge(h),b=e=>{var i=yi(),n=Xe(i),o=e=>{var i=Fb();i.__contextmenu=S,Fi(i,(e,t)=>jh?.(e,t),()=>t.addon.imageSourceTooltip),st(()=>{Ji(i,"src",t.addon.image),zi(i,Gt(w)),Ji(i,"loading",a()?"eager":"lazy")}),Ti(e,i)},r=e=>{var i=Lb();st(()=>{Ji(i,"src",t.addon.image),zi(i,Gt(w)),Ji(i,"loading",a()?"eager":"lazy")}),Ti(e,i)};Ci(n,e=>{t.addon.imageSourceTooltip?e(o):e(r,!1)}),Ti(e,i)};Ci(f,e=>{t.addon.image&&!t.row?.addonImageRemoved&&e(b)}),st(()=>{zi(n,`max-width: ${100-Gt(v)}%`),zi(h,`max-width: ${Gt(v)??""}%`)}),Ti(e,i)};Ci(n,e=>{3===t.addon.template&&e(o)},!0),Ti(e,i)};Ci(n,e=>{2===t.addon.template?e(o):e(r,!1)}),Ti(e,i)};Ci(x,e=>{t.addon.template>=4||1===t.addon.template||r()<=1280?e(A):e(O,!1)}),st(e=>{Hi(C,1,`text-center addon${t.addon.isSelectable?` addon-${t.addon.id}`:""} ${e??""}`),zi(C,Gt(b))},[function(){let e=t.addon.addonWidth||"col-12",n=up(e),o="col-6"===app.objectsPerRow?2:"col-4"===app.objectsPerRow?3:4;if(i()>1280)return e;if(!(i()>720))return i()>480?1===n?"col-12":"col-6":"col-12";switch(n){case 1:return"col-12";case 2:return"col-6";case 3:return o>2?"col-4":app.objectsPerRow;case 4:return o>3?"col-3":app.objectsPerRow;default:return app.objectsPerRow}}]),Ti(e,C),G(),o()}di(["contextmenu"]);var Ub=mi('<i class="mdi mdi-minus"></i>'),Hb=mi('<i class="mdi mdi-plus"></i>'),Wb=mi('<div class="px-5 w-100 multi-slider"><!></div>'),zb=mi('<div class="d-row justify-space-around w-100 multi-counter"><!> <div translate="no"> </div> <!></div> <!>',1);function qb(e,t){q(t,!0);let i=ke(0),n=se(()=>{if(t.choice.isMultipleUseVariable)return t.choice.multipleUseVariable;if(void 0!==t.choice.multipleScoreId){let e=yu.get(t.choice.multipleScoreId);if(void 0!==e)return e.startingSum}return 0});function o(e){t.selectedOneMore()}function r(e){t.selectedOneLess()}function a(){const e=Gt(i)-Gt(n);for(let i=0;i<Math.abs(e);i++)e>0?t.selectedOneMore():t.selectedOneLess();document.activeElement&&document.activeElement.blur()}function s(e){t.isEnabled&&(Fu.currentDialog="selectDialog",Fu.choice=t.choice,Fu.func=l)}function l(e){const i=e-t.choice.multipleUseVariable;for(let n=0;n<Math.abs(i);n++)i>0?t.selectedOneMore():t.selectedOneLess()}nt(()=>{t.choice.useSlider&&Me(i,Gt(n),!0)});var c=yi(),d=Xe(c),u=e=>{var l=zb(),c=Xe(l),d=Ge(c),u=e=>{{let i=se(()=>!t.isEnabled);Lr(e,{class:"counter-icons",get disabled(){return Gt(i)},onclickcapture:r,children:(e,i)=>{var n=Ub();st(()=>zi(n,t.multiChoiceButton)),Ti(e,n)},$$slots:{default:!0}})}};Ci(d,e=>{t.choice.hideCounter||e(u)});var p=Ke(d,2),h=Ge(p),f=Ke(p,2),m=e=>{{let i=se(()=>!t.isEnabled);Lr(e,{class:"counter-icons",get disabled(){return Gt(i)},onclickcapture:o,children:(e,i)=>{var n=Hb();st(()=>zi(n,t.multiChoiceButton)),Ti(e,n)},$$slots:{default:!0}})}};Ci(f,e=>{t.choice.hideCounter||e(m)});var g=Ke(c,2),v=e=>{var n=Wb(),o=Ge(n);{let e=se(()=>!t.isEnabled);Fa(o,{get min(){return t.choice.numMultipleTimesMinus},get max(){return t.choice.numMultipleTimesPluss},step:1,class:"mx-2",onpointerup:a,get disabled(){return Gt(e)},discrete:!0,get value(){return Gt(i)},set value(e){Me(i,e,!0)}})}Ti(e,n)};Ci(g,e=>{t.choice.useSlider&&e(v)}),st(()=>{zi(p,t.multiChoiceText),wi(h,Gt(n))}),ci("click",p,s,!0),Ti(e,l)};Ci(d,e=>{t.choice.hideCounterUntilSelect&&0===t.choice.multipleUseVariable||e(u)}),Ti(e,c),G()}var Gb=mi('<div class="col-12"><!></div>'),Xb=mi('<img alt=""/>'),Kb=mi('<img alt=""/>'),Zb=mi('<h3 class="m-0"><!></h3>'),Yb=mi('<img alt=""/>'),Qb=mi('<img alt=""/>'),Jb=mi('<p class="mb-0"><!></p>'),ey=mi('<img alt=""/>'),ty=mi('<img alt=""/>'),iy=mi("<div></div>"),ny=mi('<div class="d-column w-100 p-0 align-items-center"><!> <!> <div class="w-100"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <!> <!></div>'),oy=mi('<img alt=""/>'),ry=mi('<img alt=""/>'),ay=mi('<h2 class="mb-0"><!></h2>'),sy=mi('<p class="mb-0"><!></p>'),ly=mi("<div></div>"),cy=mi("<!> <!>",1),dy=mi("<div></div>"),uy=mi('<div class="col-12 text-center"><!> <!></div>'),py=mi('<div class="col p-0 text-center"><!></div> <div class="col p-0 text-center"><!> <!> <!> <!> <!> <!> <!> <!> <!></div> <!>',1),hy=mi('<h2 class="mb-0"><!></h2>'),fy=mi('<p class="mb-0"><!></p>'),my=mi("<div></div>"),gy=mi("<!> <!>",1),vy=mi('<img alt=""/>'),by=mi('<img alt=""/>'),yy=mi("<div></div>"),Ty=mi('<div class="col-12 text-center"><!> <!></div>'),wy=mi('<div class="col p-0 text-center"><!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="col p-0 text-center"><!></div> <!>',1),Iy=mi("<div><div><div><!></div></div></div>");function Sy(e,t){q(t,!0);const i=()=>Tn(Wu,"$winWidth",n),[n,o]=In(),r=On(t,"preloadImages",3,!1),a={linkedObjects:[],mainDiv:t.mainDiv,bCreatorMode:!1,isBackpack:t.isBackpack,isOverDlg:!1};let s=se(()=>{if(t.choice.addons)for(let e=0;e<t.choice.addons.length;e++){const i=t.choice.addons[e];if(app.showAllAddons>0||!i.skipIndex&&(!i.hideAddon||t.choice.isActive)&&(i.showAddon||Ip(i.requireds)))return e}return-1}),l=se(()=>gp("privateBackgroundIsOn",t.row,t.choice)),c=se(()=>gp("privateFilterIsOn",t.row,t.choice)),d=se(()=>gp("privateMultiChoiceIsOn",t.row,t.choice)),u=se(()=>gp("privateObjectImageIsOn",t.row,t.choice)),p=se(()=>gp("privateObjectIsOn",t.row,t.choice)),h=se(()=>gp("privateTextIsOn",t.row,t.choice)),f=se(()=>void 0!==Gt(u).objectImageBoxWidth?Gt(u).objectImageBoxWidth:50),m=se(()=>Ip(t.choice.requireds)),g=se(()=>t.choice.isActive?!Gt(c).selFilterVisibleIsOn:Gt(m)?!Gt(c).unselFilterVisibleIsOn:!Gt(c).reqFilterVisibleIsOn),v=se(()=>t.choice.addonJustify?` justify-${t.choice.addonJustify}`:""),b=se(()=>t.choice.isActive),y=se(()=>Gt(p).objectHeight),T=se(()=>{if(t.row.isResultRow){const e=wu.get(t.choice.id);if(void 0!==e)return e.row}return t.row}),w=se(()=>{let e=[];return e.push(`white-space: pre-line; font-family: '${Gt(h).objectTitle}'; font-size: ${Gt(h).objectTitleTextSize}%; text-align: ${Gt(h).objectTitleAlign};`),!Gt(m)&&Gt(c).reqCTitleColorIsOn?e.push(`color: ${Lh(Gt(c).reqFilterCTitleColor)};`):Gt(b)&&Gt(c).selCTitleColorIsOn?e.push(`color: ${Lh(Gt(c).selFilterCTitleColor)};`):e.push(`color: ${Lh(Gt(h).objectTitleColor)};`),Gt(p).titlePaddingIsOn&&e.push(`padding: ${Gt(p).objectTextPadding}px;`),e.join(" ")}),I=se(()=>mp(""!==Gt(T).title?Gt(T).title:Gt(T).debugTitle||"")),S=se(()=>mp(t.choice.title)),C=se(()=>mp(t.choice.text)),x=se(()=>`font-family: '${Gt(d).multiChoiceTextFont}'; color: ${Lh(Gt(h).scoreTextColor)}; font-size: ${Gt(d).multiChoiceTextSize}%; align-content: center;`),A=se(()=>`font-size: ${Gt(d).multiChoiceCounterSize}%; color: ${Lh(Gt(h).scoreTextColor)};`),O=se(()=>!t.choice.hideMultipleCounter||Gt(m)),E=se(()=>{let e=[];return e.push(`white-space: pre-wrap; font-family: '${Gt(h).objectText}'; text-align: ${Gt(h).objectTextAlign}; font-size: ${Gt(h).objectTextTextSize}%;`),!Gt(m)&&Gt(c).reqCTextColorIsOn?e.push(`color: ${Lh(Gt(c).reqFilterCTextColor)};`):Gt(b)&&Gt(c).selCTextColorIsOn?e.push(`color: ${Lh(Gt(c).selFilterCTextColor)};`):e.push(`color: ${Lh(Gt(h).objectTextColor)};`),e.push(`padding: ${Gt(p).objectTextPadding}px;`),e.join(" ")}),_=se(()=>{const e=Gt(p).objectBorderRadiusIsPixels?"px":"%";let i=0,n=0,o=0,r=[];if(Gt(p).objectBorderImage&&r.push(`border-image: url('${Gt(p).objectBorderImage}') ${Gt(p).objectBorderImageSliceTop} ${Gt(p).objectBorderImageSliceRight} ${Gt(p).objectBorderImageSliceBottom} ${Gt(p).objectBorderImageSliceLeft} / ${Gt(p).objectBorderImageWidth}px ${Gt(p).objectBorderImageRepeat}; border-style: solid; padding: ${Gt(p).objectBorderImageWidth}px;`),Gt(l).objectBackgroundImage&&(r.push(`background-image: url('${Gt(l).objectBackgroundImage}'); ${Gt(l).isObjectBackgroundRepeat?"background-repeat: repeat;":Gt(l).isObjectBackgroundFitIn?"background-size: 100% 100%;":"background-size: cover;"}`),i=r.length),Gt(l).objectBgColorIsOn&&(r.push(`background-color: ${Lh(Gt(l).objectBgColor)};`),n=r.length),r.push(`margin: ${Gt(p).objectMargin}px;`),r.push(`border-radius: ${Gt(p).objectBorderRadiusTopLeft}${e} ${Gt(p).objectBorderRadiusTopRight}${e} ${Gt(p).objectBorderRadiusBottomRight}${e} ${Gt(p).objectBorderRadiusBottomLeft}${e};`),Gt(p).objectOverflowIsOn&&r.push("overflow: hidden;"),Gt(p).objectBorderIsOn||Gt(b)&&Gt(c).selBorderColorIsOn||!Gt(m)&&Gt(c).reqBorderColorIsOn){let e=Gt(p).objectBorderColor;!Gt(m)&&Gt(c).reqBorderColorIsOn?e=Gt(c).reqFilterBorderColor:Gt(b)&&Gt(c).selBorderColorIsOn&&(e=Gt(c).selFilterBorderColor),r.push(`border: ${Gt(p).objectBorderWidth}px ${Gt(p).objectBorderStyle} ${Lh(e)};`)}return Gt(p).objectDropShadowIsOn&&(Gt(p).objectUseBoxShadowIsOn?r.push(`box-shadow: ${Gt(p).objectDropShadowH}px ${Gt(p).objectDropShadowV}px ${Gt(p).objectDropShadowBlur}px ${Gt(p).objectDropShadowSpread}px ${Lh(Gt(p).objectDropShadowColor)};`):(o=r.length,r.push(`filter: drop-shadow(${Gt(p).objectDropShadowH}px ${Gt(p).objectDropShadowV}px ${Gt(p).objectDropShadowBlur}px ${Lh(Gt(p).objectDropShadowColor)})`))),0===o&&(r.push("filter:"),o=r.length),Gt(m)?(Gt(b)?(Gt(c).selFilterBlurIsOn&&r.push(` blur(${Gt(c).selFilterBlur}px)`),Gt(c).selFilterBrightIsOn&&r.push(` brightness(${Gt(c).selFilterBright}%)`),Gt(c).selFilterContIsOn&&r.push(` contrast(${Gt(c).selFilterCont}%)`),Gt(c).selFilterGrayIsOn&&r.push(` grayscale(${Gt(c).selFilterGray}%)`),Gt(c).selFilterHueIsOn&&r.push(` hue-rotate(${Gt(c).selFilterHue}deg)`),Gt(c).selFilterInvertIsOn&&r.push(` invert(${Gt(c).selFilterInvert}%)`),Gt(c).selFilterOpacIsOn&&r.push(` opacity(${Gt(c).selFilterOpac}%)`),Gt(c).selFilterSaturIsOn&&r.push(` saturate(${Gt(c).selFilterSatur})`),Gt(c).selFilterSepiaIsOn&&r.push(` sepia(${Gt(c).selFilterGray}%)`),r.length===o?r.splice(o-1,1):r.push(";"),Gt(c).selBgColorIsOn&&(0!==n&&r.splice(n-1,1),Gt(c).selOverlayOnImage||0!==i&&r.splice(i-1,1),r.push(`background-color: ${Lh(Gt(c).selFilterBgColor)};`)),Gt(p).objectGradientIsOn&&r.push(`background-image: linear-gradient(${Gt(p).objectGradientOnSelect});`)):(Gt(c).unselFilterBlurIsOn&&r.push(` blur(${Gt(c).unselFilterBlur}px)`),Gt(c).unselFilterBrightIsOn&&r.push(` brightness(${Gt(c).unselFilterBright}%)`),Gt(c).unselFilterContIsOn&&r.push(` contrast(${Gt(c).unselFilterCont}%)`),Gt(c).unselFilterGrayIsOn&&r.push(` grayscale(${Gt(c).unselFilterGray}%)`),Gt(c).unselFilterHueIsOn&&r.push(` hue-rotate(${Gt(c).unselFilterHue}deg)`),Gt(c).unselFilterInvertIsOn&&r.push(` invert(${Gt(c).unselFilterInvert}%)`),Gt(c).unselFilterOpacIsOn&&r.push(` opacity(${Gt(c).unselFilterOpac}%)`),Gt(c).unselFilterSaturIsOn&&r.push(` saturate(${Gt(c).unselFilterSatur})`),Gt(c).unselFilterSepiaIsOn&&r.push(` sepia(${Gt(c).unselFilterGray}%)`),r.length===o?r.splice(o-1,1):r.push(";"),Gt(p).objectGradientIsOn&&r.push(`background-image: linear-gradient(${Gt(p).objectGradient});`)),app.isPointerCursor&&!t.choice.isNotSelectable&&(!t.choice.isSelectableMultiple||t.choice.allowSelectByClick&&0===t.choice.multipleUseVariable)&&r.push("cursor: pointer;")):(Gt(c).reqFilterBlurIsOn&&r.push(` blur(${Gt(c).reqFilterBlur}px)`),Gt(c).reqFilterBrightIsOn&&r.push(` brightness(${Gt(c).reqFilterBright}%)`),Gt(c).reqFilterContIsOn&&r.push(` contrast(${Gt(c).reqFilterCont}%)`),Gt(c).reqFilterGrayIsOn&&r.push(` grayscale(${Gt(c).reqFilterGray}%)`),Gt(c).reqFilterHueIsOn&&r.push(` hue-rotate(${Gt(c).reqFilterHue}deg)`),Gt(c).reqFilterInvertIsOn&&r.push(` invert(${Gt(c).reqFilterInvert}%)`),Gt(c).reqFilterOpacIsOn&&r.push(` opacity(${Gt(c).reqFilterOpac}%)`),Gt(c).reqFilterSaturIsOn&&r.push(` saturate(${Gt(c).reqFilterSatur})`),Gt(c).reqFilterSepiaIsOn&&r.push(` sepia(${Gt(c).reqFilterGray}%)`),r.length===o?r.splice(o-1,1):r.push(";"),Gt(c).reqBgColorIsOn&&(0!==n&&r.splice(n-1,1),Gt(c).reqOverlayOnImage||0!==i&&r.splice(i-1,1),r.push(`background-color: ${Lh(Gt(c).reqFilterBgColor)};`)),Gt(p).objectGradientIsOn&&r.push(`background-image: linear-gradient(${Gt(p).objectGradientOnReq});`)),r.join(" ")}),k=se(()=>{let e=[];const i=Gt(u).objectImgBorderRadiusIsPixels?"px":"%";if(e.push(`width: ${Gt(u).objectImageWidth}%; margin-top: ${Gt(u).objectImageMarginTop}%; margin-bottom: ${Gt(u).objectImageMarginBottom}%;`),Gt(u).objectImgObjectFillIsOn){e.push(`object-fit: ${Gt(u).objectImgObjectFillStyle};`);const i=t.row.objectImgObjectFillHeight||Gt(u).objectImgObjectFillHeight;i&&e.push(`height: ${i}px;`)}if(e.push(`border-radius: ${Gt(u).objectImgBorderRadiusTopLeft}${i} ${Gt(u).objectImgBorderRadiusTopRight}${i} ${Gt(u).objectImgBorderRadiusBottomRight}${i} ${Gt(u).objectImgBorderRadiusBottomLeft}${i};`),Gt(u).objectImgOverflowIsOn&&e.push("overflow: hidden;"),Gt(u).objectImgBorderIsOn){const t=Gt(m)?Gt(b)&&Gt(c).selImgBorderColorIsOn&&Gt(c).selFilterImgBorderColor||Gt(u).objectImgBorderColor:Gt(c).reqImgBorderColorIsOn&&Gt(c).reqFilterImgBorderColor||Gt(u).objectImgBorderColor;e.push(`border: ${Gt(u).objectImgBorderWidth}px ${Gt(u).objectImgBorderStyle} ${Lh(t)};`)}return e.join(" ")}),R=se(()=>{let e=[];return e.push(`font-family: '${Gt(h).scoreText}'; font-size: ${Gt(h).scoreTextSize}%; text-align: ${Gt(h).scoreTextAlign};`),e.push(`color: ${Lh(Gt(h).scoreTextColor)};`),Gt(m)?t.choice.isActive&&Gt(c).selScoreTextColorIsOn&&e.push(`color: ${Lh(Gt(c).selFilterSTextColor)}`):Gt(c).reqScoreTextColorIsOn&&e.push(`color: ${Lh(Gt(c).reqFilterSTextColor)}`),e.join(" ")});function M(e,t,i){let n=e,o=!1;for(;n;){for(const e of n.classList){if(e.startsWith(t))return!0;e.startsWith(i)&&(o=!0)}if(o)return!1;n=n.parentElement}return!1}function D(e,i,n,o=!1){const r=n&&n.target?n.target:null;let s=i;if(!(r&&e.isActive&&e.addons&&e.addons.length>0&&M(r,"addon-","addon"))){if(i.isResultRow||i.isGroupRow){const t=wu.get(e.id);void 0!==t&&(s=t.row)}if(e.isSelectableMultiple){if(e.id===t.choice.id&&e.allowSelectByClick&&0===e.multipleUseVariable){if(r&&M(r,"multi-","choice-"))return;Gp(e,s,a)}}else!Ip(e.requireds)||i.isInfoRow||o&&e.isNotSelectable||e.forcedActivated||(e.isActive?e.selectOnce||zp(e,s,a):qp(e,s,a))}}function $(e){navigator.clipboard.writeText(t.choice.imageSourceTooltip).then(()=>{Lu.labelText="Tooltip copied to clipboard.",Lu.isOpen=!0}).catch(()=>{console.log(t.choice.imageSourceTooltip),Lu.labelText="Tooltip text logged to developer console.",Lu.isOpen=!0})}nt(()=>{t.mainDiv&&(a.mainDiv=t.mainDiv),t.isBackpack&&(a.isBackpack=t.isBackpack)});var B={activateObject:D,options:a},F=yi(),L=Xe(F),N=e=>{var n=Iy(),o=Ge(n);let l;var u=Ge(o),p=Ge(u),h=e=>{var i=ny(),n=Ge(i),o=e=>{var t=yi();xi(Xe(t),()=>Gt(I),e=>{var t=Gb();Mi(Ge(t),()=>rb.sanitize(Gt(I),Mu)),st(()=>zi(t,Gt(R))),Ti(e,t)}),Ti(e,t)};Ci(n,e=>{t.row.resultShowRowTitle&&e(o)});var l=Ke(n,2),c=e=>{var i=yi(),n=Xe(i),o=e=>{var i=Xb();i.__contextmenu=$,Fi(i,(e,t)=>jh?.(e,t),()=>t.choice.imageSourceTooltip),st(()=>{Ji(i,"src",t.choice.image),zi(i,Gt(k)),Ji(i,"loading",r()?"eager":"lazy")}),Ti(e,i)},a=e=>{var i=Kb();st(()=>{Ji(i,"src",t.choice.image),zi(i,Gt(k)),Ji(i,"loading",r()?"eager":"lazy")}),Ti(e,i)};Ci(n,e=>{t.choice.imageSourceTooltip?e(o):e(a,!1)}),Ti(e,i)};Ci(l,e=>{(1===t.choice.template||t.windowWidth<=1280||t.row.choicesShareTemplate)&&t.choice.image&&!t.row.objectImageRemoved&&e(c)});var u=Ke(l,2),p=Ge(u),h=e=>{var t=yi();xi(Xe(t),()=>Gt(S),e=>{var t=Zb();Mi(Ge(t),()=>rb.sanitize(Gt(S),Mu)),st(()=>zi(t,Gt(w))),Ti(e,t)}),Ti(e,t)};Ci(p,e=>{""===t.choice.title||t.row.objectTitleRemoved||e(h)});var f=Ke(p,2),g=e=>{{let i=se(()=>Gt(m)&&!t.row.isInfoRow&&!t.choice.isNotSelectable);qb(e,{get isEnabled(){return Gt(i)},get multiChoiceButton(){return Gt(A)},get multiChoiceText(){return Gt(x)},get choice(){return t.choice},selectedOneMore:()=>Gp(t.choice,t.row,a),selectedOneLess:()=>Xp(t.choice,t.row,a)})}};Ci(f,e=>{t.choice.isSelectableMultiple&&Gt(O)&&0===Gt(d).multiChoiceCounterPosition&&e(g)});var b=Ke(f,2),y=e=>{var i=yi();Oi(Xe(i),17,()=>t.choice.scores,Ai,(e,i)=>{gb(e,{get score(){return Gt(i)},get row(){return t.row},get choice(){return t.choice}})}),Ti(e,i)};Ci(b,e=>{t.row.objectScoreRemoved||t.choice.showScoreInAddon||e(y)});var T=Ke(b,2),_=e=>{{let i=se(()=>Gt(m)&&!t.row.isInfoRow&&!t.choice.isNotSelectable);qb(e,{get isEnabled(){return Gt(i)},get multiChoiceButton(){return Gt(A)},get multiChoiceText(){return Gt(x)},get choice(){return t.choice},selectedOneMore:()=>Gp(t.choice,t.row,a),selectedOneLess:()=>Xp(t.choice,t.row,a)})}};Ci(T,e=>{t.choice.isSelectableMultiple&&Gt(O)&&1===Gt(d).multiChoiceCounterPosition&&e(_)});var M=Ke(T,2),D=e=>{var i=yi();Oi(Xe(i),17,()=>t.choice.requireds,Ai,(e,t)=>{lb(e,{get required(){return Gt(t)},get scoreText(){return Gt(R)}})}),Ti(e,i)};Ci(M,e=>{t.row.objectRequirementRemoved||t.choice.showReqInAddon||e(D)});var B=Ke(M,2),F=e=>{{let i=se(()=>Gt(m)&&!t.row.isInfoRow&&!t.choice.isNotSelectable);qb(e,{get isEnabled(){return Gt(i)},get multiChoiceButton(){return Gt(A)},get multiChoiceText(){return Gt(x)},get choice(){return t.choice},selectedOneMore:()=>Gp(t.choice,t.row,a),selectedOneLess:()=>Xp(t.choice,t.row,a)})}};Ci(B,e=>{t.choice.isSelectableMultiple&&Gt(O)&&2===Gt(d).multiChoiceCounterPosition&&e(F)});var L=Ke(B,2),N=e=>{var i=yi(),n=Xe(i),o=e=>{var i=Yb();i.__contextmenu=$,Fi(i,(e,t)=>jh?.(e,t),()=>t.choice.imageSourceTooltip),st(()=>{Ji(i,"src",t.choice.image),zi(i,Gt(k)),Ji(i,"loading",r()?"eager":"lazy")}),Ti(e,i)},a=e=>{var i=Qb();st(()=>{Ji(i,"src",t.choice.image),zi(i,Gt(k)),Ji(i,"loading",r()?"eager":"lazy")}),Ti(e,i)};Ci(n,e=>{t.choice.imageSourceTooltip?e(o):e(a,!1)}),Ti(e,i)};Ci(L,e=>{5===t.choice.template&&t.windowWidth>1280&&t.choice.image&&!t.row.objectImageRemoved&&e(N)});var P=Ke(L,2),j=e=>{var t=yi();xi(Xe(t),()=>Gt(C),e=>{var t=Jb();Mi(Ge(t),()=>rb.sanitize(Gt(C),Mu)),st(()=>zi(t,Gt(E))),Ti(e,t)}),Ti(e,t)};Ci(P,e=>{""===t.choice.text||t.row.objectTextRemoved||e(j)});var V=Ke(P,2),U=e=>{{let i=se(()=>Gt(m)&&!t.row.isInfoRow&&!t.choice.isNotSelectable);qb(e,{get isEnabled(){return Gt(i)},get multiChoiceButton(){return Gt(A)},get multiChoiceText(){return Gt(x)},get choice(){return t.choice},selectedOneMore:()=>Gp(t.choice,t.row,a),selectedOneLess:()=>Xp(t.choice,t.row,a)})}};Ci(V,e=>{t.choice.isSelectableMultiple&&Gt(O)&&3===Gt(d).multiChoiceCounterPosition&&e(U)});var H=Ke(V,2),W=e=>{var i=yi(),n=Xe(i),o=e=>{var i=ey();i.__contextmenu=$,Fi(i,(e,t)=>jh?.(e,t),()=>t.choice.imageSourceTooltip),st(()=>{Ji(i,"src",t.choice.image),zi(i,Gt(k)),Ji(i,"loading",r()?"eager":"lazy")}),Ti(e,i)},a=e=>{var i=ty();st(()=>{Ji(i,"src",t.choice.image),zi(i,Gt(k)),Ji(i,"loading",r()?"eager":"lazy")}),Ti(e,i)};Ci(n,e=>{t.choice.imageSourceTooltip?e(o):e(a,!1)}),Ti(e,i)};Ci(H,e=>{4===t.choice.template&&t.windowWidth>1280&&t.choice.image&&!t.row.objectImageRemoved&&e(W)});var z=Ke(u,2),q=e=>{var i=iy();Oi(i,21,()=>t.choice.addons,Ai,(e,i,n)=>{var o=yi(),a=Xe(o),l=e=>{{let o=se(()=>Gt(s)===n);Vb(e,{get row(){return t.row},get choice(){return t.choice},get addon(){return Gt(i)},get isEnabled(){return Gt(m)},get windowWidth(){return t.windowWidth},get preloadImages(){return r()},get isFirst(){return Gt(o)}})}};Ci(a,e=>{(app.showAllAddons>0||(!Gt(i).hideAddon||t.choice.isActive)&&(Gt(i).showAddon||Ip(Gt(i).requireds)))&&e(l)}),Ti(e,o)}),st(()=>Hi(i,1,`row p-0 w-100${Gt(v)??""}`)),Ti(e,i)};Ci(z,e=>{t.choice.addons&&t.choice.addons.length>0&&e(q)});var G=Ke(z,2),X=e=>{{let i=se(()=>Gt(m)&&!t.row.isInfoRow&&!t.choice.isNotSelectable);qb(e,{get isEnabled(){return Gt(i)},get multiChoiceButton(){return Gt(A)},get multiChoiceText(){return Gt(x)},get choice(){return t.choice},selectedOneMore:()=>Gp(t.choice,t.row,a),selectedOneLess:()=>Xp(t.choice,t.row,a)})}};Ci(G,e=>{t.choice.isSelectableMultiple&&Gt(O)&&4===Gt(d).multiChoiceCounterPosition&&e(X)}),Ti(e,i)},g=e=>{var i=yi(),n=Xe(i),o=e=>{var i=py(),n=Xe(i),o=Ge(n),l=e=>{var i=yi(),n=Xe(i),o=e=>{var i=oy();i.__contextmenu=$,Fi(i,(e,t)=>jh?.(e,t),()=>t.choice.imageSourceTooltip),st(()=>{Ji(i,"src",t.choice.image),zi(i,Gt(k)),Ji(i,"loading",r()?"eager":"lazy")}),Ti(e,i)},a=e=>{var i=ry();st(()=>{Ji(i,"src",t.choice.image),zi(i,Gt(k)),Ji(i,"loading",r()?"eager":"lazy")}),Ti(e,i)};Ci(n,e=>{t.choice.imageSourceTooltip?e(o):e(a,!1)}),Ti(e,i)};Ci(o,e=>{t.choice.image&&!t.row.objectImageRemoved&&e(l)});var c=Ke(n,2),u=Ge(c),p=e=>{var t=yi();xi(Xe(t),()=>Gt(S),e=>{var t=ay();Mi(Ge(t),()=>rb.sanitize(Gt(S),Mu)),st(()=>zi(t,Gt(w))),Ti(e,t)}),Ti(e,t)};Ci(u,e=>{""===t.choice.title||t.row.objectTitleRemoved||e(p)});var h=Ke(u,2),g=e=>{{let i=se(()=>Gt(m)&&!t.row.isInfoRow&&!t.choice.isNotSelectable);qb(e,{get isEnabled(){return Gt(i)},get multiChoiceButton(){return Gt(A)},get multiChoiceText(){return Gt(x)},get choice(){return t.choice},selectedOneMore:()=>Gp(t.choice,t.row,a),selectedOneLess:()=>Xp(t.choice,t.row,a)})}};Ci(h,e=>{t.choice.isSelectableMultiple&&Gt(O)&&0===Gt(d).multiChoiceCounterPosition&&e(g)});var b=Ke(h,2),y=e=>{var i=yi();Oi(Xe(i),17,()=>t.choice.scores,Ai,(e,i)=>{gb(e,{get score(){return Gt(i)},get row(){return t.row},get choice(){return t.choice}})}),Ti(e,i)};Ci(b,e=>{t.row.objectScoreRemoved||t.choice.showScoreInAddon||e(y)});var T=Ke(b,2),I=e=>{{let i=se(()=>Gt(m)&&!t.row.isInfoRow&&!t.choice.isNotSelectable);qb(e,{get isEnabled(){return Gt(i)},get multiChoiceButton(){return Gt(A)},get multiChoiceText(){return Gt(x)},get choice(){return t.choice},selectedOneMore:()=>Gp(t.choice,t.row,a),selectedOneLess:()=>Xp(t.choice,t.row,a)})}};Ci(T,e=>{t.choice.isSelectableMultiple&&Gt(O)&&1===Gt(d).multiChoiceCounterPosition&&e(I)});var _=Ke(T,2),M=e=>{var i=yi();Oi(Xe(i),17,()=>t.choice.requireds,Ai,(e,t)=>{lb(e,{get required(){return Gt(t)},get scoreText(){return Gt(R)}})}),Ti(e,i)};Ci(_,e=>{t.row.objectRequirementRemoved||t.choice.showReqInAddon||e(M)});var D=Ke(_,2),B=e=>{{let i=se(()=>Gt(m)&&!t.row.isInfoRow&&!t.choice.isNotSelectable);qb(e,{get isEnabled(){return Gt(i)},get multiChoiceButton(){return Gt(A)},get multiChoiceText(){return Gt(x)},get choice(){return t.choice},selectedOneMore:()=>Gp(t.choice,t.row,a),selectedOneLess:()=>Xp(t.choice,t.row,a)})}};Ci(D,e=>{t.choice.isSelectableMultiple&&Gt(O)&&2===Gt(d).multiChoiceCounterPosition&&e(B)});var F=Ke(D,2),L=e=>{var i=yi();xi(Xe(i),()=>Gt(C),e=>{var i=sy();Mi(Ge(i),()=>rb.sanitize(mp(t.choice.text),Mu)),st(()=>zi(i,Gt(E))),Ti(e,i)}),Ti(e,i)};Ci(F,e=>{""===t.choice.text||t.row.objectTextRemoved||e(L)});var N=Ke(F,2),P=e=>{{let i=se(()=>Gt(m)&&!t.row.isInfoRow&&!t.choice.isNotSelectable);qb(e,{get isEnabled(){return Gt(i)},get multiChoiceButton(){return Gt(A)},get multiChoiceText(){return Gt(x)},get choice(){return t.choice},selectedOneMore:()=>Gp(t.choice,t.row,a),selectedOneLess:()=>Xp(t.choice,t.row,a)})}};Ci(N,e=>{t.choice.isSelectableMultiple&&Gt(O)&&3===Gt(d).multiChoiceCounterPosition&&e(P)});var j=Ke(N,2),V=e=>{var i=cy(),n=Xe(i),o=e=>{var i=ly();Oi(i,21,()=>t.choice.addons,Ai,(e,i,n)=>{var o=yi(),a=Xe(o),l=e=>{{let o=se(()=>Gt(s)===n);Vb(e,{get row(){return t.row},get choice(){return t.choice},get addon(){return Gt(i)},get isEnabled(){return Gt(m)},get windowWidth(){return t.windowWidth},get preloadImages(){return r()},get isFirst(){return Gt(o)}})}};Ci(a,e=>{(app.showAllAddons>0||(!Gt(i).hideAddon||t.choice.isActive)&&(Gt(i).showAddon||Ip(Gt(i).requireds)))&&e(l)}),Ti(e,o)}),st(()=>Hi(i,1,`d-column p-0 col w-100${Gt(v)??""}`)),Ti(e,i)};Ci(n,e=>{t.choice.addons&&t.choice.addons.length>0&&e(o)});var l=Ke(n,2),c=e=>{{let i=se(()=>Gt(m)&&!t.row.isInfoRow&&!t.choice.isNotSelectable);qb(e,{get isEnabled(){return Gt(i)},get multiChoiceButton(){return Gt(A)},get multiChoiceText(){return Gt(x)},get choice(){return t.choice},selectedOneMore:()=>Gp(t.choice,t.row,a),selectedOneLess:()=>Xp(t.choice,t.row,a)})}};Ci(l,e=>{t.choice.isSelectableMultiple&&Gt(O)&&4===Gt(d).multiChoiceCounterPosition&&e(c)}),Ti(e,i)};Ci(j,e=>{t.choice.useSeperateAddon||e(V)});var U=Ke(c,2),H=e=>{var i=uy(),n=Ge(i),o=e=>{var i=dy();Oi(i,21,()=>t.choice.addons,Ai,(e,i,n)=>{var o=yi(),a=Xe(o),l=e=>{{let o=se(()=>Gt(s)===n);Vb(e,{get row(){return t.row},get choice(){return t.choice},get addon(){return Gt(i)},get isEnabled(){return Gt(m)},get windowWidth(){return t.windowWidth},get preloadImages(){return r()},get isFirst(){return Gt(o)}})}};Ci(a,e=>{(app.showAllAddons>0||(!Gt(i).hideAddon||t.choice.isActive)&&(Gt(i).showAddon||Ip(Gt(i).requireds)))&&e(l)}),Ti(e,o)}),st(()=>Hi(i,1,`d-column p-0 col w-100${Gt(v)??""}`)),Ti(e,i)};Ci(n,e=>{t.choice.addons&&t.choice.addons.length>0&&e(o)});var l=Ke(n,2),c=e=>{{let i=se(()=>Gt(m)&&!t.row.isInfoRow&&!t.choice.isNotSelectable);qb(e,{get isEnabled(){return Gt(i)},get multiChoiceButton(){return Gt(A)},get multiChoiceText(){return Gt(x)},get choice(){return t.choice},selectedOneMore:()=>Gp(t.choice,t.row,a),selectedOneLess:()=>Xp(t.choice,t.row,a)})}};Ci(l,e=>{t.choice.isSelectableMultiple&&Gt(O)&&4===Gt(d).multiChoiceCounterPosition&&e(c)}),Ti(e,i)};Ci(U,e=>{t.choice.useSeperateAddon&&e(H)}),st(()=>{zi(n,`max-width: ${Gt(f)??""}%`),zi(c,`max-width: ${100-Gt(f)}%`)}),Ti(e,i)},l=e=>{var i=yi(),n=Xe(i),o=e=>{var i=wy(),n=Xe(i),o=Ge(n),l=e=>{var t=yi();xi(Xe(t),()=>Gt(S),e=>{var t=hy();Mi(Ge(t),()=>rb.sanitize(Gt(S),Mu)),st(()=>zi(t,Gt(w))),Ti(e,t)}),Ti(e,t)};Ci(o,e=>{""===t.choice.title||t.row.objectTitleRemoved||e(l)});var c=Ke(o,2),u=e=>{{let i=se(()=>Gt(m)&&!t.row.isInfoRow&&!t.choice.isNotSelectable);qb(e,{get isEnabled(){return Gt(i)},get multiChoiceButton(){return Gt(A)},get multiChoiceText(){return Gt(x)},get choice(){return t.choice},selectedOneMore:()=>Gp(t.choice,t.row,a),selectedOneLess:()=>Xp(t.choice,t.row,a)})}};Ci(c,e=>{t.choice.isSelectableMultiple&&Gt(O)&&0===Gt(d).multiChoiceCounterPosition&&e(u)});var p=Ke(c,2),h=e=>{var i=yi();Oi(Xe(i),17,()=>t.choice.scores,Ai,(e,i)=>{gb(e,{get score(){return Gt(i)},get row(){return t.row},get choice(){return t.choice}})}),Ti(e,i)};Ci(p,e=>{t.row.objectScoreRemoved||t.choice.showScoreInAddon||e(h)});var g=Ke(p,2),b=e=>{{let i=se(()=>Gt(m)&&!t.row.isInfoRow&&!t.choice.isNotSelectable);qb(e,{get isEnabled(){return Gt(i)},get multiChoiceButton(){return Gt(A)},get multiChoiceText(){return Gt(x)},get choice(){return t.choice},selectedOneMore:()=>Gp(t.choice,t.row,a),selectedOneLess:()=>Xp(t.choice,t.row,a)})}};Ci(g,e=>{t.choice.isSelectableMultiple&&Gt(O)&&1===Gt(d).multiChoiceCounterPosition&&e(b)});var y=Ke(g,2),T=e=>{var i=yi();Oi(Xe(i),17,()=>t.choice.requireds,Ai,(e,t)=>{lb(e,{get required(){return Gt(t)},get scoreText(){return Gt(R)}})}),Ti(e,i)};Ci(y,e=>{t.row.objectRequirementRemoved||t.choice.showReqInAddon||e(T)});var I=Ke(y,2),_=e=>{{let i=se(()=>Gt(m)&&!t.row.isInfoRow&&!t.choice.isNotSelectable);qb(e,{get isEnabled(){return Gt(i)},get multiChoiceButton(){return Gt(A)},get multiChoiceText(){return Gt(x)},get choice(){return t.choice},selectedOneMore:()=>Gp(t.choice,t.row,a),selectedOneLess:()=>Xp(t.choice,t.row,a)})}};Ci(I,e=>{t.choice.isSelectableMultiple&&Gt(O)&&2===Gt(d).multiChoiceCounterPosition&&e(_)});var M=Ke(I,2),D=e=>{var t=yi();xi(Xe(t),()=>Gt(C),e=>{var t=fy();Mi(Ge(t),()=>rb.sanitize(Gt(C),Mu)),st(()=>zi(t,Gt(E))),Ti(e,t)}),Ti(e,t)};Ci(M,e=>{""===t.choice.text||t.row.objectTextRemoved||e(D)});var B=Ke(M,2),F=e=>{{let i=se(()=>Gt(m)&&!t.row.isInfoRow&&!t.choice.isNotSelectable);qb(e,{get isEnabled(){return Gt(i)},get multiChoiceButton(){return Gt(A)},get multiChoiceText(){return Gt(x)},get choice(){return t.choice},selectedOneMore:()=>Gp(t.choice,t.row,a),selectedOneLess:()=>Xp(t.choice,t.row,a)})}};Ci(B,e=>{t.choice.isSelectableMultiple&&Gt(O)&&3===Gt(d).multiChoiceCounterPosition&&e(F)});var L=Ke(B,2),N=e=>{var i=gy(),n=Xe(i),o=e=>{var i=my();Oi(i,21,()=>t.choice.addons,Ai,(e,i,n)=>{var o=yi(),a=Xe(o),l=e=>{{let o=se(()=>Gt(s)===n);Vb(e,{get row(){return t.row},get choice(){return t.choice},get addon(){return Gt(i)},get isEnabled(){return Gt(m)},get windowWidth(){return t.windowWidth},get preloadImages(){return r()},get isFirst(){return Gt(o)}})}};Ci(a,e=>{(app.showAllAddons>0||(!Gt(i).hideAddon||t.choice.isActive)&&(Gt(i).showAddon||Ip(Gt(i).requireds)))&&e(l)}),Ti(e,o)}),st(()=>Hi(i,1,`d-column p-0 col w-100${Gt(v)??""}`)),Ti(e,i)};Ci(n,e=>{t.choice.addons&&t.choice.addons.length>0&&e(o)});var l=Ke(n,2),c=e=>{{let i=se(()=>Gt(m)&&!t.row.isInfoRow&&!t.choice.isNotSelectable);qb(e,{get isEnabled(){return Gt(i)},get multiChoiceButton(){return Gt(A)},get multiChoiceText(){return Gt(x)},get choice(){return t.choice},selectedOneMore:()=>Gp(t.choice,t.row,a),selectedOneLess:()=>Xp(t.choice,t.row,a)})}};Ci(l,e=>{t.choice.isSelectableMultiple&&Gt(O)&&4===Gt(d).multiChoiceCounterPosition&&e(c)}),Ti(e,i)};Ci(L,e=>{t.choice.useSeperateAddon||e(N)});var P=Ke(n,2),j=Ge(P),V=e=>{var i=yi(),n=Xe(i),o=e=>{var i=vy();i.__contextmenu=$,Fi(i,(e,t)=>jh?.(e,t),()=>t.choice.imageSourceTooltip),st(()=>{Ji(i,"src",t.choice.image),zi(i,Gt(k)),Ji(i,"loading",r()?"eager":"lazy")}),Ti(e,i)},a=e=>{var i=by();st(()=>{Ji(i,"src",t.choice.image),zi(i,Gt(k)),Ji(i,"loading",r()?"eager":"lazy")}),Ti(e,i)};Ci(n,e=>{t.choice.imageSourceTooltip?e(o):e(a,!1)}),Ti(e,i)};Ci(j,e=>{t.choice.image&&!t.row.objectImageRemoved&&e(V)});var U=Ke(P,2),H=e=>{var i=Ty(),n=Ge(i),o=e=>{var i=yy();Oi(i,21,()=>t.choice.addons,Ai,(e,i,n)=>{var o=yi(),a=Xe(o),l=e=>{{let o=se(()=>Gt(s)===n);Vb(e,{get row(){return t.row},get choice(){return t.choice},get addon(){return Gt(i)},get isEnabled(){return Gt(m)},get windowWidth(){return t.windowWidth},get preloadImages(){return r()},get isFirst(){return Gt(o)}})}};Ci(a,e=>{(app.showAllAddons>0||(!Gt(i).hideAddon||t.choice.isActive)&&(Gt(i).showAddon||Ip(Gt(i).requireds)))&&e(l)}),Ti(e,o)}),st(()=>Hi(i,1,`d-column p-0 col w-100${Gt(v)??""}`)),Ti(e,i)};Ci(n,e=>{t.choice.addons&&t.choice.addons.length>0&&e(o)});var l=Ke(n,2),c=e=>{{let i=se(()=>Gt(m)&&!t.row.isInfoRow&&!t.choice.isNotSelectable);qb(e,{get isEnabled(){return Gt(i)},get multiChoiceButton(){return Gt(A)},get multiChoiceText(){return Gt(x)},get choice(){return t.choice},selectedOneMore:()=>Gp(t.choice,t.row,a),selectedOneLess:()=>Xp(t.choice,t.row,a)})}};Ci(l,e=>{t.choice.isSelectableMultiple&&Gt(O)&&4===Gt(d).multiChoiceCounterPosition&&e(c)}),Ti(e,i)};Ci(U,e=>{t.choice.useSeperateAddon&&e(H)}),st(()=>{zi(n,`max-width: ${100-Gt(f)}%`),zi(P,`max-width: ${Gt(f)??""}%`)}),Ti(e,i)};Ci(n,e=>{3===t.choice.template&&e(o)},!0),Ti(e,i)};Ci(n,e=>{2===t.choice.template?e(o):e(l,!1)}),Ti(e,i)};Ci(p,e=>{t.choice.template>=4||1===t.choice.template||t.windowWidth<=1280||t.row.choicesShareTemplate?e(h):e(g,!1)}),st((e,i)=>{Hi(n,1,e),l=Hi(o,1,"d-flex",null,l,i),Hi(u,1,`row row-${t.row.id??""} choice-${t.choice.id??""} ${Gt(b)?"choice-selected":"choice-unselected"} ${Gt(m)?"choice-enabled":"choice-disabled"} ${Gt(b)&&Gt(c).selOverlayOnImage||!Gt(m)&&Gt(c).reqOverlayOnImage?"bg-overlay ":""}w-100`),zi(u,Gt(_))},[()=>Pi(function(){let e=t.choice.objectWidth||t.row.objectWidth,n=up(e),o="col-6"===app.objectsPerRow?2:"col-4"===app.objectsPerRow?3:4;if(i()>1280)return e;if(!(i()>720))return i()>480?1===n?"col-12":"col-6":"col-12";switch(n){case 1:return"col-12";case 2:return"col-6";case 3:return o>2?"col-4":app.objectsPerRow;case 4:return o>3?"col-3":app.objectsPerRow;default:return app.objectsPerRow}}()),()=>({fullHeight:Gt(y)})]),ci("click",u,e=>D(t.choice,t.row,e,!0),!0),Ti(e,n)};Ci(L,e=>{Gt(g)&&e(N)}),Ti(e,F);var P=G(B);return o(),P}di(["contextmenu"]);var Cy=mi('<img alt=""/>'),xy=mi('<img alt=""/>'),Ay=mi('<h2 class="mb-0"><!></h2>'),Oy=mi('<img alt=""/>'),Ey=mi('<img alt=""/>'),_y=mi('<p class="mb-0"><!></p>'),ky=mi('<img alt=""/>'),Ry=mi('<img alt=""/>'),My=mi('<div class="col-12 m-0 p-0"><!> <!> <!> <!> <!></div>'),Dy=mi('<h2 class="mb-0"><!></h2>'),$y=mi('<p class="mb-0"><!></p>'),By=mi('<img alt=""/>'),Fy=mi('<img alt=""/>'),Ly=mi('<div class="col p-0 text-center"><!> <!></div> <div class="col p-0 text-center"><!></div>',1),Ny=mi('<img alt=""/>'),Py=mi('<img alt=""/>'),jy=mi('<h2 class="mb-0"><!></h2>'),Vy=mi('<p class="mb-0"><!></p>'),Uy=mi('<div class="col p-0 text-center"><!></div> <div class="col p-0 text-center"><!> <!></div>',1),Hy=mi("<div><!></div>"),Wy=mi("<div><!></div>"),zy=mi("<div><!> <!></div>");function qy(e,t){q(t,!0);const i=On(t,"preloadImages",3,!1),n=On(t,"isBackpack",3,!1),o={linkedObjects:[]};let r=ke(void 0),a=se(()=>gp("privateBackgroundIsOn",t.row)),s=se(()=>gp("privateRowImageIsOn",t.row)),l=se(()=>gp("privateRowIsOn",t.row)),c=se(()=>gp("privateTextIsOn",t.row)),d=ke(0),u=se(()=>void 0!==Gt(s).rowImageBoxWidth?Gt(s).rowImageBoxWidth:50),p=se(()=>Ip(t.row.requireds)),h=se(()=>t.row.onlyIfNoChoices&&0!==t.row.currentChoices),f=se(()=>t.row.rowJustify?`justify-${t.row.rowJustify}`:""),m=se(()=>mp(t.row.title)),g=se(()=>mp(t.row.titleText)),v=se(()=>{const e=[];if(void 0!==t.row.resultGroupId&&""!==t.row.resultGroupId&&t.row.resultGroupId)for(const[i]of vu){const n=wu.get(i);if(void 0!==n){const i=n.choice,o=n.row;if(!i.isNotResult)if(t.row.resultGroupId===o.resultGroupId)e.push({choice:i,row:o});else if(void 0!==i.groups)for(let n=0;n<i.groups.length;n++)if(i.groups[n]===t.row.resultGroupId){e.push({choice:i,row:o});break}}}else for(const[t]of vu){const i=wu.get(t);if(void 0!==i){const t=i.choice,n=i.row;t.isNotResult||e.push({choice:t,row:n})}}return e.sort((e,t)=>e.row.index!==t.row.index?e.row.index-t.row.index:e.choice.index-t.choice.index),e}),b=se(()=>{const e=[];if(void 0!==t.row.resultGroupId){const i=Iu.get(t.row.resultGroupId);if(void 0!==i)for(let t=0;t<i.elements.length;t++){const n=wu.get(i.elements[t]);void 0!==n&&e.push({choice:n.choice,row:n.row})}}return e.sort((e,t)=>e.row.index!==t.row.index?e.row.index-t.row.index:e.choice.index-t.choice.index),e}),y=se(()=>{if(void 0!==t.row.styling&&t.row.isPrivateStyling&&t.row.privateBackgroundIsOn&&t.row.styling.backgroundImage)return t.row.styling;if(void 0!==app.rowDesignGroups&&t.row.rowDesignGroups)for(let e=0;e<t.row.rowDesignGroups.length;e++){let i=Au.get(t.row.rowDesignGroups[e]);if(void 0!==i&&i.privateBackgroundIsOn&&i.styling.backgroundImage){let e=i.activatedId,t=Su.get(e);if(""===e||bp(i.activatedId))return i.styling;if(void 0!==app.globalRequirements&&void 0!==t&&Ip(t.requireds))return i.styling}}return!1}),T=se(()=>{if(void 0!==t.row.styling&&t.row.isPrivateStyling&&t.row.privateBackgroundIsOn&&t.row.styling.bgColorIsOn&&t.row.styling.backgroundColor)return t.row.styling;if(void 0!==app.rowDesignGroups&&t.row.rowDesignGroups)for(let e=0;e<t.row.rowDesignGroups.length;e++){let i=Au.get(t.row.rowDesignGroups[e]);if(void 0!==i&&i.privateBackgroundIsOn&&i.styling.bgColorIsOn&&i.styling.backgroundColor){let e=i.activatedId,t=Su.get(e);if(""===e||bp(i.activatedId))return i.styling;if(void 0!==app.globalRequirements&&void 0!==t&&Ip(t.requireds))return i.styling}}return!1}),w=se(()=>{let e=[];return e.push(`margin: ${Gt(l).rowBodyMarginTop}px ${Gt(l).rowBodyMarginSides}% ${Gt(l).rowBodyMarginBottom}px ${Gt(l).rowBodyMarginSides}%;`),Gt(y)&&e.push(`background-image: url('${Gt(y).backgroundImage}'); ${Gt(y).isBackgroundRepeat?"background-repeat: repeat;":Gt(y).isBackgroundFitIn?"background-size: 100% 100%;":"background-size: cover;"}`),Gt(T)&&e.push(`background-color: ${Lh(Gt(T).backgroundColor)};`),e.join(" ")}),I=se(()=>{let e=Gt(l).rowBorderRadiusIsPixels?"px":"%",t=[];return Gt(l).rowBorderImage&&t.push(`border-image: url('${Gt(l).rowBorderImage}') ${Gt(l).rowBorderImageSliceTop} ${Gt(l).rowBorderImageSliceRight} ${Gt(l).rowBorderImageSliceBottom} ${Gt(l).rowBorderImageSliceLeft} / ${Gt(l).rowBorderImageWidth}px ${Gt(l).rowBorderImageRepeat}; border-style: solid; padding: ${Gt(l).rowBorderImageWidth}px;`),Gt(a).rowBackgroundImage&&t.push(`background-image: url('${Gt(a).rowBackgroundImage}'); ${Gt(a).isRowBackgroundRepeat?"background-repeat: repeat;":Gt(a).isRowBackgroundFitIn?"background-size: 100% 100%;":"background-size: cover;"}`),Gt(a).rowBgColorIsOn&&t.push(`background-color: ${Lh(Gt(a).rowBgColor)};`),t.push(`margin-left: ${Gt(l).rowMargin}%; margin-right: ${Gt(l).rowMargin}%;`),Gt(l).rowGradientIsOn&&t.push(`background-image: linear-gradient(${Gt(l).rowGradient});`),t.push(`border-radius: ${Gt(l).rowBorderRadiusTopLeft}${e} ${Gt(l).rowBorderRadiusTopRight}${e} ${Gt(l).rowBorderRadiusBottomRight}${e} ${Gt(l).rowBorderRadiusBottomLeft}${e};`),Gt(l).rowOverflowIsOn&&t.push("overflow: hidden;"),Gt(l).rowBorderIsOn&&t.push(`border: ${Gt(l).rowBorderWidth}px ${Gt(l).rowBorderStyle} ${Lh(Gt(l).rowBorderColor)};`),Gt(l).rowDropShadowIsOn&&(Gt(l).rowUseBoxShadowIsOn?t.push(`box-shadow: ${Gt(l).rowDropShadowH}px ${Gt(l).rowDropShadowV}px ${Gt(l).rowDropShadowBlur}px ${Gt(l).rowDropShadowSpread}px ${Lh(Gt(l).rowDropShadowColor)};`):t.push(`filter: drop-shadow(${Gt(l).rowDropShadowH}px ${Gt(l).rowDropShadowV}px ${Gt(l).rowDropShadowBlur}px ${Lh(Gt(l).rowDropShadowColor)});`)),t.join(" ")}),S=se(()=>`white-space: pre-line; font-family: '${Gt(c).rowTitle}'; font-size: ${Gt(c).rowTitleTextSize}%; text-align: ${Gt(c).rowTitleAlign}; color: ${Lh(Gt(c).rowTitleColor)}`),C=se(()=>`white-space: pre-wrap; font-family: '${Gt(c).rowText}'; font-size: ${Gt(c).rowTextTextSize}%; text-align: ${Gt(c).rowTextAlign}; color: ${Lh(Gt(c).rowTextColor)}; padding: ${Gt(l).rowTextPaddingX}px ${Gt(l).rowTextPaddingY}% ${Gt(l).rowTextPaddingX}px ${Gt(l).rowTextPaddingY}%;`),x=se(()=>{let e=Gt(s).rowImgBorderRadiusIsPixels?"px":"%",t=[];if(t.push(`width: ${Gt(s).rowImageWidth}%; margin-top: ${Gt(s).rowImageMarginTop}%; margin-bottom: ${Gt(s).rowImageMarginBottom}%;`),Gt(s).rowImgObjectFillIsOn){t.push(`object-fit: ${Gt(s).rowImgObjectFillStyle};`);const e=Gt(s).rowImgObjectFillHeight;e&&t.push(`height: ${e}px;`)}return t.push(`border-radius: ${Gt(s).rowImgBorderRadiusTopLeft}${e} ${Gt(s).rowImgBorderRadiusTopRight}${e} ${Gt(s).rowImgBorderRadiusBottomRight}${e} ${Gt(s).rowImgBorderRadiusBottomLeft}${e};`),Gt(s).rowImgOverflowIsOn&&t.push("overflow: hidden;"),Gt(s).rowImgBorderIsOn&&t.push(`border: ${Gt(s).rowImgBorderWidth}px ${Gt(s).rowImgBorderStyle} ${Lh(Gt(s).rowImgBorderColor)};`),t.join(" ")}),A=se(()=>`padding-left: ${Gt(l).rowButtonYPadding}px; padding-right: ${Gt(l).rowButtonYPadding}px; padding-top: ${Gt(l).rowButtonXPadding}px; padding-bottom: ${Gt(l).rowButtonXPadding}px;`);function O(){if(t.row.btnPointAddon&&"sumaddon"===t.row.buttonTypeRadio&&void 0!==t.row.pointTypeRandom){const e=t.row.randomMax||0,i=t.row.randomMin||0,n=Math.floor(Math.random()*(e-i)+i),r=new al,a=yu.get(t.row.pointTypeRandom);if(void 0!==a){if(a.belowZeroNotAllowed&&a.startingSum+n<0)return;const e=vu.get(t.row.id);let i=0;a.startingSum+=n,void 0!==e&&e.pointNum&&(i=e.pointNum),vu.set(t.row.id,{multiple:0,isRowButton:!0,rndPoint:t.row.pointTypeRandom,pointNum:i+n}),r.set(a.id,n),Hp(null,r,0,void 0,void 0,o)}return}if(t.row.buttonRandom){const e=[],i=t.row.objects.filter(e=>Ip(e.requireds)&&(!e.isNotSelectable||t.row.allowActivateUnselectable));if(t.row.isWeightedRandom){let e=0;for(let t=0;t<i.length;t++){e+=i[t].randomWeight||100}if(void 0!==t.row.buttonRandomNumber)for(let n=0;n<t.row.buttonRandomNumber;n++){const n=Math.floor(Math.random()*e);let o=0;for(let e=0;e<i.length;e++){const a=i[e];if(o+=a.randomWeight||100,n<o){a.isSelectableMultiple&&a.isMultipleUseVariable&&a.numMultipleTimesPluss?a.numMultipleTimesPluss>a.multipleUseVariable?Gp(a,t.row,Gt(r).options):Xp(a,t.row,Gt(r).options):Gt(r).activateObject(a,t.row);break}}}}else if(void 0!==t.row.buttonRandomNumber)for(let n=0;n<t.row.buttonRandomNumber;n++){let n,o,a=0,s=100;do{o=Math.floor(Math.random()*i.length),n=i[o],a++}while(t.row.onlyUnselectedChoices&&(-1!==e.indexOf(o)||vu.has(n.id))&&a<s);n&&-1===e.indexOf(o)&&(e.push(o),n.isSelectableMultiple&&n.isMultipleUseVariable&&n.numMultipleTimesPluss?n.numMultipleTimesPluss>n.multipleUseVariable?Gp(n,t.row,Gt(r).options):Xp(n,t.row,Gt(r).options):Gt(r).activateObject(n,t.row))}}else if(void 0!==t.row.buttonId){const e=xu.get(t.row.buttonId);void 0!==e&&(vu.has(e.id)?t.row.buttonType&&(e.isTrue=!1,vu.delete(e.id)):(e.isTrue=!0,vu.set(e.id,{multiple:0,isVariable:!0})))}}function E(e){navigator.clipboard.writeText(t.row.imageSourceTooltip).then(()=>{Lu.labelText="Tooltip copied to clipboard.",Lu.isOpen=!0}).catch(()=>{console.log(t.row.imageSourceTooltip),Lu.labelText="Tooltip text logged to developer console.",Lu.isOpen=!0})}nt(()=>{if(t.row.deselectChoices&&!Gt(p))for(let e=0;e<t.row.objects.length;e++){const i=t.row.objects[e];if(i.isActive)if(i.isSelectableMultiple){if(i.isMultipleUseVariable){const e=i.multipleUseVariable;if(e>0)for(let n=0;n<e;n++)Xp(i,t.row,Gt(r).options);else if(e<0)for(let n=e;n<0;n++)Gp(i,t.row,Gt(r).options)}}else Gt(r).activateObject(i,t.row)}});var _=zy(),k=Ge(_),R=e=>{var n=Hy(),o=Ge(n),r=e=>{var n=My(),o=Ge(n),r=e=>{var n=yi(),o=Xe(n),r=e=>{{let i=se(()=>!t.row.buttonType&&void 0!==t.row.buttonId&&vu.has(t.row.buttonId)||Gt(h));pr(e,{class:"row-button",onclickcapture:O,get disabled(){return Gt(i)},get style(){return Gt(A)},variant:"raised",children:(e,i)=>{Ho(e,{children:(e,i)=>{var n=yi();Mi(Xe(n),()=>void 0!==t.row.buttonText?t.row.buttonText:"Click"),Ti(e,n)},$$slots:{default:!0}})},$$slots:{default:!0}})}},a=e=>{var n=yi(),o=Xe(n),r=e=>{var n=yi(),o=Xe(n),r=e=>{var n=Cy();n.__contextmenu=E,Fi(n,(e,t)=>jh?.(e,t),()=>t.row.imageSourceTooltip),st(()=>{Ji(n,"src",t.row.image),zi(n,Gt(x)),Ji(n,"loading",i()?"eager":"lazy")}),Ti(e,n)},a=e=>{var n=xy();st(()=>{Ji(n,"src",t.row.image),zi(n,Gt(x)),Ji(n,"loading",i()?"eager":"lazy")}),Ti(e,n)};Ci(o,e=>{t.row.imageSourceTooltip?e(r):e(a,!1)}),Ti(e,n)};Ci(o,e=>{t.row.image&&e(r)},!0),Ti(e,n)};Ci(o,e=>{t.row.isButtonRow?e(r):e(a,!1)}),Ti(e,n)};Ci(o,e=>{(1===t.row.template||t.windowWidth<=1280)&&e(r)});var a=Ke(o,2),s=e=>{var t=yi();xi(Xe(t),()=>Gt(m),e=>{var t=Ay();Mi(Ge(t),()=>rb.sanitize(Gt(m),Mu)),st(()=>zi(t,Gt(S))),Ti(e,t)}),Ti(e,t)};Ci(a,e=>{""!==t.row.title&&e(s)});var l=Ke(a,2),c=e=>{var n=yi(),o=Xe(n),r=e=>{{let i=se(()=>!t.row.buttonType&&void 0!==t.row.buttonId&&vu.has(t.row.buttonId)||Gt(h));pr(e,{class:"row-button",onclickcapture:O,get disabled(){return Gt(i)},get style(){return Gt(A)},variant:"raised",children:(e,i)=>{Ho(e,{children:(e,i)=>{var n=yi();Mi(Xe(n),()=>void 0!==t.row.buttonText?t.row.buttonText:"Click"),Ti(e,n)},$$slots:{default:!0}})},$$slots:{default:!0}})}},a=e=>{var n=yi(),o=Xe(n),r=e=>{var n=yi(),o=Xe(n),r=e=>{var n=Oy();n.__contextmenu=E,Fi(n,(e,t)=>jh?.(e,t),()=>t.row.imageSourceTooltip),st(()=>{Ji(n,"src",t.row.image),zi(n,Gt(x)),Ji(n,"loading",i()?"eager":"lazy")}),Ti(e,n)},a=e=>{var n=Ey();st(()=>{Ji(n,"src",t.row.image),zi(n,Gt(x)),Ji(n,"loading",i()?"eager":"lazy")}),Ti(e,n)};Ci(o,e=>{t.row.imageSourceTooltip?e(r):e(a,!1)}),Ti(e,n)};Ci(o,e=>{t.row.image&&e(r)},!0),Ti(e,n)};Ci(o,e=>{t.row.isButtonRow?e(r):e(a,!1)}),Ti(e,n)};Ci(l,e=>{5===t.row.template&&t.windowWidth>1280&&e(c)});var d=Ke(l,2),u=e=>{var t=yi();xi(Xe(t),()=>Gt(g),e=>{var t=_y();Mi(Ge(t),()=>rb.sanitize(Gt(g),Mu)),st(()=>zi(t,Gt(C))),Ti(e,t)}),Ti(e,t)};Ci(d,e=>{""!==t.row.titleText&&e(u)});var p=Ke(d,2),f=e=>{var n=yi(),o=Xe(n),r=e=>{{let i=se(()=>!t.row.buttonType&&void 0!==t.row.buttonId&&vu.has(t.row.buttonId)||Gt(h));pr(e,{class:"row-button",onclickcapture:O,get disabled(){return Gt(i)},get style(){return Gt(A)},variant:"raised",children:(e,i)=>{Ho(e,{children:(e,i)=>{var n=yi();Mi(Xe(n),()=>void 0!==t.row.buttonText?t.row.buttonText:"Click"),Ti(e,n)},$$slots:{default:!0}})},$$slots:{default:!0}})}},a=e=>{var n=yi(),o=Xe(n),r=e=>{var n=yi(),o=Xe(n),r=e=>{var n=ky();n.__contextmenu=E,Fi(n,(e,t)=>jh?.(e,t),()=>t.row.imageSourceTooltip),st(()=>{Ji(n,"src",t.row.image),zi(n,Gt(x)),Ji(n,"loading",i()?"eager":"lazy")}),Ti(e,n)},a=e=>{var n=Ry();st(()=>{Ji(n,"src",t.row.image),zi(n,Gt(x)),Ji(n,"loading",i()?"eager":"lazy")}),Ti(e,n)};Ci(o,e=>{t.row.imageSourceTooltip?e(r):e(a,!1)}),Ti(e,n)};Ci(o,e=>{t.row.image&&e(r)},!0),Ti(e,n)};Ci(o,e=>{t.row.isButtonRow?e(r):e(a,!1)}),Ti(e,n)};Ci(p,e=>{4===t.row.template&&t.windowWidth>1280&&e(f)}),Ti(e,n)},a=e=>{var n=yi(),o=Xe(n),r=e=>{var n=Ly(),o=Xe(n),r=Ge(o),a=e=>{var t=yi();xi(Xe(t),()=>Gt(m),e=>{var t=Dy();Mi(Ge(t),()=>rb.sanitize(Gt(m),Mu)),st(()=>zi(t,Gt(S))),Ti(e,t)}),Ti(e,t)};Ci(r,e=>{""!==t.row.title&&e(a)});var s=Ke(r,2),l=e=>{var t=yi();xi(Xe(t),()=>Gt(g),e=>{var t=$y();Mi(Ge(t),()=>rb.sanitize(Gt(g),Mu)),st(()=>zi(t,Gt(C))),Ti(e,t)}),Ti(e,t)};Ci(s,e=>{""!==t.row.titleText&&e(l)});var c=Ke(o,2),d=Ge(c),p=e=>{{let i=se(()=>!t.row.buttonType&&void 0!==t.row.buttonId&&vu.has(t.row.buttonId)||Gt(h));pr(e,{class:"row-button",onclickcapture:O,get disabled(){return Gt(i)},get style(){return Gt(A)},variant:"raised",children:(e,i)=>{Ho(e,{children:(e,i)=>{var n=yi();Mi(Xe(n),()=>void 0!==t.row.buttonText?t.row.buttonText:"Click"),Ti(e,n)},$$slots:{default:!0}})},$$slots:{default:!0}})}},f=e=>{var n=yi(),o=Xe(n),r=e=>{var n=yi(),o=Xe(n),r=e=>{var n=By();n.__contextmenu=E,Fi(n,(e,t)=>jh?.(e,t),()=>t.row.imageSourceTooltip),st(()=>{Ji(n,"src",t.row.image),zi(n,Gt(x)),Ji(n,"loading",i()?"eager":"lazy")}),Ti(e,n)},a=e=>{var n=Fy();st(()=>{Ji(n,"src",t.row.image),zi(n,Gt(x)),Ji(n,"loading",i()?"eager":"lazy")}),Ti(e,n)};Ci(o,e=>{t.row.imageSourceTooltip?e(r):e(a,!1)}),Ti(e,n)};Ci(o,e=>{t.row.image&&e(r)},!0),Ti(e,n)};Ci(d,e=>{t.row.isButtonRow?e(p):e(f,!1)}),st(()=>{zi(o,`max-width: ${100-Gt(u)}%`),zi(c,`max-width: ${Gt(u)??""}%`)}),Ti(e,n)},a=e=>{var n=yi(),o=Xe(n),r=e=>{var n=Uy(),o=Xe(n),r=Ge(o),a=e=>{{let i=se(()=>!t.row.buttonType&&void 0!==t.row.buttonId&&vu.has(t.row.buttonId)||Gt(h));pr(e,{class:"row-button",onclickcapture:O,get disabled(){return Gt(i)},get style(){return Gt(A)},variant:"raised",children:(e,i)=>{Ho(e,{children:(e,i)=>{var n=yi();Mi(Xe(n),()=>void 0!==t.row.buttonText?t.row.buttonText:"Click"),Ti(e,n)},$$slots:{default:!0}})},$$slots:{default:!0}})}},s=e=>{var n=yi(),o=Xe(n),r=e=>{var n=yi(),o=Xe(n),r=e=>{var n=Ny();n.__contextmenu=E,Fi(n,(e,t)=>jh?.(e,t),()=>t.row.imageSourceTooltip),st(()=>{Ji(n,"src",t.row.image),zi(n,Gt(x)),Ji(n,"loading",i()?"eager":"lazy")}),Ti(e,n)},a=e=>{var n=Py();st(()=>{Ji(n,"src",t.row.image),zi(n,Gt(x)),Ji(n,"loading",i()?"eager":"lazy")}),Ti(e,n)};Ci(o,e=>{t.row.imageSourceTooltip?e(r):e(a,!1)}),Ti(e,n)};Ci(o,e=>{t.row.image&&e(r)},!0),Ti(e,n)};Ci(r,e=>{t.row.isButtonRow?e(a):e(s,!1)});var l=Ke(o,2),c=Ge(l),d=e=>{var t=yi();xi(Xe(t),()=>Gt(m),e=>{var t=jy();Mi(Ge(t),()=>rb.sanitize(Gt(m),Mu)),st(()=>zi(t,Gt(S))),Ti(e,t)}),Ti(e,t)};Ci(c,e=>{""!==t.row.title&&e(d)});var p=Ke(c,2),f=e=>{var t=yi();xi(Xe(t),()=>Gt(g),e=>{var t=Vy();Mi(Ge(t),()=>rb.sanitize(Gt(g),Mu)),st(()=>zi(t,Gt(C))),Ti(e,t)}),Ti(e,t)};Ci(p,e=>{""!==t.row.titleText&&e(f)}),st(()=>{zi(o,`max-width: ${Gt(u)??""}%`),zi(l,`max-width: ${100-Gt(u)}%`)}),Ti(e,n)};Ci(o,e=>{3===t.row.template&&e(r)},!0),Ti(e,n)};Ci(o,e=>{2===t.row.template?e(r):e(a,!1)}),Ti(e,n)};Ci(o,e=>{t.row.template>=4||1===t.row.template||t.windowWidth<=1280?e(r):e(a,!1)}),st(()=>{Hi(n,1,`row gx-0 row-${t.row.id??""} row-${t.row.id??""}-header`),zi(n,""!==t.row.title?Gt(I):"")}),Ti(e,n)};Ci(k,e=>{Gt(p)&&e(R)});var M=Ke(k,2),D=e=>{var o=Wy(),a=Ge(o),s=e=>{var n=yi();Oi(Xe(n),17,()=>Gt(v),Ai,(e,n,o)=>{pn(Sy(e,{get row(){return t.row},get choice(){return Gt(n).choice},index:o,get windowWidth(){return t.windowWidth},get preloadImages(){return i()}}),e=>Me(r,e,!0),()=>Gt(r))}),Ti(e,n)},l=e=>{var o=yi(),a=Xe(o),s=e=>{var o=yi();Oi(Xe(o),17,()=>Gt(b),Ai,(e,o,a)=>{pn(Sy(e,{get row(){return t.row},get choice(){return Gt(o).choice},index:a,get windowWidth(){return t.windowWidth},get preloadImages(){return i()},get isBackpack(){return n()},get mainDiv(){return t.mainDiv}}),e=>Me(r,e,!0),()=>Gt(r))}),Ti(e,o)},l=e=>{var o=yi();Oi(Xe(o),17,()=>t.row.objects,Ai,(e,o,a)=>{pn(Sy(e,{get row(){return t.row},get choice(){return Gt(o)},index:a,get windowWidth(){return t.windowWidth},get preloadImages(){return i()},get isBackpack(){return n()},get mainDiv(){return t.mainDiv}}),e=>Me(r,e,!0),()=>Gt(r))}),Ti(e,o)};Ci(a,e=>{t.row.isGroupRow?e(s):e(l,!1)},!0),Ti(e,o)};Ci(a,e=>{t.row.isResultRow?e(s):e(l,!1)}),st(()=>Hi(o,1,`row gx-0 m-0 p-0 ${Gt(f)??""}`)),Ti(e,o)};Ci(M,e=>{Gt(p)&&e(D)}),st(()=>{Hi(_,1,`row-${t.row.id??""}-bg text-center${Gt(p)?"":" hidden"}`),zi(_,Gt(w))}),dn(_,"clientWidth",e=>Me(d,e)),Ti(e,_),G()}di(["contextmenu"]);var Gy=mi("<!> <!>",1),Xy=mi('<div class="p-0 col-12"><!></div>'),Ky=mi("<div><!></div>"),Zy=mi('<div class="container-fluid p-0 h-100"><div class="row gx-0"></div></div>'),Yy=mi("<!> <!> <!>",1);function Qy(e,t){q(t,!0);let i=On(t,"open",7),n=ke(0),o=ke(void 0),r=ke(void 0),a=se(()=>{let e=[];return e.push("overflow-wrap: break-word;"),e.push("white-space: normal;"),app.styling.useBackpackDesign?(app.styling.backpackBgImage&&e.push(`background-image: url('${app.styling.backpackBgImage}');`),e.push(`background-color: ${Lh(app.styling.backpackBgColor)};`),app.styling.isBackpackBgRepeat?e.push("background-repeat: repeat;"):app.styling.isBackpackBgFitIn?e.push("background-size: 100% 100%;"):e.push("background-size: cover;")):(app.styling.backgroundImage&&e.push(`background-image: url('${app.styling.backgroundImage}');`),e.push(`background-color: ${Lh(app.styling.backgroundColor)};`),app.styling.isBackgroundRepeat?e.push("background-repeat: repeat;"):app.styling.isBackgroundFitIn?e.push("background-size: 100% 100%;"):e.push("background-size: cover;")),e.join(" ")});{let s=se(()=>"dlgBackpack"!==Fu.currentDialog?"close":""),l=se(()=>"dlgBackpack"!==Fu.currentDialog?"close":""),c=se(()=>void 0!==app.styling.backPackWidth?app.styling.backPackWidth:1200);df(e,{get escapeKeyAction(){return Gt(s)},get scrimClickAction(){return Gt(l)},get surface$style(){return`width: ${Gt(c)??""}px; max-width: 100vw;`},get onSMUIDialogClosed(){return t.onclose},get open(){return i()},set open(e){i(e)},children:(e,t)=>{var i=Yy(),s=Xe(i);uf(s,{class:"p-0 m-0 row",tabindex:0,autofocus:!0,children:(e,t)=>{var i=Xy();pr(Ge(i),{onclickcapture:()=>async function(e){if(e){let i=[];try{Lu.labelText="Downloading image...",Lu.isOpen=!0,_h(e),await Eh(e);const i=(await qc.maxArea({usePromise:!0})).height,n=e.offsetHeight,o=e.offsetWidth;if(!Nu.isSingleFile&&n>i){let r=0,a=1;const s=Math.ceil(n/i);for(;r<n;){const l=Math.min(i,n-r),c=document.createElement("div");Lu.labelText=`Splitting large image...(${a} / ${s})`,Lu.isOpen=!0,app.styling.useBackpackDesign?(app.styling.backpackBgImage&&(c.style.backgroundImage=app.styling.backpackBgImage),app.styling.backpackBgColor&&(c.style.backgroundColor=Lh(app.styling.backpackBgColor)),app.styling.isBackpackBgRepeat?c.style.backgroundRepeat="repeat":app.styling.isBackpackBgFitIn?c.style.backgroundSize="100% 100%":c.style.backgroundSize="cover"):(app.styling.backgroundImage&&(c.style.backgroundImage=app.styling.backgroundImage),app.styling.backgroundColor&&(c.style.backgroundColor=Lh(app.styling.backgroundColor)),app.styling.isBackgroundRepeat?c.style.backgroundRepeat="repeat":app.styling.isBackgroundFitIn?c.style.backgroundSize="100% 100%":c.style.backgroundSize="cover"),e.parentElement&&e.parentElement.classList.contains("mdc-dialog__content")&&c.classList.add("backpack-wrapper"),c.style.width=`${o}px`,c.style.height=`${l}px`,c.style.overflow="hidden",c.style.position="absolute",c.style.display="block",c.style.top="0",c.style.left="0",c.style.zIndex="-9999",c.style.pointerEvents="none";const d=e.cloneNode(!0);_h(d),d.style.position="relative",d.style.top=`-${r}px`,c.appendChild(d),document.body.appendChild(c),await Eh(c),await kh(c),await Rh(5);try{const e=await Bd(c,{filter:e=>!e.classList?.contains("mdc-top-app-bar")&&!e.classList?.contains("hidden")&&e.nodeType!==Node.COMMENT_NODE});if(!e)throw new Error("blob creation failed");const t=URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.download=`Build_${ep()}_part${a++}.png`,i.target="_blank",i.click(),setTimeout(()=>{URL.revokeObjectURL(t)},1e3)}catch(t){Lu.labelText="Download failed: Restricted content detected.",Lu.isOpen=!0,console.error(t)}finally{document.body.removeChild(c)}r+=i}Lu.labelText="Image downloads complete.",Lu.isOpen=!0}else{const t=await Bd(e,{filter:e=>!e.classList?.contains("mdc-top-app-bar")&&!e.classList?.contains("hidden")&&e.nodeType!==Node.COMMENT_NODE});if(!t)throw new Error("blob creation failed");const i=URL.createObjectURL(t),n=document.createElement("a");n.href=i,n.download=`Build_${ep()}.png`,n.target="_blank",n.click(),setTimeout(()=>{URL.revokeObjectURL(i)},1e3),Lu.labelText="Image download complete.",Lu.isOpen=!0}}catch(t){Lu.labelText="Download failed: Restricted content detected.",Lu.isOpen=!0,console.error(t)}finally{for(let e=0;e<i.length;e++){const t=i[e];t.style.removeProperty("height"),""===t.getAttribute("style")?.trim()&&t.removeAttribute("style")}}}else Lu.labelText="Download failed: Cannot find window.",Lu.isOpen=!0}(Gt(o)),class:"h-100",children:(e,t)=>{var i=Gy(),n=Xe(i);Wo(n,{class:"mdi mdi-file-image"}),Ho(Ke(n,2),{children:(e,t)=>{Ti(e,bi("Download Image"))},$$slots:{default:!0}}),Ti(e,i)},$$slots:{default:!0}}),Ti(e,i)},$$slots:{default:!0}});var l=Ke(s,2);pf(l,{id:"backpackDialog",class:"p-0",children:(e,t)=>{var i=Zy(),s=Ge(i);Oi(s,21,()=>app.backpack,Ai,(e,t)=>{var i=Ky();qy(Ge(i),{get row(){return Gt(t)},get windowWidth(){return Gt(n)},get preloadImages(){return app.preloadImages},isBackpack:!0}),st(()=>Hi(i,1,Pi(Gt(t).width?"col-6":"col-12"))),Ti(e,i)}),pn(s,e=>Me(r,e),()=>Gt(r)),pn(i,e=>Me(o,e),()=>Gt(o)),st(()=>zi(i,Gt(a))),dn(i,"clientWidth",e=>Me(n,e)),Ti(e,i)},$$slots:{default:!0}}),hf(Ke(l,2),{class:"p-0",style:"min-height: 36px",children:(e,t)=>{pr(e,{action:"close",children:(e,t)=>{Ho(e,{class:"dialog-actions--btn",children:(e,t)=>{Ti(e,bi("Close"))},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),Ti(e,i)},$$slots:{default:!0}})}G()}
/*!
   * Cropper.js v1.6.2
   * https://fengyuanchen.github.io/cropperjs
   *
   * Copyright 2015-present Chen Fengyuan
   * Released under the MIT license
   *
   * Date: 2024-04-21T07:43:05.335Z
   */function Jy(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function eT(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Jy(Object(i),!0).forEach(function(t){oT(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Jy(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function tT(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function iT(e){return(iT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nT(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tT(n.key),n)}}function oT(e,t,i){return(t=tT(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function rT(e){return function(e){if(Array.isArray(e))return aT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return aT(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return aT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aT(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var sT="undefined"!=typeof window&&void 0!==window.document,lT=sT?window:{},cT=!(!sT||!lT.document.documentElement)&&"ontouchstart"in lT.document.documentElement,dT=!!sT&&"PointerEvent"in lT,uT="cropper",pT="all",hT="crop",fT="move",mT="zoom",gT="e",vT="w",bT="s",yT="n",TT="ne",wT="nw",IT="se",ST="sw",CT="".concat(uT,"-crop"),xT="".concat(uT,"-disabled"),AT="".concat(uT,"-hidden"),OT="".concat(uT,"-hide"),ET="".concat(uT,"-invisible"),_T="".concat(uT,"-modal"),kT="".concat(uT,"-move"),RT="".concat(uT,"Action"),MT="".concat(uT,"Preview"),DT="crop",$T="move",BT="none",FT="crop",LT="cropend",NT="cropmove",PT="cropstart",jT="dblclick",VT=dT?"pointerdown":cT?"touchstart":"mousedown",UT=dT?"pointermove":cT?"touchmove":"mousemove",HT=dT?"pointerup pointercancel":cT?"touchend touchcancel":"mouseup",WT="ready",zT="resize",qT="wheel",GT="zoom",XT="image/jpeg",KT=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,ZT=/^data:/,YT=/^data:image\/jpeg;base64,/,QT=/^img|canvas$/i,JT={viewMode:0,dragMode:DT,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ew=Number.isNaN||lT.isNaN;function tw(e){return"number"==typeof e&&!ew(e)}var iw=function(e){return e>0&&e<1/0};function nw(e){return void 0===e}function ow(e){return"object"===iT(e)&&null!==e}var rw=Object.prototype.hasOwnProperty;function aw(e){if(!ow(e))return!1;try{var t=e.constructor,i=t.prototype;return t&&i&&rw.call(i,"isPrototypeOf")}catch(n){return!1}}function sw(e){return"function"==typeof e}var lw=Array.prototype.slice;function cw(e){return Array.from?Array.from(e):lw.call(e)}function dw(e,t){return e&&sw(t)&&(Array.isArray(e)||tw(e.length)?cw(e).forEach(function(i,n){t.call(e,i,n,e)}):ow(e)&&Object.keys(e).forEach(function(i){t.call(e,e[i],i,e)})),e}var uw=Object.assign||function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return ow(e)&&i.length>0&&i.forEach(function(t){ow(t)&&Object.keys(t).forEach(function(i){e[i]=t[i]})}),e},pw=/\.\d*(?:0|9){12}\d*$/;function hw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return pw.test(e)?Math.round(e*t)/t:e}var fw=/^width|height|left|top|marginLeft|marginTop$/;function mw(e,t){var i=e.style;dw(t,function(e,t){fw.test(t)&&tw(e)&&(e="".concat(e,"px")),i[t]=e})}function gw(e,t){if(t)if(tw(e.length))dw(e,function(e){gw(e,t)});else if(e.classList)e.classList.add(t);else{var i=e.className.trim();i?i.indexOf(t)<0&&(e.className="".concat(i," ").concat(t)):e.className=t}}function vw(e,t){t&&(tw(e.length)?dw(e,function(e){vw(e,t)}):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function bw(e,t,i){t&&(tw(e.length)?dw(e,function(e){bw(e,t,i)}):i?gw(e,t):vw(e,t))}var yw=/([a-z\d])([A-Z])/g;function Tw(e){return e.replace(yw,"$1-$2").toLowerCase()}function ww(e,t){return ow(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Tw(t)))}function Iw(e,t,i){ow(i)?e[t]=i:e.dataset?e.dataset[t]=i:e.setAttribute("data-".concat(Tw(t)),i)}var Sw=/\s\s*/,Cw=function(){var e=!1;if(sT){var t=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});lT.addEventListener("test",i,n),lT.removeEventListener("test",i,n)}return e}();function xw(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i;t.trim().split(Sw).forEach(function(t){if(!Cw){var r=e.listeners;r&&r[t]&&r[t][i]&&(o=r[t][i],delete r[t][i],0===Object.keys(r[t]).length&&delete r[t],0===Object.keys(r).length&&delete e.listeners)}e.removeEventListener(t,o,n)})}function Aw(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i;t.trim().split(Sw).forEach(function(t){if(n.once&&!Cw){var r=e.listeners,a=void 0===r?{}:r;o=function(){delete a[t][i],e.removeEventListener(t,o,n);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];i.apply(e,s)},a[t]||(a[t]={}),a[t][i]&&e.removeEventListener(t,a[t][i],n),a[t][i]=o,e.listeners=a}e.addEventListener(t,o,n)})}function Ow(e,t,i){var n;return sw(Event)&&sw(CustomEvent)?n=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,i),e.dispatchEvent(n)}function Ew(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var _w=lT.location,kw=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Rw(e){var t=e.match(kw);return null!==t&&(t[1]!==_w.protocol||t[2]!==_w.hostname||t[3]!==_w.port)}function Mw(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function Dw(e){var t=e.rotate,i=e.scaleX,n=e.scaleY,o=e.translateX,r=e.translateY,a=[];tw(o)&&0!==o&&a.push("translateX(".concat(o,"px)")),tw(r)&&0!==r&&a.push("translateY(".concat(r,"px)")),tw(t)&&0!==t&&a.push("rotate(".concat(t,"deg)")),tw(i)&&1!==i&&a.push("scaleX(".concat(i,")")),tw(n)&&1!==n&&a.push("scaleY(".concat(n,")"));var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function $w(e,t){var i=e.pageX,n=e.pageY,o={endX:i,endY:n};return t?o:eT({startX:i,startY:n},o)}function Bw(e){var t=e.aspectRatio,i=e.height,n=e.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",r=iw(n),a=iw(i);if(r&&a){var s=i*t;"contain"===o&&s>n||"cover"===o&&s<n?i=n/t:n=i*t}else r?i=n/t:a&&(n=i*t);return{width:n,height:i}}var Fw=String.fromCharCode;var Lw=/^data:.*,/;function Nw(e){var t,i=new DataView(e);try{var n,o,r;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var a=i.byteLength,s=2;s+1<a;){if(255===i.getUint8(s)&&225===i.getUint8(s+1)){o=s;break}s+=1}if(o){var l=o+10;if("Exif"===function(e,t,i){var n="";i+=t;for(var o=t;o<i;o+=1)n+=Fw(e.getUint8(o));return n}(i,o+4,4)){var c=i.getUint16(l);if(((n=18761===c)||19789===c)&&42===i.getUint16(l+2,n)){var d=i.getUint32(l+4,n);d>=8&&(r=l+d)}}}if(r){var u,p,h=i.getUint16(r,n);for(p=0;p<h;p+=1)if(u=r+12*p+2,274===i.getUint16(u,n)){u+=8,t=i.getUint16(u,n),i.setUint16(u,1,n);break}}}catch(f){t=1}return t}var Pw={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,i=this.container,n=this.cropper,o=Number(t.minContainerWidth),r=Number(t.minContainerHeight);gw(n,AT),vw(e,AT);var a={width:Math.max(i.offsetWidth,o>=0?o:200),height:Math.max(i.offsetHeight,r>=0?r:100)};this.containerData=a,mw(n,{width:a.width,height:a.height}),gw(e,AT),vw(n,AT)},initCanvas:function(){var e=this.containerData,t=this.imageData,i=this.options.viewMode,n=Math.abs(t.rotate)%180==90,o=n?t.naturalHeight:t.naturalWidth,r=n?t.naturalWidth:t.naturalHeight,a=o/r,s=e.width,l=e.height;e.height*a>e.width?3===i?s=e.height*a:l=e.width/a:3===i?l=e.width/a:s=e.height*a;var c={aspectRatio:a,naturalWidth:o,naturalHeight:r,width:s,height:l};this.canvasData=c,this.limited=1===i||2===i,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(e.width-c.width)/2,c.top=(e.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=uw({},c)},limitCanvas:function(e,t){var i=this.options,n=this.containerData,o=this.canvasData,r=this.cropBoxData,a=i.viewMode,s=o.aspectRatio,l=this.cropped&&r;if(e){var c=Number(i.minCanvasWidth)||0,d=Number(i.minCanvasHeight)||0;a>1?(c=Math.max(c,n.width),d=Math.max(d,n.height),3===a&&(d*s>c?c=d*s:d=c/s)):a>0&&(c?c=Math.max(c,l?r.width:0):d?d=Math.max(d,l?r.height:0):l&&(c=r.width,(d=r.height)*s>c?c=d*s:d=c/s));var u=Bw({aspectRatio:s,width:c,height:d});c=u.width,d=u.height,o.minWidth=c,o.minHeight=d,o.maxWidth=1/0,o.maxHeight=1/0}if(t)if(a>(l?0:1)){var p=n.width-o.width,h=n.height-o.height;o.minLeft=Math.min(0,p),o.minTop=Math.min(0,h),o.maxLeft=Math.max(0,p),o.maxTop=Math.max(0,h),l&&this.limited&&(o.minLeft=Math.min(r.left,r.left+(r.width-o.width)),o.minTop=Math.min(r.top,r.top+(r.height-o.height)),o.maxLeft=r.left,o.maxTop=r.top,2===a&&(o.width>=n.width&&(o.minLeft=Math.min(0,p),o.maxLeft=Math.max(0,p)),o.height>=n.height&&(o.minTop=Math.min(0,h),o.maxTop=Math.max(0,h))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=n.width,o.maxTop=n.height},renderCanvas:function(e,t){var i=this.canvasData,n=this.imageData;if(t){var o=function(e){var t=e.width,i=e.height,n=e.degree;if(90==(n=Math.abs(n)%180))return{width:i,height:t};var o=n%90*Math.PI/180,r=Math.sin(o),a=Math.cos(o),s=t*a+i*r,l=t*r+i*a;return n>90?{width:l,height:s}:{width:s,height:l}}({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),r=o.width,a=o.height,s=i.width*(r/i.naturalWidth),l=i.height*(a/i.naturalHeight);i.left-=(s-i.width)/2,i.top-=(l-i.height)/2,i.width=s,i.height=l,i.aspectRatio=r/a,i.naturalWidth=r,i.naturalHeight=a,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,mw(this.canvas,uw({width:i.width,height:i.height},Dw({translateX:i.left,translateY:i.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,i=this.imageData,n=i.naturalWidth*(t.width/t.naturalWidth),o=i.naturalHeight*(t.height/t.naturalHeight);uw(i,{width:n,height:o,left:(t.width-n)/2,top:(t.height-o)/2}),mw(this.image,uw({width:i.width,height:i.height},Dw(uw({translateX:i.left,translateY:i.top},i)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,i=e.aspectRatio||e.initialAspectRatio,n=Number(e.autoCropArea)||.8,o={width:t.width,height:t.height};i&&(t.height*i>t.width?o.height=o.width/i:o.width=o.height*i),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*n),o.height=Math.max(o.minHeight,o.height*n),o.left=t.left+(t.width-o.width)/2,o.top=t.top+(t.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=uw({},o)},limitCropBox:function(e,t){var i=this.options,n=this.containerData,o=this.canvasData,r=this.cropBoxData,a=this.limited,s=i.aspectRatio;if(e){var l=Number(i.minCropBoxWidth)||0,c=Number(i.minCropBoxHeight)||0,d=a?Math.min(n.width,o.width,o.width+o.left,n.width-o.left):n.width,u=a?Math.min(n.height,o.height,o.height+o.top,n.height-o.top):n.height;l=Math.min(l,n.width),c=Math.min(c,n.height),s&&(l&&c?c*s>l?c=l/s:l=c*s:l?c=l/s:c&&(l=c*s),u*s>d?u=d/s:d=u*s),r.minWidth=Math.min(l,d),r.minHeight=Math.min(c,u),r.maxWidth=d,r.maxHeight=u}t&&(a?(r.minLeft=Math.max(0,o.left),r.minTop=Math.max(0,o.top),r.maxLeft=Math.min(n.width,o.left+o.width)-r.width,r.maxTop=Math.min(n.height,o.top+o.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=n.width-r.width,r.maxTop=n.height-r.height))},renderCropBox:function(){var e=this.options,t=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,e.movable&&e.cropBoxMovable&&Iw(this.face,RT,i.width>=t.width&&i.height>=t.height?fT:pT),mw(this.cropBox,uw({width:i.width,height:i.height},Dw({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Ow(this.element,FT,this.getData())}},jw={initPreview:function(){var e=this.element,t=this.crossOrigin,i=this.options.preview,n=t?this.crossOriginUrl:this.url,o=e.alt||"The image to preview",r=document.createElement("img");if(t&&(r.crossOrigin=t),r.src=n,r.alt=o,this.viewBox.appendChild(r),this.viewBoxImage=r,i){var a=i;"string"==typeof i?a=e.ownerDocument.querySelectorAll(i):i.querySelector&&(a=[i]),this.previews=a,dw(a,function(e){var i=document.createElement("img");Iw(e,MT,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(i.crossOrigin=t),i.src=n,i.alt=o,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(i)})}},resetPreview:function(){dw(this.previews,function(e){var t=ww(e,MT);mw(e,{width:t.width,height:t.height}),e.innerHTML=t.html,function(e,t){if(ow(e[t]))try{delete e[t]}catch(i){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(i){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Tw(t)))}(e,MT)})},preview:function(){var e=this.imageData,t=this.canvasData,i=this.cropBoxData,n=i.width,o=i.height,r=e.width,a=e.height,s=i.left-t.left-e.left,l=i.top-t.top-e.top;this.cropped&&!this.disabled&&(mw(this.viewBoxImage,uw({width:r,height:a},Dw(uw({translateX:-s,translateY:-l},e)))),dw(this.previews,function(t){var i=ww(t,MT),c=i.width,d=i.height,u=c,p=d,h=1;n&&(p=o*(h=c/n)),o&&p>d&&(u=n*(h=d/o),p=d),mw(t,{width:u,height:p}),mw(t.getElementsByTagName("img")[0],uw({width:r*h,height:a*h},Dw(uw({translateX:-s*h,translateY:-l*h},e))))}))}},Vw={bind:function(){var e=this.element,t=this.options,i=this.cropper;sw(t.cropstart)&&Aw(e,PT,t.cropstart),sw(t.cropmove)&&Aw(e,NT,t.cropmove),sw(t.cropend)&&Aw(e,LT,t.cropend),sw(t.crop)&&Aw(e,FT,t.crop),sw(t.zoom)&&Aw(e,GT,t.zoom),Aw(i,VT,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&Aw(i,qT,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Aw(i,jT,this.onDblclick=this.dblclick.bind(this)),Aw(e.ownerDocument,UT,this.onCropMove=this.cropMove.bind(this)),Aw(e.ownerDocument,HT,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&Aw(window,zT,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,i=this.cropper;sw(t.cropstart)&&xw(e,PT,t.cropstart),sw(t.cropmove)&&xw(e,NT,t.cropmove),sw(t.cropend)&&xw(e,LT,t.cropend),sw(t.crop)&&xw(e,FT,t.crop),sw(t.zoom)&&xw(e,GT,t.zoom),xw(i,VT,this.onCropStart),t.zoomable&&t.zoomOnWheel&&xw(i,qT,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&xw(i,jT,this.onDblclick),xw(e.ownerDocument,UT,this.onCropMove),xw(e.ownerDocument,HT,this.onCropEnd),t.responsive&&xw(window,zT,this.onResize)}},Uw={resize:function(){if(!this.disabled){var e,t,i=this.options,n=this.container,o=this.containerData,r=n.offsetWidth/o.width,a=n.offsetHeight/o.height,s=Math.abs(r-1)>Math.abs(a-1)?r:a;if(1!==s)i.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),i.restore&&(this.setCanvasData(dw(e,function(t,i){e[i]=t*s})),this.setCropBoxData(dw(t,function(e,i){t[i]=e*s})))}},dblclick:function(){var e,t;this.disabled||this.options.dragMode===BT||this.setDragMode((e=this.dragBox,t=CT,(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)?$T:DT))},wheel:function(e){var t=this,i=Number(this.options.wheelZoomRatio)||.1,n=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),e.deltaY?n=e.deltaY>0?1:-1:e.wheelDelta?n=-e.wheelDelta/120:e.detail&&(n=e.detail>0?1:-1),this.zoom(-n*i,e)))},cropStart:function(e){var t=e.buttons,i=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(tw(t)&&1!==t||tw(i)&&0!==i||e.ctrlKey))){var n,o=this.options,r=this.pointers;e.changedTouches?dw(e.changedTouches,function(e){r[e.identifier]=$w(e)}):r[e.pointerId||0]=$w(e),n=Object.keys(r).length>1&&o.zoomable&&o.zoomOnTouch?mT:ww(e.target,RT),KT.test(n)&&!1!==Ow(this.element,PT,{originalEvent:e,action:n})&&(e.preventDefault(),this.action=n,this.cropping=!1,n===hT&&(this.cropping=!0,gw(this.dragBox,_T)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var i=this.pointers;e.preventDefault(),!1!==Ow(this.element,NT,{originalEvent:e,action:t})&&(e.changedTouches?dw(e.changedTouches,function(e){uw(i[e.identifier]||{},$w(e,!0))}):uw(i[e.pointerId||0]||{},$w(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,i=this.pointers;e.changedTouches?dw(e.changedTouches,function(e){delete i[e.identifier]}):delete i[e.pointerId||0],t&&(e.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,bw(this.dragBox,_T,this.cropped&&this.options.modal)),Ow(this.element,LT,{originalEvent:e,action:t}))}}},Hw={change:function(e){var t,i=this.options,n=this.canvasData,o=this.containerData,r=this.cropBoxData,a=this.pointers,s=this.action,l=i.aspectRatio,c=r.left,d=r.top,u=r.width,p=r.height,h=c+u,f=d+p,m=0,g=0,v=o.width,b=o.height,y=!0;!l&&e.shiftKey&&(l=u&&p?u/p:1),this.limited&&(m=r.minLeft,g=r.minTop,v=m+Math.min(o.width,n.width,n.left+n.width),b=g+Math.min(o.height,n.height,n.top+n.height));var T=a[Object.keys(a)[0]],w={x:T.endX-T.startX,y:T.endY-T.startY},I=function(e){switch(e){case gT:h+w.x>v&&(w.x=v-h);break;case vT:c+w.x<m&&(w.x=m-c);break;case yT:d+w.y<g&&(w.y=g-d);break;case bT:f+w.y>b&&(w.y=b-f)}};switch(s){case pT:c+=w.x,d+=w.y;break;case gT:if(w.x>=0&&(h>=v||l&&(d<=g||f>=b))){y=!1;break}I(gT),(u+=w.x)<0&&(s=vT,c-=u=-u),l&&(p=u/l,d+=(r.height-p)/2);break;case yT:if(w.y<=0&&(d<=g||l&&(c<=m||h>=v))){y=!1;break}I(yT),p-=w.y,d+=w.y,p<0&&(s=bT,d-=p=-p),l&&(u=p*l,c+=(r.width-u)/2);break;case vT:if(w.x<=0&&(c<=m||l&&(d<=g||f>=b))){y=!1;break}I(vT),u-=w.x,c+=w.x,u<0&&(s=gT,c-=u=-u),l&&(p=u/l,d+=(r.height-p)/2);break;case bT:if(w.y>=0&&(f>=b||l&&(c<=m||h>=v))){y=!1;break}I(bT),(p+=w.y)<0&&(s=yT,d-=p=-p),l&&(u=p*l,c+=(r.width-u)/2);break;case TT:if(l){if(w.y<=0&&(d<=g||h>=v)){y=!1;break}I(yT),p-=w.y,d+=w.y,u=p*l}else I(yT),I(gT),w.x>=0?h<v?u+=w.x:w.y<=0&&d<=g&&(y=!1):u+=w.x,w.y<=0?d>g&&(p-=w.y,d+=w.y):(p-=w.y,d+=w.y);u<0&&p<0?(s=ST,d-=p=-p,c-=u=-u):u<0?(s=wT,c-=u=-u):p<0&&(s=IT,d-=p=-p);break;case wT:if(l){if(w.y<=0&&(d<=g||c<=m)){y=!1;break}I(yT),p-=w.y,d+=w.y,u=p*l,c+=r.width-u}else I(yT),I(vT),w.x<=0?c>m?(u-=w.x,c+=w.x):w.y<=0&&d<=g&&(y=!1):(u-=w.x,c+=w.x),w.y<=0?d>g&&(p-=w.y,d+=w.y):(p-=w.y,d+=w.y);u<0&&p<0?(s=IT,d-=p=-p,c-=u=-u):u<0?(s=TT,c-=u=-u):p<0&&(s=ST,d-=p=-p);break;case ST:if(l){if(w.x<=0&&(c<=m||f>=b)){y=!1;break}I(vT),u-=w.x,c+=w.x,p=u/l}else I(bT),I(vT),w.x<=0?c>m?(u-=w.x,c+=w.x):w.y>=0&&f>=b&&(y=!1):(u-=w.x,c+=w.x),w.y>=0?f<b&&(p+=w.y):p+=w.y;u<0&&p<0?(s=TT,d-=p=-p,c-=u=-u):u<0?(s=IT,c-=u=-u):p<0&&(s=wT,d-=p=-p);break;case IT:if(l){if(w.x>=0&&(h>=v||f>=b)){y=!1;break}I(gT),p=(u+=w.x)/l}else I(bT),I(gT),w.x>=0?h<v?u+=w.x:w.y>=0&&f>=b&&(y=!1):u+=w.x,w.y>=0?f<b&&(p+=w.y):p+=w.y;u<0&&p<0?(s=wT,d-=p=-p,c-=u=-u):u<0?(s=ST,c-=u=-u):p<0&&(s=TT,d-=p=-p);break;case fT:this.move(w.x,w.y),y=!1;break;case mT:this.zoom(function(e){var t=eT({},e),i=0;return dw(e,function(e,n){delete t[n],dw(t,function(t){var n=Math.abs(e.startX-t.startX),o=Math.abs(e.startY-t.startY),r=Math.abs(e.endX-t.endX),a=Math.abs(e.endY-t.endY),s=Math.sqrt(n*n+o*o),l=(Math.sqrt(r*r+a*a)-s)/s;Math.abs(l)>Math.abs(i)&&(i=l)})}),i}(a),e),y=!1;break;case hT:if(!w.x||!w.y){y=!1;break}t=Ew(this.cropper),c=T.startX-t.left,d=T.startY-t.top,u=r.minWidth,p=r.minHeight,w.x>0?s=w.y>0?IT:TT:w.x<0&&(c-=u,s=w.y>0?ST:wT),w.y<0&&(d-=p),this.cropped||(vw(this.cropBox,AT),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}y&&(r.width=u,r.height=p,r.left=c,r.top=d,this.action=s,this.renderCropBox()),dw(a,function(e){e.startX=e.endX,e.startY=e.endY})}},Ww={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&gw(this.dragBox,_T),vw(this.cropBox,AT),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=uw({},this.initialImageData),this.canvasData=uw({},this.initialCanvasData),this.cropBoxData=uw({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(uw(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),vw(this.dragBox,_T),gw(this.cropBox,AT)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,dw(this.previews,function(t){t.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,vw(this.cropper,xT)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,gw(this.cropper,xT)),this},destroy:function(){var e=this.element;return e[uT]?(e[uT]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.canvasData,n=i.left,o=i.top;return this.moveTo(nw(e)?e:n+Number(e),nw(t)?t:o+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.canvasData,n=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(tw(e)&&(i.left=e,n=!0),tw(t)&&(i.top=t,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(e,t){var i=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(i.width*e/i.naturalWidth,null,t)},zoomTo:function(e,t,i){var n=this.options,o=this.canvasData,r=o.width,a=o.height,s=o.naturalWidth,l=o.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&n.zoomable){var c=s*e,d=l*e;if(!1===Ow(this.element,GT,{ratio:e,oldRatio:r/s,originalEvent:i}))return this;if(i){var u=this.pointers,p=Ew(this.cropper),h=u&&Object.keys(u).length?function(e){var t=0,i=0,n=0;return dw(e,function(e){var o=e.startX,r=e.startY;t+=o,i+=r,n+=1}),{pageX:t/=n,pageY:i/=n}}(u):{pageX:i.pageX,pageY:i.pageY};o.left-=(c-r)*((h.pageX-p.left-o.left)/r),o.top-=(d-a)*((h.pageY-p.top-o.top)/a)}else aw(t)&&tw(t.x)&&tw(t.y)?(o.left-=(c-r)*((t.x-o.left)/r),o.top-=(d-a)*((t.y-o.top)/a)):(o.left-=(c-r)/2,o.top-=(d-a)/2);o.width=c,o.height=d,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return tw(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,tw(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(tw(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.imageData,n=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(tw(e)&&(i.scaleX=e,n=!0),tw(t)&&(i.scaleY=t,n=!0),n&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,n=this.imageData,o=this.canvasData,r=this.cropBoxData;if(this.ready&&this.cropped){e={x:r.left-o.left,y:r.top-o.top,width:r.width,height:r.height};var a=n.width/n.naturalWidth;if(dw(e,function(t,i){e[i]=t/a}),t){var s=Math.round(e.y+e.height),l=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=l-e.x,e.height=s-e.y}}else e={x:0,y:0,width:0,height:0};return i.rotatable&&(e.rotate=n.rotate||0),i.scalable&&(e.scaleX=n.scaleX||1,e.scaleY=n.scaleY||1),e},setData:function(e){var t=this.options,i=this.imageData,n=this.canvasData,o={};if(this.ready&&!this.disabled&&aw(e)){var r=!1;t.rotatable&&tw(e.rotate)&&e.rotate!==i.rotate&&(i.rotate=e.rotate,r=!0),t.scalable&&(tw(e.scaleX)&&e.scaleX!==i.scaleX&&(i.scaleX=e.scaleX,r=!0),tw(e.scaleY)&&e.scaleY!==i.scaleY&&(i.scaleY=e.scaleY,r=!0)),r&&this.renderCanvas(!0,!0);var a=i.width/i.naturalWidth;tw(e.x)&&(o.left=e.x*a+n.left),tw(e.y)&&(o.top=e.y*a+n.top),tw(e.width)&&(o.width=e.width*a),tw(e.height)&&(o.height=e.height*a),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?uw({},this.containerData):{}},getImageData:function(){return this.sized?uw({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&dw(["left","top","width","height","naturalWidth","naturalHeight"],function(i){t[i]=e[i]}),t},setCanvasData:function(e){var t=this.canvasData,i=t.aspectRatio;return this.ready&&!this.disabled&&aw(e)&&(tw(e.left)&&(t.left=e.left),tw(e.top)&&(t.top=e.top),tw(e.width)?(t.width=e.width,t.height=e.width/i):tw(e.height)&&(t.height=e.height,t.width=e.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,i,n=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&aw(e)&&(tw(e.left)&&(n.left=e.left),tw(e.top)&&(n.top=e.top),tw(e.width)&&e.width!==n.width&&(t=!0,n.width=e.width),tw(e.height)&&e.height!==n.height&&(i=!0,n.height=e.height),o&&(t?n.height=n.width/o:i&&(n.width=n.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,i=function(e,t,i,n){var o=t.aspectRatio,r=t.naturalWidth,a=t.naturalHeight,s=t.rotate,l=void 0===s?0:s,c=t.scaleX,d=void 0===c?1:c,u=t.scaleY,p=void 0===u?1:u,h=i.aspectRatio,f=i.naturalWidth,m=i.naturalHeight,g=n.fillColor,v=void 0===g?"transparent":g,b=n.imageSmoothingEnabled,y=void 0===b||b,T=n.imageSmoothingQuality,w=void 0===T?"low":T,I=n.maxWidth,S=void 0===I?1/0:I,C=n.maxHeight,x=void 0===C?1/0:C,A=n.minWidth,O=void 0===A?0:A,E=n.minHeight,_=void 0===E?0:E,k=document.createElement("canvas"),R=k.getContext("2d"),M=Bw({aspectRatio:h,width:S,height:x}),D=Bw({aspectRatio:h,width:O,height:_},"cover"),$=Math.min(M.width,Math.max(D.width,f)),B=Math.min(M.height,Math.max(D.height,m)),F=Bw({aspectRatio:o,width:S,height:x}),L=Bw({aspectRatio:o,width:O,height:_},"cover"),N=Math.min(F.width,Math.max(L.width,r)),P=Math.min(F.height,Math.max(L.height,a)),j=[-N/2,-P/2,N,P];return k.width=hw($),k.height=hw(B),R.fillStyle=v,R.fillRect(0,0,$,B),R.save(),R.translate($/2,B/2),R.rotate(l*Math.PI/180),R.scale(d,p),R.imageSmoothingEnabled=y,R.imageSmoothingQuality=w,R.drawImage.apply(R,[e].concat(rT(j.map(function(e){return Math.floor(hw(e))})))),R.restore(),k}(this.image,this.imageData,t,e);if(!this.cropped)return i;var n=this.getData(e.rounded),o=n.x,r=n.y,a=n.width,s=n.height,l=i.width/Math.floor(t.naturalWidth);1!==l&&(o*=l,r*=l,a*=l,s*=l);var c=a/s,d=Bw({aspectRatio:c,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),u=Bw({aspectRatio:c,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=Bw({aspectRatio:c,width:e.width||(1!==l?i.width:a),height:e.height||(1!==l?i.height:s)}),h=p.width,f=p.height;h=Math.min(d.width,Math.max(u.width,h)),f=Math.min(d.height,Math.max(u.height,f));var m=document.createElement("canvas"),g=m.getContext("2d");m.width=hw(h),m.height=hw(f),g.fillStyle=e.fillColor||"transparent",g.fillRect(0,0,h,f);var v=e.imageSmoothingEnabled,b=void 0===v||v,y=e.imageSmoothingQuality;g.imageSmoothingEnabled=b,y&&(g.imageSmoothingQuality=y);var T,w,I,S,C,x,A=i.width,O=i.height,E=o,_=r;E<=-a||E>A?(E=0,T=0,I=0,C=0):E<=0?(I=-E,E=0,C=T=Math.min(A,a+E)):E<=A&&(I=0,C=T=Math.min(a,A-E)),T<=0||_<=-s||_>O?(_=0,w=0,S=0,x=0):_<=0?(S=-_,_=0,x=w=Math.min(O,s+_)):_<=O&&(S=0,x=w=Math.min(s,O-_));var k=[E,_,T,w];if(C>0&&x>0){var R=h/a;k.push(I*R,S*R,C*R,x*R)}return g.drawImage.apply(g,[i].concat(rT(k.map(function(e){return Math.floor(hw(e))})))),m},setAspectRatio:function(e){var t=this.options;return this.disabled||nw(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,i=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var o=e===DT,r=t.movable&&e===$T;e=o||r?e:BT,t.dragMode=e,Iw(i,RT,e),bw(i,CT,o),bw(i,kT,r),t.cropBoxMovable||(Iw(n,RT,e),bw(n,CT,o),bw(n,kT,r))}return this}},zw=lT.Cropper,qw=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t||!QT.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=uw({},JT,aw(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return t=e,n=[{key:"noConflict",value:function(){return window.Cropper=zw,e}},{key:"setDefaults",value:function(e){uw(JT,aw(e)&&e)}}],(i=[{key:"init",value:function(){var e,t=this.element,i=t.tagName.toLowerCase();if(!t[uT]){if(t[uT]=this,"img"===i){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===i&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var i=this.element,n=this.options;if(n.rotatable||n.scalable||(n.checkOrientation=!1),n.checkOrientation&&window.ArrayBuffer)if(ZT.test(e))YT.test(e)?this.read((o=e.replace(Lw,""),r=atob(o),a=new ArrayBuffer(r.length),dw(s=new Uint8Array(a),function(e,t){s[t]=r.charCodeAt(t)}),a)):this.clone();else{var o,r,a,s,l=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=c,l.onerror=c,l.ontimeout=c,l.onprogress=function(){l.getResponseHeader("content-type")!==XT&&l.abort()},l.onload=function(){t.read(l.response)},l.onloadend=function(){t.reloading=!1,t.xhr=null},n.checkCrossOrigin&&Rw(e)&&i.crossOrigin&&(e=Mw(e)),l.open("GET",e,!0),l.responseType="arraybuffer",l.withCredentials="use-credentials"===i.crossOrigin,l.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,i=this.imageData,n=Nw(e),o=0,r=1,a=1;if(n>1){this.url=function(e,t){for(var i=[],n=new Uint8Array(e);n.length>0;)i.push(Fw.apply(null,cw(n.subarray(0,8192)))),n=n.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(i.join("")))}(e,XT);var s=function(e){var t=0,i=1,n=1;switch(e){case 2:i=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,i=-1;break;case 8:t=-90}return{rotate:t,scaleX:i,scaleY:n}}(n);o=s.rotate,r=s.scaleX,a=s.scaleY}t.rotatable&&(i.rotate=o),t.scalable&&(i.scaleX=r,i.scaleY=a),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,i=e.crossOrigin,n=t;this.options.checkCrossOrigin&&Rw(t)&&(i||(i="anonymous"),n=Mw(t)),this.crossOrigin=i,this.crossOriginUrl=n;var o=document.createElement("img");i&&(o.crossOrigin=i),o.src=n||t,o.alt=e.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),gw(o,OT),e.parentNode.insertBefore(o,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var i=lT.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(lT.navigator.userAgent),n=function(t,i){uw(e.imageData,{naturalWidth:t,naturalHeight:i,aspectRatio:t/i}),e.initialImageData=uw({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||i){var o=document.createElement("img"),r=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){n(o.width,o.height),i||r.removeChild(o)},o.src=t.src,i||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",r.appendChild(o))}else n(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,i=this.image,n=e.parentNode,o=document.createElement("div");o.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var r=o.querySelector(".".concat(uT,"-container")),a=r.querySelector(".".concat(uT,"-canvas")),s=r.querySelector(".".concat(uT,"-drag-box")),l=r.querySelector(".".concat(uT,"-crop-box")),c=l.querySelector(".".concat(uT,"-face"));this.container=n,this.cropper=r,this.canvas=a,this.dragBox=s,this.cropBox=l,this.viewBox=r.querySelector(".".concat(uT,"-view-box")),this.face=c,a.appendChild(i),gw(e,AT),n.insertBefore(r,e.nextSibling),vw(i,OT),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,gw(l,AT),t.guides||gw(l.getElementsByClassName("".concat(uT,"-dashed")),AT),t.center||gw(l.getElementsByClassName("".concat(uT,"-center")),AT),t.background&&gw(r,"".concat(uT,"-bg")),t.highlight||gw(c,ET),t.cropBoxMovable&&(gw(c,kT),Iw(c,RT,pT)),t.cropBoxResizable||(gw(l.getElementsByClassName("".concat(uT,"-line")),AT),gw(l.getElementsByClassName("".concat(uT,"-point")),AT)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),sw(t.ready)&&Aw(e,WT,t.ready,{once:!0}),Ow(e,WT)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var e=this.cropper.parentNode;e&&e.removeChild(this.cropper),vw(this.element,AT)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&nT(t.prototype,i),n&&nT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i,n}();uw(qw.prototype,Pw,jw,Vw,Uw,Hw,Ww);var Gw=mi("<div><!></div>"),Xw=(e,t)=>{e.preventDefault(),t()},Kw=mi('<span class="picture-inner-text"><!></span>'),Zw=mi('<span class="picture-inner-text"><!></span>'),Yw=mi('<div class="picture-inner"><!></div>'),Qw=mi('<div class="preview-container"><canvas tabindex="0"></canvas> <!></div> <!> <!> <!>',1),Jw=mi("<div><!></div> <!> <!>",1),eI=mi("<div><!></div>"),tI=mi('<div id="picture-input" class="picture-input"><!> <input type="file"/></div>');function iI(e,t){q(t,!0);let i,n,o=On(t,"width",19,()=>Number.MAX_SAFE_INTEGER),r=On(t,"height",19,()=>Number.MAX_SAFE_INTEGER),a=On(t,"margin",3,0),s=On(t,"accept",3,"image/*, image/avif"),l=On(t,"capture",3,null),c=On(t,"size",19,()=>Number.MAX_SAFE_INTEGER),d=On(t,"name",3,null),u=On(t,"id",3,null),p=On(t,"buttonClass",3,""),h=On(t,"removeButtonClass",3,""),f=On(t,"aspectButtonClass",3,""),m=On(t,"prefill",11,""),g=On(t,"prefillOptions",19,()=>({})),v=On(t,"crop",3,!0),b=On(t,"radius",3,0),y=On(t,"removable",3,!1),T=On(t,"hideChangeButton",3,!1),w=On(t,"autoToggleAspectRatio",3,!1),I=On(t,"toggleAspectRatio",3,!1),S=On(t,"changeOnClick",3,!0),C=On(t,"plain",3,!1),x=On(t,"zIndex",3,1e4),A=On(t,"alertOnError",3,!0),O=On(t,"customStrings",19,()=>({})),E=ke(!1),_=ke(0),k=ke(0),R=ke(!1),M=ke(0),D=ke(0),$=ke(1),B=ke(0),F=ke(""),L=ke(null),N=ke(null),P=ke(""),j=ke(0),V=ke(0),U=ke(""),H=ke(!1),W=ke(0),z=ke(0),X=ke(0),K=ke(null),Z=ke(Fe([])),Y={upload:"<p>Your device does not support file uploading.</p>",drag:"Drag an image or <br>click here to select a file",tap:"Tap here to select a photo <br>from your gallery",change:"Change Photo",aspect:"Landscape/Portrait",remove:"Remove Photo",select:"Select a Photo",selected:"<p>Photo successfully selected!</p>",fileSize:"The file size exceeds the limit",fileType:"This file type is not supported."},Q=ke(void 0);const J=se(()=>{if(navigator.userAgent.match(/(Android (1\.0|1\.1|1\.5|1\.6|2\.0|2\.1))|(Windows Phone (OS 7|8\.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1\.0|2\.0|2\.5|3\.0))/))return!1;const e=document.createElement("input");return e.type="file",!e.disabled}),ee=se(()=>!(!window.FileReader||!window.CanvasRenderingContext2D)),te=se(()=>{const e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&!("ontouchstart"in window||navigator.maxTouchPoints)}),ie=se(()=>Gt(R)?"dragging-over":""),ne=se(()=>`${Math.min(.04*Gt(k),21)}px`);function oe(){Gt(E)&&!S()||ue(),t.onclick&&t.onclick()}function re(){fe()&&Gt(L)&&de(Gt(L))}function ae(){Gt(te)&&Me(R,!1)}function le(e,i=!1){const n=e.target,o="drop"===e.type?e.dataTransfer?.files:n.files;if(o&&0!==o.length){if(o[0].size<=0||o[0].size>1024*Number(c())*1024)return t.onerror&&t.onerror({type:"fileSize",fileSize:o[0].size,fileType:o[0].type,fileName:o[0].name,message:`${Y.fileSize} (${c()}MB)`}),void(A()&&alert(`${Y.fileSize} (${c()}MB)`));if(o[0].name!==Gt(P)||o[0].size!==Gt(j)||Gt(V)!==o[0].lastModified){if(Me(N,o[0],!0),Me(P,o[0].name,!0),Me(j,o[0].size,!0),Me(V,o[0].lastModified,!0),Me(U,o[0].type.split(";")[0],!0),"image/*, image/avif"===s()){if(!Gt(U).startsWith("image/"))return}else if(-1===Gt(Z).indexOf(Gt(U)))return t.onerror&&t.onerror({type:"fileType",fileSize:Gt(j),fileType:Gt(U),fileName:Gt(P),message:Y.fileType}),void(A()&&alert(Y.fileType));Me(E,!0),Me(F,""),Gt(ee)&&Gt(N)?ce(Gt(N),i):i?t.onprefill&&t.onprefill():t.onchange&&t.onchange(Gt(F))}}}function ce(e,i){!function(e,t){const i=new FileReader;i.onload=e=>{const i=new DataView(e.target.result);if(65496!==i.getUint16(0,!1))return t(-2);const n=i.byteLength;let o=2;for(;o<n;){const e=i.getUint16(o,!1);if(o+=2,65505===e){if(1165519206!==i.getUint32(o+=2,!1))return t(-1);const e=18761===i.getUint16(o+=6,!1);o+=i.getUint32(o+4,e);const n=i.getUint16(o,e);o+=2;for(let r=0;r<n;r++)if(274===i.getUint16(o+12*r,e))return t(i.getUint16(o+12*r+8,e))}else{if(65280&~e)break;o+=i.getUint16(o,!1)}}return t(-1)},i.readAsArrayBuffer(e.slice(0,65536))}(e,n=>{!function(e){Me(H,!1),8===e?Me(H,-Math.PI/2):6===e?Me(H,Math.PI/2):3===e&&Me(H,-Math.PI)}(n);const o=new FileReader;o.onload=e=>{Me(F,e.target.result,!0),Me(L,new Image,!0),Gt(L).onload=()=>{if(w()){me(Gt(M),Gt(D))!==me(Gt(L).width,Gt(L).height)&&ge()}de(Gt(L))},Gt(L).src=Gt(F),!i&&t.onchange&&t.onchange(Gt(F))},o.readAsDataURL(e)})}function de(e){Me(W,e.width,!0),Me(z,e.height,!0),Me(X,e.width/e.height);let t=0,i=0,n=Gt(k),o=Gt(_);const r=Gt(k)/Gt(_);v()?Gt(X)>=r?(n=o*Gt(X),t=(Gt(k)-n)/2):(o=n/Gt(X),i=(Gt(_)-o)/2):Gt(X)>=r?(o=n/Gt(X),i=(Gt(_)-o)/2):(n=o*Gt(X),t=(Gt(k)-n)/2),Gt(Q)&&(Gt(Q).style.background="none",Gt(Q).width=Gt(k)*Gt($),Gt(Q).height=Gt(_)*Gt($),Gt(K)&&(Gt(K).setTransform(1,0,0,1,0,0),Gt(K).clearRect(0,0,Gt(Q).width,Gt(Q).height),Gt(H)&&void 0===e.style.imageOrientation&&(Gt(K).translate(t*Gt($),i*Gt($)),Gt(K).translate(n/2*Gt($),o/2*Gt($)),Gt(K).rotate(Gt(H)),t=-n/2,i=-o/2),Gt(K).drawImage(e,t*Gt($),i*Gt($),n*Gt($),o*Gt($))))}function ue(){n.click()}function pe(){n.value="",n.type="",n.type="file",Me(P,""),Me(U,""),Me(j,0),Me(V,0),Me(E,!1),Me(F,""),Me(N,null),Me(L,null),Gt(Q)&&(Gt(Q).style.backgroundColor="rgba(200,200,200,.25)",Gt(Q).width=Gt(k)*Gt($)),t.onremove&&t.onremove()}function he(){ge(),Gt(L)&&de(Gt(L));const e=me(Gt(M),Gt(D));t.onaspectratiochange&&t.onaspectratiochange(e)}function fe(){const e=Gt(M)/Gt(D),t=i.clientWidth;return!!t&&(!(!I()&&!w()&&t===Gt(B))&&(Me(B,t,!0),Me(k,Math.min(Gt(B)-2*Number(a()),Gt(M)),!0),Me(_,Gt(k)/e),!0))}function me(e,t){return e>t?"landscape":e<t?"portrait":"square"}function ge(){!function(){const e=Gt(M);Me(M,Gt(D),!0),Me(D,e,!0)}(),fe()}function ve(e,i){let n=window.File;try{new n([],"")}catch(Pd){n=class extends Blob{lastModifiedDate=new Date;lastModified=+this.lastModifiedDate;name;constructor(e,t,i={}){super(e,i),this.name=t}}}if(i=Object.assign({},i),"object"==typeof e)return Me(E,!0),Me(F,""),void(Gt(ee)?ce(e,!0):t.onprefill&&t.onprefill());-1===e.indexOf("data:")&&(e+=-1!==e.indexOf("?")?"&_="+(new Date).getTime():"?_="+(new Date).getTime());const o=new Headers;o.append("Accept","image/*, image/avif"),fetch(e,{method:"GET",mode:"cors",headers:o}).then(e=>e.blob()).then(t=>{const o={target:{files:[]}},r=i.fileName||e.split("/").slice(-1)[0];let a=i.mediaType||t.type||"image/"+(i.fileType||r.split("?")[0].split(".").slice(-1)[0]);a=a.replace("jpg","jpeg").replace("image/svg","image/svg+xml"),"image/svg"===a&&(a="image/svg+xml"),o.target.files[0]=new n([t],r,{type:a}),le(o,!0)}).catch(e=>{t.onerror&&t.onerror({type:"failedPrefill",message:"Failed loading prefill image: "+e}),A()&&alert("Failed loading prefill image: "+e)})}nt(()=>{m()&&ve(m(),g())}),En(async()=>{await qt(),function(){if(O())for(const e in O())e in Y&&"string"==typeof O()[e]&&(Y[e]=O()[e])}(),m()&&ve(m(),g()),window.addEventListener("resize",re),re(),Gt(ee)&&Gt(Q)&&(Me($,Math.round(window.devicePixelRatio||1),!0),Gt(Q).getContext&&(Me(K,Gt(Q).getContext("2d"),!0),Gt(K)&&Gt(K).scale(Gt($),Gt($)))),"image/*, image/avif"!==s()&&Me(Z,s().split(",").map(e=>e.trim()),!0),Me(M,o()!=Number.MAX_SAFE_INTEGER?Number(o()):i.clientWidth,!0),Me(D,r()!=Number.MAX_SAFE_INTEGER?Number(r()):Gt(M),!0),Me(k,Gt(M),!0),Me(_,Gt(D),!0)}),_n(()=>{window.removeEventListener("resize",re)});var be=tI(),ye=Ge(be),Te=e=>{var t=Gw();Mi(Ge(t),()=>Y.upload),Ti(e,t)},we=e=>{var t=yi(),i=Xe(t),n=e=>{var t=Qw(),i=Xe(t),n=Ge(i);n.__click=[Xw,oe],pn(n,e=>Me(Q,e),()=>Gt(Q));var a=Ke(n,2),s=e=>{var t=Yw(),i=Ge(t),n=e=>{var t=Kw();Mi(Ge(t),()=>Y.drag),Ti(e,t)},o=e=>{var t=Zw();Mi(Ge(t),()=>Y.tap),Ti(e,t)};Ci(i,e=>{Gt(te)?e(n):e(o,!1)}),st(e=>zi(t,`top: -${Gt(_)??""}px; margin-bottom: -${Gt(_)??""}px; font-size: ${Gt(ne)??""}; border-radius: ${b()??""}%; z-index: ${e??""};`),[()=>parseInt(x()+"")+2]),Ti(e,t)};Ci(a,e=>{Gt(E)||C()||e(s)});var l=Ke(i,2),c=e=>{pr(e,{variant:"raised",onclick:ue,get class(){return p()},children:(e,t)=>{Ho(e,{children:(e,t)=>{var i=bi();st(()=>wi(i,Y.change)),Ti(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}})};Ci(l,e=>{Gt(E)&&!T()&&e(c)});var d=Ke(l,2),u=e=>{pr(e,{variant:"raised",onclick:pe,get class(){return h()},children:(e,t)=>{Ho(e,{children:(e,t)=>{var i=bi();st(()=>wi(i,Y.remove)),Ti(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}})};Ci(d,e=>{Gt(E)&&y()&&e(u)});var m=Ke(d,2),g=e=>{pr(e,{variant:"raised",onclick:he,get class(){return f()},children:(e,t)=>{Ho(e,{children:(e,t)=>{var i=bi();st(()=>wi(i,Y.aspect)),Ti(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}})};Ci(m,e=>{Gt(E)&&I()&&o()!==r()&&e(g)}),st(e=>{zi(i,`max-width: ${Gt(k)??""}px; height: ${Gt(_)??""}px; border-radius: ${b()??""}%;`),Hi(n,1,`picture-preview ${Gt(ie)??""}`),zi(n,`height: ${Gt(_)??""}px; z-index: ${e??""};`)},[()=>parseInt(x()+"")+1]),ci("drag",n,e=>{e.stopPropagation(),e.preventDefault()}),ci("dragover",n,e=>{e.stopPropagation(),e.preventDefault()}),ci("dragstart",n,e=>{e.stopPropagation(),e.preventDefault()}),ci("dragend",n,e=>{e.stopPropagation(),e.preventDefault()}),ci("dragenter",n,e=>{e.stopPropagation(),e.preventDefault(),Gt(te)&&Me(R,!0)}),ci("dragleave",n,e=>{e.stopPropagation(),e.preventDefault(),ae()}),ci("drop",n,e=>{e.stopPropagation(),e.preventDefault(),function(e){ae(),le(e)}(e)}),Ti(e,t)},a=e=>{var t=eI(),i=Ge(t),n=e=>{pr(e,{variant:"raised",onclick:ue,get class(){return p()},children:(e,t)=>{Ho(e,{children:(e,t)=>{var i=bi();st(()=>wi(i,Y.select)),Ti(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}})},o=e=>{var t=Jw(),i=Xe(t);Mi(Ge(i),()=>Y.selected);var n=Ke(i,2),o=e=>{pr(e,{variant:"raised",onclick:ue,get class(){return p()},children:(e,t)=>{Ho(e,{children:(e,t)=>{var i=bi();st(()=>wi(i,Y.change)),Ti(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}})};Ci(n,e=>{T()||e(o)});var r=Ke(n,2),a=e=>{pr(e,{variant:"raised",onclick:pe,get class(){return h()},children:(e,t)=>{Ho(e,{children:(e,t)=>{var i=bi();st(()=>wi(i,Y.remove)),Ti(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}})};Ci(r,e=>{y()&&e(a)}),Ti(e,t)};Ci(i,e=>{Gt(E)?e(o,!1):e(n)}),Ti(e,t)};Ci(i,e=>{Gt(ee)?e(n):e(a,!1)},!0),Ti(e,t)};Ci(ye,e=>{Gt(J)?e(we,!1):e(Te)});var Ie=Ke(ye,2);Ie.__change=le,pn(Ie,e=>n=e,()=>n),pn(be,e=>i=e,()=>i),st(()=>{Ji(Ie,"name",d()),Ji(Ie,"id",u()),Ji(Ie,"accept",s()),Ji(Ie,"capture",l())}),Ti(e,be),G()}di(["click","change"]);var nI=mi('<div class="mb-4 text-left"><!></div>'),oI=mi('<img class="d-block w-100" alt="Converted" loading="lazy"/> <!> <!>',1),rI=mi('<div class="col col-lg-4"><!> <!></div> <div class="col col-lg-8"><!></div>',1),aI=mi('<div><img alt="Cropper" loading="lazy" class="cropper-image"/></div>'),sI=mi('<div class="row justify-center"><div class="col"><!></div> <div class="col"><!></div> <div class="col"><!></div></div> <div class="mt-2"><!></div> <!>',1),lI=mi('<div class="pt-3 col col-12"><img class="d-block w-100" alt="Compress" loading="lazy"/></div>'),cI=mi('<div class="row justify-center"><div class="col"><!></div> <div class="col"><!></div> <div class="col"><!></div> <!></div>'),dI=mi('<div class="col col-lg-4"><div><!></div> <div><b>Before:</b> <b>After:</b> </div> <!></div> <div class="col-lg-8"><!> <!> <!></div>',1),uI=mi('<div class="container"><!> <div class="row"><!></div></div>'),pI=mi("<!> <!> <!>",1);function hI(e,t){q(t,!0);let i,n=On(t,"open",7),o=On(t,"imgObject",7),r=On(t,"canHaveURL",3,!0),a=ke("Cropper"),s=ke(100),l=ke(90),c=ke(1),d=ke(1),u=ke(void 0),p=ke(void 0),f=ke(void 0),m=ke(!1),g=[],v=!1,b=se(()=>{if(Gt(p)){const e=function(e){const t=e.match(/^data:.+;base64,(.+)$/);return t?t[1]:e}(Gt(p)).length*(3/4)-2;return Math.round(e/1024)}return 0}),y=se(()=>{if(Gt(f)){const e=Gt(f).split(",")[1].length*(3/4)-2;return Math.round(e/1024)}return 0});function T(){const e=O(o(),t.imgProp);e&&C(e)}function w(){Gt(f)&&A(o(),t.imgProp,Gt(f))}function I(){i&&i.setAspectRatio(Gt(d)/Gt(c))}function S(){if(i&&Gt(u)){const e=i.getCroppedCanvas().toDataURL("image/webp");Gt(u).src=e,A(o(),t.imgProp,e)}}function C(e){g.push(e),v||x()}function x(){const e=g.shift();if(e){v=!0;const t=document.createElement("canvas"),i=t.getContext("2d"),n=new Image;n.crossOrigin="anonymous",n.onload=()=>{const e=Gt(s)/100,o=n.width*e,r=n.height*e;t.setAttribute("width",o.toString()),t.setAttribute("height",r.toString()),i?.drawImage(n,0,0,o,r),Me(f,t.toDataURL("image/webp",Gt(l)/100),!0),x()},n.src=e}else v=!1}function A(e,t,n){e&&(e[t]=n,Me(p,n,!0),i&&i.replace(n),C(n))}function O(e,t){return e&&e[t]?e[t]:""}function E(){if(o().parentId){const e=wu.get(o().parentId);if(void 0!==e)return void(e.row.defaultAspectWidth=Gt(d))}if(o().id){const e=Tu.get(o().id);if(void 0!==e)return void(e.defaultAspectWidth=Gt(d));const t=wu.get(o().id);if(void 0!==t)return void(t.row.defaultAspectWidth=Gt(d))}}function _(){if(o().parentId){const e=wu.get(o().parentId);if(void 0!==e)return void(e.row.defaultAspectHeight=Gt(c))}if(o().id){const e=Tu.get(o().id);if(void 0!==e)return void(e.defaultAspectHeight=Gt(c));const t=wu.get(o().id);if(void 0!==t)return void(t.row.defaultAspectHeight=Gt(c))}}nt(()=>(Gt(u)?i=new qw(Gt(u),{viewMode:3,dragMode:"move"}):i&&i.destroy(),()=>{i&&i.destroy()})),En(()=>{!function(){if(o().parentId){const e=wu.get(o().parentId);return void(void 0!==e&&(void 0!==e.row.defaultAspectHeight&&Me(c,e.row.defaultAspectHeight,!0),void 0!==e.row.defaultAspectWidth&&Me(d,e.row.defaultAspectWidth,!0)))}if(o().id){const e=Tu.get(o().id);if(void 0!==e)return void 0!==e.defaultAspectHeight&&Me(c,e.defaultAspectHeight,!0),void(void 0!==e.defaultAspectWidth&&Me(d,e.defaultAspectWidth,!0));const t=wu.get(o().id);if(void 0!==t)void 0!==t.row.defaultAspectHeight&&Me(c,t.row.defaultAspectHeight,!0),void 0!==t.row.defaultAspectWidth&&Me(d,t.row.defaultAspectWidth,!0)}}();const e=O(o(),t.imgProp);if(e){Me(p,e,!0);const t=document.createElement("canvas"),i=t.getContext("2d"),n=new Image;n.crossOrigin="anonymous",n.onload=()=>{const e=Gt(s)/100,o=n.width*e,r=n.height*e;t.setAttribute("width",o.toString()),t.setAttribute("height",r.toString()),i?.drawImage(n,0,0,o,r),Me(f,t.toDataURL("image/webp",Gt(l)/100),!0)},n.src=Gt(p)}}),df(e,{surface$style:"width: 1200px; max-width: calc(100vw - 32px);",style:"text-align: center",get onSMUIDialogClosed(){return t.onclose},get open(){return n()},set open(e){n(e)},children:(e,i)=>{var p=pI(),f=Xe(p);uf(f,{tabindex:0,autofocus:!0,children:(e,t)=>{Ti(e,bi("Image"))},$$slots:{default:!0}});var g=Ke(f,2);pf(g,{children:(e,i)=>{var p=uI(),f=Ge(p),g=e=>{var t=nI();If(Ge(t),{label:e=>{Ti(e,bi("Uploaded Image or External URL."))},children:(e,t)=>{_f(e,{color:"secondary",class:"switch-scale",get checked(){return Gt(m)},set checked(e){Me(m,e,!0)}})},$$slots:{label:!0,default:!0}});Ti(e,t)};Ci(f,e=>{r()&&e(g)});var v=Ge(Ke(f,2)),C=e=>{var i=rI(),n=Xe(i),r=Ge(n);um(r,{get value(){return o()?.imageLink||""},set value(e){(e=>{o().imageLink=e})(e)},label:"External Image URL",variant:"filled"}),pr(Ke(r,2),{onclick:()=>{A(o(),t.imgProp,o().imageLink)},variant:"raised",children:(e,t)=>{Ho(e,{children:(e,t)=>{Ti(e,bi("Convert URL to Image"))},$$slots:{default:!0}})},$$slots:{default:!0}});var a=Ge(Ke(n,2)),s=e=>{var i=oI(),n=Xe(i),r=Ke(n,2);pr(r,{onclick:()=>{A(o(),t.imgProp,""),delete o().imageLink},variant:"raised",class:"my-3",children:(e,t)=>{Ho(e,{children:(e,t)=>{Ti(e,bi("Remove Photo"))},$$slots:{default:!0}})},$$slots:{default:!0}});var a=Ke(r,2);um(a,{get value(){return o()?.imageSourceTooltip||""},set value(e){(e=>{o().imageSourceTooltip=e})(e)},label:"Tooltip That Shows When Hovering over it",variant:"filled"}),st(e=>Ji(n,"src",e),[()=>O(o(),t.imgProp)]),Ti(e,i)};Ci(a,e=>{void 0!==O(o(),t.imgProp)&&""!==O(o(),t.imgProp)&&e(s)}),Ti(e,i)},x=e=>{var i=dI(),r=Xe(i),p=Ge(r),f=Ge(p),m=e=>{{let i=se(()=>th(O(o(),t.imgProp))?O(o(),t.imgProp):"");iI(e,{hideChangeButton:!0,removable:!0,crop:!1,get prefill(){return Gt(i)},onchange:e=>{A(o(),t.imgProp,e)},onremove:()=>A(o(),t.imgProp,"")})}};Ci(f,e=>{n()&&e(m)});var g=Ke(p,2);let v;var C=Ke(Ge(g)),x=Ke(C,2),k=Ke(g,2);um(k,{get value(){return o()?.imageSourceTooltip||""},set value(e){(e=>{o().imageSourceTooltip=e})(e)},label:"Tooltip That Shows When Hovering over it",variant:"filled"});var R=Ge(Ke(r,2));{const e=(e,t=h)=>{ag(e,{get tab(){return t()},children:(e,i)=>{Ho(e,{children:(e,i)=>{var n=bi();st(()=>wi(n,t())),Ti(e,n)},$$slots:{default:!0}})},$$slots:{default:!0}})};Sg(R,{tabs:["Cropper","Compress"],get active(){return Gt(a)},set active(e){Me(a,e,!0)},tab:e,$$slots:{tab:!0}})}var M=Ke(R,2);{let e=se(()=>"Cropper"!==Gt(a)?"display: none;":"");gm(M,{role:"tabpanel",variant:"unelevated",get style(){return Gt(e)},children:(e,i)=>{vm(e,{children:(e,i)=>{var n=sI(),r=Xe(n),a=Ge(r);um(Ge(a),{onchange:E,label:"Width Aspect",type:"number",variant:"filled",get value(){return Gt(d)},set value(e){Me(d,e,!0)}});var s=Ke(a,2);um(Ge(s),{onchange:_,label:"Height Aspect",type:"number",variant:"filled",get value(){return Gt(c)},set value(e){Me(c,e,!0)}}),pr(Ge(Ke(s,2)),{onclick:I,variant:"raised",style:"height: 100%;",children:(e,t)=>{Ho(e,{children:(e,t)=>{Ti(e,bi("Change Aspect"))},$$slots:{default:!0}})},$$slots:{default:!0}});var l=Ke(r,2);pr(Ge(l),{onclick:S,variant:"raised",children:(e,t)=>{Ho(e,{children:(e,t)=>{Ti(e,bi("Crop Image"))},$$slots:{default:!0}})},$$slots:{default:!0}});var p=Ke(l,2),h=e=>{var i=aI(),n=Ge(i);pn(n,e=>Me(u,e),()=>Gt(u)),st(e=>Ji(n,"src",e),[()=>O(o(),t.imgProp)]),Ti(e,i)};Ci(p,e=>{th(O(o(),t.imgProp))&&e(h)}),Ti(e,n)},$$slots:{default:!0}})},$$slots:{default:!0}})}var D=Ke(M,2);{let e=se(()=>"Compress"!==Gt(a)?"display: none;":"");gm(D,{role:"tabpanel",variant:"unelevated",get style(){return Gt(e)},children:(e,i)=>{vm(e,{children:(e,i)=>{var n=cI(),r=Ge(n);um(Ge(r),{onchange:T,label:"Image Scale",type:"number",variant:"filled",get value(){return Gt(s)},set value(e){Me(s,e,!0)}});var a=Ke(r,2);um(Ge(a),{onchange:T,label:"Image Quality",type:"number",variant:"filled",get value(){return Gt(l)},set value(e){Me(l,e,!0)}});var c=Ke(a,2);pr(Ge(c),{onclick:w,variant:"raised",style:"height: 100%;",children:(e,t)=>{Ho(e,{children:(e,t)=>{Ti(e,bi("Compress Image"))},$$slots:{default:!0}})},$$slots:{default:!0}});var d=Ke(c,2),u=e=>{var i=lI(),n=Ge(i);st(e=>Ji(n,"src",e),[()=>O(o(),t.imgProp)]),Ti(e,i)};Ci(d,e=>{th(O(o(),t.imgProp))&&e(u)}),Ti(e,n)},$$slots:{default:!0}})},$$slots:{default:!0}})}st(e=>{v=Hi(g,1,"p-2",null,v,e),wi(C,`${Gt(b)??""} kB|`),wi(x,`${Gt(y)??""} kB`)},[()=>({hidden:!O(o(),t.imgProp)})]),Ti(e,i)};Ci(v,e=>{Gt(m)?e(C):e(x,!1)}),Ti(e,p)},$$slots:{default:!0}}),hf(Ke(g,2),{children:(e,t)=>{pr(e,{action:"close",children:(e,t)=>{Ho(e,{class:"dialog-actions--btn",children:(e,t)=>{Ti(e,bi("Close"))},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),Ti(e,p)},$$slots:{default:!0}}),G()}var fI=mi('<div class="row pt-4"><div class="col-12"><!></div></div>'),mI=mi('<div class="container-fluid"><div class="row"><div class="col-6"><!></div> <div class="col-6"><!></div></div></div>'),gI=mi("<!> <!> <!>",1);function vI(e,t){q(t,!0);let i=On(t,"changeNum",7),n=On(t,"minVal",3,0),o=On(t,"maxVal",3,0);df(e,{get open(){return t.open},set open(e){(e=>{!e&&t.onclose()})(e)},surface$style:"width: 400px; max-width: calc(100vw - 32px);",children:(e,r)=>{var a=gI(),s=Xe(a);uf(s,{class:"px-3 pb-0 toolbar toolbar__dialog",children:(e,t)=>{Ti(e,bi("Counter"))},$$slots:{default:!0}});var l=Ke(s,2);pf(l,{children:(e,t)=>{var r=fI(),a=Ge(r);um(Ge(a),{label:"Number of Count",variant:"filled",type:"number",onchange:()=>{i(Math.min(Math.max(i(),n()),o()))},get input$min(){return n()},get input$max(){return o()},get value(){return i()},set value(e){i(e)}}),Ti(e,r)},$$slots:{default:!0}}),hf(Ke(l,2),{children:(e,r)=>{var a=mI(),s=Ge(a),l=Ge(s);pr(Ge(l),{children:(e,t)=>{Ho(e,{children:(e,t)=>{Ti(e,bi("Cancel"))},$$slots:{default:!0}})},$$slots:{default:!0}}),pr(Ge(Ke(l,2)),{defaultAction:!0,onclickcapture:()=>t.submit(Math.min(Math.max(i(),n()),o())),children:(e,t)=>{Ho(e,{class:"dialog-actions--btn",children:(e,t)=>{Ti(e,bi("OK"))},$$slots:{default:!0}})},$$slots:{default:!0}}),Ti(e,a)},$$slots:{default:!0}}),Ti(e,a)},$$slots:{default:!0}}),G()}var bI=mi("<!> <!>",1),yI=mi("<!> <!>",1),TI=mi("<!> <!>",1),wI=mi("<!> <!>",1),II=mi("<!> <!>",1),SI=mi("<!> <!>",1),CI=mi("<!> <!>",1),xI=mi("<!> <!>",1),AI=mi("<!> <!> <!> <!> <!> <!> <!>",1),OI=mi("<i></i>"),EI=mi('<i class="mdi mdi-stop"></i>'),_I=mi("<i></i>"),kI=mi('<!> <!> <!> <div class="px-1 music-player--volume" style="max-width: 104px; width: 100%"><!></div> <div class="ps-1" style="max-width:150px; overflow: hidden;"><span class="scrolling-text"> </span></div> <div class="px-1 col music-player--progress-bar"><!></div> <div class="text-center" style="width: 180px"> </div>',1),RI=mi('<i class="mdi mdi-format-list-checks"></i>'),MI=mi('<i class="mdi mdi-format-list-checks"></i>'),DI=mi('<div class="py-0 justify-center"><!></div>'),$I=mi('<i class="mdi mdi-checkbox-marked-circle-outline"></i>'),BI=mi("<!> <!> <!>",1),FI=mi("<div><!></div>"),LI=mi('<div class="ab-0"><div class="fadeOverlay"></div> <!> <!> <div class="s-main"><!> <!> <div class="container-fluid p-0"><div class="row gx-0"></div></div></div></div> <!> <!> <!>',1);function NI(e,t){q(t,!0);const i={action:()=>{},title:"Warning",context:""};let n=ke(!1),o=ke(!1),r=ke("none"),a=se(()=>Gt(o)?app.showMusicPlayer?"top: 32px;":"top: 0;":"bottom: 0;"),s=se(()=>`opacity: ${app.fadeTransitionIsOn?1:0}; transition: opacity ${app.fadeTransitionTime}s ease-out; background-color: ${Lh(app.fadeTransitionColor)}; pointer-events: ${app.fadeTransitionIsOn?"auto":"none"}; cursor: ${app.fadeTransitionIsOn?"none":"auto"};`),l=ke(0),c=ke(void 0),d=se(()=>app.pointTypes.length>0||app.backpack.length>0||app.importedChoicesIsOpen),u=se(()=>`background-color: ${Lh(app.styling.barBackgroundColor)}; margin:${app.styling.barMargin}px; padding:${app.styling.barPadding}px; ${Gt(a)}`),p=se(()=>`color: ${Lh(app.styling.barTextColor)}; margin: ${app.styling.barTextMargin}px; padding: ${app.styling.barTextPadding}px; font-family: '${app.styling.barTextFont}'; font-size: ${app.styling.barTextSize}px;`),f=se(()=>`color: ${Lh(app.styling.barIconColor)};`),m=se(()=>{let e=[];return app.styling.backgroundImage&&e.push(`background-image: url('${app.styling.backgroundImage}');`),e.push(`background-color: ${Lh(app.styling.backgroundColor)};`),app.styling.isBackgroundRepeat?e.push("background-repeat: repeat;"):app.styling.isBackgroundFitIn?e.push("background-size: 100% 100%;"):e.push("background-size: cover;"),Gt(d)&&e.push("padding-bottom: 56px;"),app.useVW&&e.push("font-size: 0.835vw;"),e.join(" ")}),g=se(()=>{let e=[];return app.showMusicPlayer&&e.push("padding-top: 32px;"),e.join(" ")}),v=se(()=>`${I(Bu.curBgmTime)} | ${I(Bu.curBgmLength)}`),b=ke(0),y=ke(100),T=ke(!1);function w(e){const t=e.currentTarget;e.preventDefault(),t.blur(),Me(r,"appBuildForm")}function I(e){const t=Math.floor(e/3600),i=Math.floor(e%3600/60),n=Math.floor(e%60),o=String(i).padStart(2,"0"),r=String(n).padStart(2,"0");return t>0?`${t}:${o}:${r}`:`${o}:${r}`}function S(){const e=localStorage.getItem("theme");Ru.value="dark"===e?"light":"dark";let t=document.head.querySelector("#theme-dark"),i=document.head.querySelector("#theme-light");"dark"===Ru.value?(t&&(t.media="screen and (prefers-color-scheme: light)"),i&&(i.media="screen and (prefers-color-scheme: dark)")):(t&&(t.media="screen and (prefers-color-scheme: dark)"),i&&(i.media="screen and (prefers-color-scheme: light)")),localStorage.setItem("theme",Ru.value)}function C(){const e=vn(Du);if(e)if(Bu.bgmIsPlaying)e.pause(),Bu.bgmIsPlaying=!1,0!==Bu.bgmPlayInterval&&(clearInterval(Bu.bgmPlayInterval),Bu.bgmPlayInterval=0);else{let t=0,i=0;0!==Bu.bgmPlayInterval&&(clearInterval(Bu.bgmPlayInterval),Bu.bgmPlayInterval=0),e.play(),Bu.bgmIsPlaying=!0,Bu.bgmPlayInterval=window.setInterval(()=>{if(!Bu.isSeeking&&e.isPlaying()){const n=Math.floor(e.getCurrentTime());n!==Bu.curBgmTime?t!==n?Bu.curBgmTime=n:(i++,i>Bu.curBgmLength&&(i=1),Bu.curBgmTime=i):(t=n,i=n+1,Bu.curBgmTime=i)}},1e3)}}function x(){const e=vn(Du);e&&Bu.bgmIsPlaying&&(e.stop(),Bu.bgmIsPlaying=!1,Bu.curBgmTime=0,0!==Bu.bgmPlayInterval&&(clearInterval(Bu.bgmPlayInterval),Bu.bgmPlayInterval=0))}function A(){const e=vn(Du);app.isMute=!app.isMute,e&&(app.isMute?e.mute():e.unMute())}function O(){vn(Du)&&Bu.bgmIsPlaying&&(Bu.isSeeking=!0)}function E(){if(Bu.bgmIsPlaying){const e=vn(Du);e&&e.seekTo?.(Gt(b))&&(Bu.curBgmTime=Gt(b)),Bu.isSeeking=!1}document.activeElement?.blur()}function _(){Me(T,!0)}function k(){const e=vn(Du);app.curVolume=Gt(y),e&&e.setVolume(Gt(y)),Me(T,!1),document.activeElement?.blur()}nt(()=>{Bu.isSeeking||Me(b,Bu.curBgmTime,!0)}),nt(()=>{Gt(T)||Me(y,app.curVolume,!0)});var R=LI(),M=Xe(R),D=Ge(M),$=Ke(D,2);!function(e,t){q(t,!0);const{FocusTrap:i}=Jn;let n,o,r=On(t,"use",19,()=>[]),a=On(t,"class",3,""),s=On(t,"open",15,!1),l=On(t,"fixed",3,!0),c=Cn(t,["$$slots","$$events","$$legacy","use","class","variant","open","fixed","children"]),d=ke(void 0),u=new No,p=ke(Fe({})),f=ke(null),m=ke(!1);z("SMUI:list:nav",!0),z("SMUI:list:item:nav",!0),z("SMUI:list:wrapFocus",!0),nt(()=>{Gt(d)&&Gt(d).isOpen()!==s()&&(s()?Gt(d).open():Gt(d).close())});let g=t.variant;function v(){Gt(m)&&u.off(Gt(m),"SMUIDrawerScrimClick",w),"modal"===t.variant&&(Me(m,I().parentNode?.querySelector(".mdc-drawer-scrim")??!1,!0),Gt(m)&&u.on(Gt(m),"SMUIDrawerScrimClick",w));const e="dismissible"===t.variant?Er:"modal"===t.variant?_r:void 0;return e?new e({addClass:y,removeClass:T,hasClass:b,elementHasClass:(e,t)=>e.classList.contains(t),saveFocus:()=>Me(f,document.activeElement,!0),restoreFocus:()=>{Gt(f)&&"focus"in Gt(f)&&I().contains(document.activeElement)&&Gt(f).focus()},focusActiveNavigationItem:()=>{const e=I().querySelector(".mdc-list-item--activated,.mdc-deprecated-list-item--activated");e&&e.focus()},notifyClose:()=>{s(!1),Bo(I(),"SMUIDrawerClosed")},notifyOpen:()=>{s(!0),Bo(I(),"SMUIDrawerOpened")},trapFocus:()=>o.trapFocus(),releaseFocus:()=>o.releaseFocus()}):void 0}function b(e){return e in Gt(p)?Gt(p)[e]:I().classList.contains(e)}function y(e){Gt(p)[e]||(Gt(p)[e]=!0)}function T(e){e in Gt(p)&&!Gt(p)[e]||(Gt(p)[e]=!1)}function w(){Gt(d)&&"handleScrimClick"in Gt(d)&&Gt(d).handleScrimClick()}function I(){return n}nt(()=>{g!==t.variant&&(g=t.variant,Gt(d)&&Gt(d).destroy(),Me(p,{},!0),Me(d,v(),!0),Gt(d)&&Gt(d).init())}),En(()=>{o=new i(n,{skipInitialFocus:!0}),Me(d,v(),!0),Gt(d)&&Gt(d).init()}),_n(()=>{Gt(d)&&Gt(d).destroy(),Gt(m)&&u.off(Gt(m),"SMUIDrawerScrimClick",w),u.clear()});var S={setOpen:function(e){s(e)},isOpen:function(){return s()},getElement:I},C=kr(),x=e=>{Gt(d)&&Gt(d).handleKeydown(e),t.onkeydown?.(e)},A=e=>{Gt(d)&&Gt(d).handleTransitionEnd(e),t.ontransitionend?.(e)};en(C,e=>({class:e,...c,onkeydown:x,ontransitionend:A}),[()=>$o({"mdc-drawer":!0,"mdc-drawer--dismissible":"dismissible"===t.variant,"mdc-drawer--modal":"modal"===t.variant,"smui-drawer__absolute":"modal"===t.variant&&!l(),...Gt(p),[a()]:!0})]),Di(Ge(C),()=>t.children??h),pn(C,e=>n=e,()=>n),Fi(C,(e,t)=>Po?.(e,t),r),Ti(e,C),G(S)}($,{style:"top: 0;",variant:"modal",get open(){return Gt(n)},set open(e){Me(n,e,!0)},children:(e,t)=>{!function(e,t){q(t,!0);let i,n=Cn(t,["$$slots","$$events","$$legacy","children"]);var o={getElement:function(){return i.getElement()}};pn(Yo(e,An({_smuiClass:"mdc-drawer__content",tag:"div"},()=>n,{children:(e,i)=>{var n=yi();Di(Xe(n),()=>t.children??h),Ti(e,n)},$$slots:{default:!0}})),e=>i=e,()=>i),G(o)}(e,{class:"navigation-drawer",children:(e,t)=>{Nr(e,{children:(e,t)=>{var a=AI(),s=Xe(a);Ur(s,{onSMUIAction:()=>Me(n,!1),class:"my-0",children:(e,t)=>{var i=bI(),n=Xe(i);zr(n,{class:"mdi mdi-chevron-left"}),Hr(Ke(n,2),{class:"w-100 list-text text-center",children:(e,t)=>{Ti(e,bi("Close Menu"))},$$slots:{default:!0}}),Ti(e,i)},$$slots:{default:!0}});var l=Ke(s,2);!function(e,t){q(t,!0);let i,n=W("SMUI:list:item:nav"),o=W("SMUI:separator:context"),r=On(t,"use",19,()=>[]),a=On(t,"class",3,""),s=On(t,"padded",3,!1),l=On(t,"inset",3,!1),c=On(t,"insetLeading",3,!1),d=On(t,"insetTrailing",3,!1),u=On(t,"insetPadding",3,!1),p=On(t,"component",3,qo),h=On(t,"tag",3,n||"list"!==o?"hr":"li"),f=Cn(t,["$$slots","$$events","$$legacy","use","class","padded","inset","insetLeading","insetTrailing","insetPadding","component","tag","children"]);var m={getElement:function(){return i.getElement()}},g=yi(),v=Xe(g);{let e=se(()=>$o({"mdc-deprecated-list-divider":!0,"mdc-deprecated-list-divider--padded":s(),"mdc-deprecated-list-divider--inset":l(),"mdc-deprecated-list-divider--inset-leading":c(),"mdc-deprecated-list-divider--inset-trailing":d(),"mdc-deprecated-list-divider--inset-padding":u(),[a()]:!0}));$i(v,p,(t,n)=>{pn(n(t,An({get tag(){return h()},get use(){return r()},get class(){return Gt(e)},role:"separator"},()=>f)),e=>i=e,()=>i)})}Ti(e,g),G(m)}(l,{class:"my-3"});var c=Ke(l,2);Ur(c,{onSMUIAction:S,class:"my-0",children:(e,t)=>{var i=yI(),n=Xe(i);zr(n,{class:"mdi mdi-theme-light-dark"}),Hr(Ke(n,2),{class:"w-100 list-text text-center",children:(e,t)=>{Ti(e,bi("Toogle Dark/Light Theme"))},$$slots:{default:!0}}),Ti(e,i)},$$slots:{default:!0}});var d=Ke(c,2);Ur(d,{onSMUIAction:()=>Me(o,!Gt(o)),class:"my-0",children:(e,t)=>{var i=TI(),n=Xe(i);zr(n,{class:"mdi mdi-swap-vertical"}),Hr(Ke(n,2),{class:"w-100 list-text text-center",children:(e,t)=>{Ti(e,bi("Top/Bottom Point Bar"))},$$slots:{default:!0}}),Ti(e,i)},$$slots:{default:!0}});var u=Ke(d,2);Ur(u,{onSMUIAction:()=>{i.action=()=>Lp(),i.context="Are you sure you want to clear selected choices?<br>This action cannot be undone.",Me(r,"dlgCommon"),Me(n,!1)},class:"my-0",children:(e,t)=>{var i=wI(),n=Xe(i);zr(n,{class:"mdi mdi-select-off"}),Hr(Ke(n,2),{class:"w-100 list-text text-center",children:(e,t)=>{Ti(e,bi("Clear Selected Choices"))},$$slots:{default:!0}}),Ti(e,i)},$$slots:{default:!0}});var p=Ke(u,2),h=e=>{var t=CI(),i=Xe(t);Ur(i,{onSMUIAction:()=>{Me(r,"appBuildForm"),Me(n,!1)},class:"my-0",children:(e,t)=>{var i=II(),n=Xe(i);zr(n,{class:"mdi mdi-format-list-checks"}),Hr(Ke(n,2),{class:"w-100 list-text text-center",children:(e,t)=>{Ti(e,bi("Open Build Form"))},$$slots:{default:!0}}),Ti(e,i)},$$slots:{default:!0}}),Ur(Ke(i,2),{onSMUIAction:()=>{Me(r,"appSaveLoad"),Me(n,!1)},class:"my-0",children:(e,t)=>{var i=SI(),n=Xe(i);zr(n,{class:"mdi mdi-content-save"}),Hr(Ke(n,2),{class:"w-100 list-text text-center",children:(e,t)=>{Ti(e,bi("Save/Load Build"))},$$slots:{default:!0}}),Ti(e,i)},$$slots:{default:!0}}),Ti(e,t)};Ci(p,e=>{app.importedChoicesIsOpen&&e(h)}),Ur(Ke(p,2),{onSMUIAction:()=>{Me(r,"appGlobalSettings"),Me(n,!1)},class:"my-0",children:(e,t)=>{var i=xI(),n=Xe(i);zr(n,{class:"mdi mdi-cog"}),Hr(Ke(n,2),{class:"w-100 list-text text-center",children:(e,t)=>{Ti(e,bi("Settings"))},$$slots:{default:!0}}),Ti(e,i)},$$slots:{default:!0}}),Ti(e,a)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var B=Ke($,2);Rr(B,{});var F=Ke(B,2),L=Ge(F),N=e=>{Qh(e,{class:"music-player",variant:"fixed",children:(e,t)=>{Jh(e,{class:"music-player--row",children:(e,t)=>{tf(e,{class:"px-2 justify-left",children:(e,t)=>{var i=kI(),n=Xe(i);Lr(n,{class:"music-player--button",onclickcapture:C,size:"button","aria-label":"Play",children:(e,t)=>{var i=OI();st(()=>Hi(i,1,Pi(Bu.bgmIsPlaying?"mdi mdi-pause":"mdi mdi-play"))),Ti(e,i)},$$slots:{default:!0}});var o=Ke(n,2);Lr(o,{class:"music-player--button",onclickcapture:x,size:"button","aria-label":"Stop",children:(e,t)=>{Ti(e,EI())},$$slots:{default:!0}});var r=Ke(o,2);Lr(r,{class:"music-player--button",onclickcapture:A,size:"button","aria-label":"Mute",children:(e,t)=>{var i=_I();st(()=>Hi(i,1,Pi(app.isMute?"mdi mdi-volume-off":"mdi mdi-volume-high"))),Ti(e,i)},$$slots:{default:!0}});var a=Ke(r,2);Fa(Ge(a),{min:0,max:100,step:1,class:"mx-2",onpointerdown:_,onpointerup:k,get disabled(){return app.isMute},get value(){return Gt(y)},set value(e){Me(y,e,!0)}});var s=Ke(a,2),l=Ge(s),c=Ge(l),d=Ke(s,2),u=Ge(d);{let e=se(()=>Bu.curBgmLength||1);Fa(u,{min:0,get max(){return Gt(e)},step:1,class:"mx-2",onpointerdown:O,onpointerup:E,get value(){return Gt(b)},set value(e){Me(b,e,!0)}})}var p=Ge(Ke(d,2));st(()=>{wi(c,Bu.bgmTitle),wi(p,Gt(v))}),Ti(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})};Ci(L,e=>{app.showMusicPlayer&&e(N)});var P=Ke(L,2),j=e=>{Qh(e,{class:"pointBar",get style(){return Gt(u)},variant:"fixed",color:"secondary",children:(e,t)=>{Jh(e,{class:"justify-space-around",children:(e,t)=>{var i=BI(),o=Xe(i);tf(o,{class:"py-0 justify-center",children:(e,t)=>{var i=yi(),o=Xe(i),r=e=>{Hh(e,{text:"L-Click: Open Side Menu<br>R-Click: Open Build Form",children:(e,t)=>{Lr(e,{class:"pointbar-icons",onclickcapture:()=>Me(n,!0),oncontextmenu:w,"aria-label":"Open Import Window",get style(){return Gt(f)},children:(e,t)=>{Ti(e,RI())},$$slots:{default:!0}})},$$slots:{default:!0}})},a=e=>{Lr(e,{class:"pointbar-icons",onclickcapture:()=>Me(n,!0),"aria-label":"Open Import Window",get style(){return Gt(f)},children:(e,t)=>{Ti(e,MI())},$$slots:{default:!0}})};Ci(o,e=>{app.importedChoicesIsOpen?e(r):e(a,!1)}),Ti(e,i)},$$slots:{default:!0}});var a=Ke(o,2);tf(a,{class:"pointbar-center--viewer",children:(e,t)=>{var i=yi();Oi(Xe(i),17,()=>app.pointTypes,Ai,(e,t)=>{var i=yi(),n=Xe(i),o=e=>{var i=DI();!function(e,t){q(t,!0);let i=se(()=>`color: ${Lh(app.styling.barTextColor)}; margin: ${app.styling.barTextMargin}px; padding: ${app.styling.barTextPadding}px; font-family: '${app.styling.barTextFont}'; font-size: ${app.styling.barTextSize}px;`),n=se(()=>{if(t.point.startingSum>=0){if(void 0!==app.styling.barPointPos)return`color: ${Lh(app.styling.barPointPos)};`}else if(void 0!==app.styling.barPointNeg)return`color: ${Lh(app.styling.barPointNeg)};`;return""});function o(e,t){const i=t?e.negativeImage:e.image,n=t?e.negativeIconWidth:e.iconWidth,o=t?e.negativeIconHeight:e.iconHeight;return i?`<img src="${i}" class="mx-1" style="width: ${n}px; height: ${o}px;" alt="">`:""}var r=Mg(),a=Ge(r),s=Ge(a),l=e=>{var i=yi(),n=Xe(i),r=e=>{var i=yi(),n=Xe(i),r=e=>{var i=yi();Mi(Xe(i),()=>o(t.point,!0)),Ti(e,i)};Ci(n,e=>{t.point.negativeImageOnSide||t.point.negativeImageSidePlacement||e(r)}),Ti(e,i)},a=e=>{var i=yi(),n=Xe(i),r=e=>{var i=yi();Mi(Xe(i),()=>o(t.point,!1)),Ti(e,i)};Ci(n,e=>{t.point.imageOnSide||t.point.imageSidePlacement||e(r)}),Ti(e,i)};Ci(n,e=>{t.point.negativeIconIsOn&&t.point.startingSum<0?e(r):e(a,!1)}),Ti(e,i)};Ci(s,e=>{t.point.iconIsOn&&e(l)});var c=Ke(s),d=Ke(c),u=e=>{var i=yi(),n=Xe(i),r=e=>{var i=yi(),n=Xe(i),r=e=>{var i=yi();Mi(Xe(i),()=>o(t.point,!0)),Ti(e,i)};Ci(n,e=>{t.point.negativeImageOnSide&&!t.point.negativeImageSidePlacement&&e(r)}),Ti(e,i)},a=e=>{var i=yi(),n=Xe(i),r=e=>{var i=yi();Mi(Xe(i),()=>o(t.point,!1)),Ti(e,i)};Ci(n,e=>{t.point.imageOnSide&&!t.point.imageSidePlacement&&e(r)}),Ti(e,i)};Ci(n,e=>{t.point.negativeIconIsOn&&t.point.startingSum<0?e(r):e(a,!1)}),Ti(e,i)};Ci(d,e=>{t.point.iconIsOn&&e(u)});var p=Ke(d,2),h=Ge(p),f=Ke(p,2),m=e=>{var i=yi(),n=Xe(i),r=e=>{var i=yi(),n=Xe(i),r=e=>{var i=yi();Mi(Xe(i),()=>o(t.point,!0)),Ti(e,i)};Ci(n,e=>{!t.point.negativeImageOnSide&&t.point.negativeImageSidePlacement&&e(r)}),Ti(e,i)},a=e=>{var i=yi(),n=Xe(i),r=e=>{var i=yi();Mi(Xe(i),()=>o(t.point,!1)),Ti(e,i)};Ci(n,e=>{!t.point.imageOnSide&&t.point.imageSidePlacement&&e(r)}),Ti(e,i)};Ci(n,e=>{t.point.negativeIconIsOn&&t.point.startingSum<0?e(r):e(a,!1)}),Ti(e,i)};Ci(f,e=>{t.point.iconIsOn&&e(m)});var g=Ke(f),v=Ke(g),b=e=>{var i=yi(),n=Xe(i),r=e=>{var i=yi(),n=Xe(i),r=e=>{var i=yi();Mi(Xe(i),()=>o(t.point,!0)),Ti(e,i)};Ci(n,e=>{t.point.negativeImageOnSide&&t.point.negativeImageSidePlacement&&e(r)}),Ti(e,i)},a=e=>{var i=yi(),n=Xe(i),r=e=>{var i=yi();Mi(Xe(i),()=>o(t.point,!1)),Ti(e,i)};Ci(n,e=>{t.point.imageOnSide&&t.point.imageSidePlacement&&e(r)}),Ti(e,i)};Ci(n,e=>{t.point.negativeIconIsOn&&t.point.startingSum<0?e(r):e(a,!1)}),Ti(e,i)};Ci(v,e=>{t.point.iconIsOn&&e(b)}),st((e,o)=>{zi(r,Gt(i)),zi(a,e),wi(c,` ${t.point.beforeText??""} `),zi(p,Gt(n)),wi(h,o),wi(g,` ${t.point.afterText??""} `)},[()=>t.point.pointPrivateColorIsOn?`color: ${t.point.startingSum>=0?Lh(t.point.privateColor):Lh(t.point.privateNegativeColor)}`:"",()=>t.point.startingSum%1==0?t.point.startingSum:parseFloat(t.point.startingSum.toFixed(void 0!==t.point.decimalPlaces?t.point.decimalPlaces:2))]),Ti(e,r),G()}(Ge(i),{get point(){return Gt(t)}}),st(()=>zi(i,Gt(p))),Ti(e,i)};Ci(n,e=>{(function(e){if(e.isNotShownPointBar){if(void 0!==e.activatedId&&""!==e.activatedId){let t=Su.get(e.activatedId),i=xu.get(e.activatedId);return void 0!==t?Ip(t.requireds):void 0!==i?i.isTrue:bp(e.activatedId)}return!1}return!0})(Gt(t))&&e(o)}),Ti(e,i)}),Ti(e,i)},$$slots:{default:!0}}),tf(Ke(a,2),{class:"py-0 justify-center",children:(e,t)=>{var i=yi(),n=Xe(i),o=e=>{Lr(e,{class:"pointbar-icons",onclickcapture:()=>Me(r,"dlgBackpack"),"aria-label":"Open Backpack Window",get style(){return Gt(f)},children:(e,t)=>{Ti(e,$I())},$$slots:{default:!0}})};Ci(n,e=>{app.backpack.length>0&&(void 0===app.hideBackpackBtn||0===app.hideBackpackBtn||app.hideBackpackBtn>0&&app.hideBackpackBtn===app.btnBackpackIsOn)&&e(o)}),Ti(e,i)},$$slots:{default:!0}}),Ti(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}})};Ci(P,e=>{Gt(d)&&e(j)});var V=Ge(Ke(P,2));Oi(V,21,()=>app.rows,Ai,(e,t)=>{var i=FI();qy(Ge(i),{get row(){return Gt(t)},get windowWidth(){return Gt(l)},get mainDiv(){return Gt(c)}}),st(()=>Hi(i,1,Pi(Gt(t).width?"col-6":"col-12"))),Ti(e,i)}),pn(V,e=>Me(c,e),()=>Gt(c));var U=Ke(M,2),H=e=>{{let t=se(()=>"appSaveLoad"===Gt(r));tv(e,{get open(){return Gt(t)},onclose:()=>Me(r,"none")})}},X=e=>{var t=yi(),n=Xe(t),o=e=>{{let t=se(()=>"dlgBackpack"===Gt(r));Qy(e,{get open(){return Gt(t)},onclose:()=>Me(r,"none")})}},a=e=>{var t=yi(),n=Xe(t),o=e=>{{let t=se(()=>"appGlobalSettings"===Gt(r));Rg(e,{get open(){return Gt(t)},onclose:()=>Me(r,"none")})}},a=e=>{var t=yi(),n=Xe(t),o=e=>{{let t=se(()=>"appBuildForm"===Gt(r));fm(e,{get open(){return Gt(t)},onclose:()=>Me(r,"none")})}},a=e=>{var t=yi(),n=Xe(t),o=e=>{{let t=se(()=>"dlgCommon"===Gt(r));Lg(e,{get open(){return Gt(t)},onclose:()=>Me(r,"none"),get title(){return i.title},get context(){return i.context},closeHandler:e=>{"accept"===e.detail.action&&i.action()}})}};Ci(n,e=>{"dlgCommon"===Gt(r)&&e(o)},!0),Ti(e,t)};Ci(n,e=>{"appBuildForm"===Gt(r)?e(o):e(a,!1)},!0),Ti(e,t)};Ci(n,e=>{"appGlobalSettings"===Gt(r)?e(o):e(a,!1)},!0),Ti(e,t)};Ci(n,e=>{"dlgBackpack"===Gt(r)?e(o):e(a,!1)},!0),Ti(e,t)};Ci(U,e=>{"appSaveLoad"===Gt(r)?e(H):e(X,!1)});var K=Ke(U,2),Z=e=>{{let t=se(()=>"appImageUpload"===Fu.currentDialog);hI(e,{get open(){return Gt(t)},onclose:()=>Fu.currentDialog="none",get imgObject(){return Fu.data},get imgProp(){return Fu.imgProp}})}},Y=e=>{var t=yi(),i=Xe(t),n=e=>{{let t=se(()=>"dlgCommon"===Fu.currentDialog);Lg(e,{get open(){return Gt(t)},onclose:()=>Fu.currentDialog="none",get closeHandler(){return Fu.cFunc},get title(){return Fu.title},get context(){return Fu.context},get isWord(){return Fu.isWord}})}},o=e=>{var t=yi(),i=Xe(t),n=e=>{{let t=se(()=>"selectDialog"===Fu.currentDialog);vI(e,{get open(){return Gt(t)},onclose:()=>Fu.currentDialog="none",get submit(){return Fu.func},get changeNum(){return Fu.choice.multipleUseVariable},get minVal(){return Fu.choice.numMultipleTimesMinus},get maxVal(){return Fu.choice.numMultipleTimesPluss}})}};Ci(i,e=>{"selectDialog"===Fu.currentDialog&&void 0!==Fu.choice&&void 0!==Fu.func&&e(n)},!0),Ti(e,t)};Ci(i,e=>{"dlgCommon"===Fu.currentDialog&&void 0!==Fu.cFunc&&void 0!==Fu.context?e(n):e(o,!1)},!0),Ti(e,t)};Ci(K,e=>{"appImageUpload"===Fu.currentDialog&&void 0!==Fu.data&&void 0!==Fu.imgProp?e(Z):e(Y,!1)}),function(e,t){q(t,!0);let i=ke(void 0),n=null;nt(()=>{Gt(i)&&""!==Nh.text&&(Nh.isVisible&&Nh.anchor&&Nh.anchor.isConnected?(n?.destroy(),n=tl(Nh.anchor,Gt(i),{placement:"top",modifiers:[{name:"offset",options:{offset:[0,6]}},{name:"preventOverflow",options:{boundary:"viewport"}},{name:"flip",options:{fallbackPlacements:["top","bottom"]}}]}),Gt(i).classList.add("mdc-tooltip--shown")):n&&(n.destroy(),n=null,Gt(i).classList.remove("mdc-tooltip--shown")))}),_n(()=>{n?.destroy()});var o=Vh(),r=Ge(o);xi(Ge(r),()=>Nh.text,e=>{var t=yi();Mi(Xe(t),()=>Nh.text),Ti(e,t)}),pn(o,e=>Me(i,e),()=>Gt(i)),Ti(e,o),G()}(Ke(K,2),{}),st(()=>{zi(M,Gt(m)),zi(D,Gt(s)),zi(F,Gt(g))}),dn(M,"clientWidth",e=>Me(l,e)),Ti(e,R),G()}var PI=mi('<div id="bgm-player" style="display:none"></div> <!> <!>',1);var jI,VI,UI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},HI={};function WI(){if(VI)return jI;VI=1;var e=function(e){return e&&e.Math===Math&&e};return jI=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof UI&&UI)||e("object"==typeof jI&&jI)||function(){return this}()||Function("return this")()}var zI,qI,GI,XI,KI,ZI,YI,QI,JI={};function eS(){return qI?zI:(qI=1,zI=function(e){try{return!!e()}catch(t){return!0}})}function tS(){if(XI)return GI;XI=1;var e=eS();return GI=!e(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})}function iS(){if(ZI)return KI;ZI=1;var e=eS();return KI=!e(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})}function nS(){if(QI)return YI;QI=1;var e=iS(),t=Function.prototype.call;return YI=e?t.bind(t):function(){return t.apply(t,arguments)},YI}var oS,rS,aS,sS,lS,cS,dS,uS,pS,hS,fS,mS,gS,vS,bS,yS,TS,wS,IS,SS,CS,xS,AS,OS,ES,_S,kS,RS,MS,DS,$S,BS,FS,LS,NS,PS,jS,VS,US,HS,WS,zS={};function qS(){return aS?rS:(aS=1,rS=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}})}function GS(){if(lS)return sS;lS=1;var e=iS(),t=Function.prototype,i=t.call,n=e&&t.bind.bind(i,i);return sS=e?n:function(e){return function(){return i.apply(e,arguments)}},sS}function XS(){if(dS)return cS;dS=1;var e=GS(),t=e({}.toString),i=e("".slice);return cS=function(e){return i(t(e),8,-1)}}function KS(){return fS?hS:(fS=1,hS=function(e){return null==e})}function ZS(){if(gS)return mS;gS=1;var e=KS(),t=TypeError;return mS=function(i){if(e(i))throw new t("Can't call method on "+i);return i}}function YS(){if(bS)return vS;bS=1;var e=function(){if(pS)return uS;pS=1;var e=GS(),t=eS(),i=XS(),n=Object,o=e("".split);return uS=t(function(){return!n("z").propertyIsEnumerable(0)})?function(e){return"String"===i(e)?o(e,""):n(e)}:n}(),t=ZS();return vS=function(i){return e(t(i))}}function QS(){if(TS)return yS;TS=1;var e="object"==typeof document&&document.all;return yS=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(e){return"function"==typeof e}}function JS(){if(IS)return wS;IS=1;var e=QS();return wS=function(t){return"object"==typeof t?null!==t:e(t)}}function eC(){if(CS)return SS;CS=1;var e=WI(),t=QS();return SS=function(i,n){return arguments.length<2?(o=e[i],t(o)?o:void 0):e[i]&&e[i][n];var o},SS}function tC(){if(AS)return xS;AS=1;var e=GS();return xS=e({}.isPrototypeOf)}function iC(){if(kS)return _S;kS=1;var e,t,i=WI(),n=function(){if(ES)return OS;ES=1;var e=WI().navigator,t=e&&e.userAgent;return OS=t?String(t):""}(),o=i.process,r=i.Deno,a=o&&o.versions||r&&r.version,s=a&&a.v8;return s&&(t=(e=s.split("."))[0]>0&&e[0]<4?1:+(e[0]+e[1])),!t&&n&&(!(e=n.match(/Edge\/(\d+)/))||e[1]>=74)&&(e=n.match(/Chrome\/(\d+)/))&&(t=+e[1]),_S=t}function nC(){if(MS)return RS;MS=1;var e=iC(),t=eS(),i=WI().String;return RS=!!Object.getOwnPropertySymbols&&!t(function(){var t=Symbol("symbol detection");return!i(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&e&&e<41})}function oC(){if($S)return DS;$S=1;var e=nC();return DS=e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}function rC(){if(FS)return BS;FS=1;var e=eC(),t=QS(),i=tC(),n=oC(),o=Object;return BS=n?function(e){return"symbol"==typeof e}:function(n){var r=e("Symbol");return t(r)&&i(r.prototype,o(n))}}function aC(){if(jS)return PS;jS=1;var e=QS(),t=function(){if(NS)return LS;NS=1;var e=String;return LS=function(t){try{return e(t)}catch(i){return"Object"}}}(),i=TypeError;return PS=function(n){if(e(n))return n;throw new i(t(n)+" is not a function")}}function sC(){if(US)return VS;US=1;var e=aC(),t=KS();return VS=function(i,n){var o=i[n];return t(o)?void 0:e(o)},VS}var lC,cC,dC,uC,pC,hC,fC,mC,gC,vC,bC,yC,TC,wC,IC,SC,CC,xC,AC,OC,EC,_C,kC,RC,MC={exports:{}};function DC(){return cC?lC:(cC=1,lC=!1)}function $C(){if(uC)return dC;uC=1;var e=WI(),t=Object.defineProperty;return dC=function(i,n){try{t(e,i,{value:n,configurable:!0,writable:!0})}catch(o){e[i]=n}return n}}function BC(){if(pC)return MC.exports;pC=1;var e=DC(),t=WI(),i=$C(),n="__core-js_shared__",o=MC.exports=t[n]||i(n,{});return(o.versions||(o.versions=[])).push({version:"3.45.0",mode:e?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.0/LICENSE",source:"https://github.com/zloirock/core-js"}),MC.exports}function FC(){if(fC)return hC;fC=1;var e=BC();return hC=function(t,i){return e[t]||(e[t]=i||{})}}function LC(){if(gC)return mC;gC=1;var e=ZS(),t=Object;return mC=function(i){return t(e(i))}}function NC(){if(bC)return vC;bC=1;var e=GS(),t=LC(),i=e({}.hasOwnProperty);return vC=Object.hasOwn||function(e,n){return i(t(e),n)}}function PC(){if(TC)return yC;TC=1;var e=GS(),t=0,i=Math.random(),n=e(1.1.toString);return yC=function(e){return"Symbol("+(void 0===e?"":e)+")_"+n(++t+i,36)}}function jC(){if(IC)return wC;IC=1;var e=WI(),t=FC(),i=NC(),n=PC(),o=nC(),r=oC(),a=e.Symbol,s=t("wks"),l=r?a.for||a:a&&a.withoutSetter||n;return wC=function(e){return i(s,e)||(s[e]=o&&i(a,e)?a[e]:l("Symbol."+e)),s[e]}}function VC(){if(CC)return SC;CC=1;var e=nS(),t=JS(),i=rC(),n=sC(),o=function(){if(WS)return HS;WS=1;var e=nS(),t=QS(),i=JS(),n=TypeError;return HS=function(o,r){var a,s;if("string"===r&&t(a=o.toString)&&!i(s=e(a,o)))return s;if(t(a=o.valueOf)&&!i(s=e(a,o)))return s;if("string"!==r&&t(a=o.toString)&&!i(s=e(a,o)))return s;throw new n("Can't convert object to primitive value")}}(),r=jC(),a=TypeError,s=r("toPrimitive");return SC=function(r,l){if(!t(r)||i(r))return r;var c,d=n(r,s);if(d){if(void 0===l&&(l="default"),c=e(d,r,l),!t(c)||i(c))return c;throw new a("Can't convert object to primitive value")}return void 0===l&&(l="number"),o(r,l)}}function UC(){if(AC)return xC;AC=1;var e=VC(),t=rC();return xC=function(i){var n=e(i,"string");return t(n)?n:n+""}}function HC(){if(EC)return OC;EC=1;var e=WI(),t=JS(),i=e.document,n=t(i)&&t(i.createElement);return OC=function(e){return n?i.createElement(e):{}}}function WC(){if(kC)return _C;kC=1;var e=tS(),t=eS(),i=HC();return _C=!e&&!t(function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})}function zC(){if(RC)return JI;RC=1;var e=tS(),t=nS(),i=function(){if(oS)return zS;oS=1;var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,i=t&&!e.call({1:2},1);return zS.f=i?function(e){var i=t(this,e);return!!i&&i.enumerable}:e,zS}(),n=qS(),o=YS(),r=UC(),a=NC(),s=WC(),l=Object.getOwnPropertyDescriptor;return JI.f=e?l:function(e,c){if(e=o(e),c=r(c),s)try{return l(e,c)}catch(d){}if(a(e,c))return n(!t(i.f,e,c),e[c])},JI}var qC,GC,XC,KC,ZC,YC,QC,JC={};function ex(){if(GC)return qC;GC=1;var e=tS(),t=eS();return qC=e&&t(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})}function tx(){if(KC)return XC;KC=1;var e=JS(),t=String,i=TypeError;return XC=function(n){if(e(n))return n;throw new i(t(n)+" is not an object")}}function ix(){if(ZC)return JC;ZC=1;var e=tS(),t=WC(),i=ex(),n=tx(),o=UC(),r=TypeError,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",d="writable";return JC.f=e?i?function(e,t,i){if(n(e),t=o(t),n(i),"function"==typeof e&&"prototype"===t&&"value"in i&&d in i&&!i[d]){var r=s(e,t);r&&r[d]&&(e[t]=i.value,i={configurable:c in i?i[c]:r[c],enumerable:l in i?i[l]:r[l],writable:!1})}return a(e,t,i)}:a:function(e,i,s){if(n(e),i=o(i),n(s),t)try{return a(e,i,s)}catch(l){}if("get"in s||"set"in s)throw new r("Accessors not supported");return"value"in s&&(e[i]=s.value),e},JC}function nx(){if(QC)return YC;QC=1;var e=tS(),t=ix(),i=qS();return YC=e?function(e,n,o){return t.f(e,n,i(1,o))}:function(e,t,i){return e[t]=i,e}}var ox,rx,ax,sx,lx,cx,dx,ux,px,hx,fx,mx,gx,vx,bx,yx={exports:{}};function Tx(){if(ux)return dx;ux=1;var e=FC(),t=PC(),i=e("keys");return dx=function(e){return i[e]||(i[e]=t(e))}}function wx(){return hx?px:(hx=1,px={})}function Ix(){if(mx)return fx;mx=1;var e,t,i,n=function(){if(cx)return lx;cx=1;var e=WI(),t=QS(),i=e.WeakMap;return lx=t(i)&&/native code/.test(String(i))}(),o=WI(),r=JS(),a=nx(),s=NC(),l=BC(),c=Tx(),d=wx(),u="Object already initialized",p=o.TypeError,h=o.WeakMap;if(n||l.state){var f=l.state||(l.state=new h);f.get=f.get,f.has=f.has,f.set=f.set,e=function(e,t){if(f.has(e))throw new p(u);return t.facade=e,f.set(e,t),t},t=function(e){return f.get(e)||{}},i=function(e){return f.has(e)}}else{var m=c("state");d[m]=!0,e=function(e,t){if(s(e,m))throw new p(u);return t.facade=e,a(e,m,t),t},t=function(e){return s(e,m)?e[m]:{}},i=function(e){return s(e,m)}}return fx={set:e,get:t,has:i,enforce:function(n){return i(n)?t(n):e(n,{})},getterFor:function(e){return function(i){var n;if(!r(i)||(n=t(i)).type!==e)throw new p("Incompatible receiver, "+e+" required");return n}}}}function Sx(){if(gx)return yx.exports;gx=1;var e=GS(),t=eS(),i=QS(),n=NC(),o=tS(),r=function(){if(rx)return ox;rx=1;var e=tS(),t=NC(),i=Function.prototype,n=e&&Object.getOwnPropertyDescriptor,o=t(i,"name"),r=o&&"something"===function(){}.name,a=o&&(!e||e&&n(i,"name").configurable);return ox={EXISTS:o,PROPER:r,CONFIGURABLE:a}}().CONFIGURABLE,a=function(){if(sx)return ax;sx=1;var e=GS(),t=QS(),i=BC(),n=e(Function.toString);return t(i.inspectSource)||(i.inspectSource=function(e){return n(e)}),ax=i.inspectSource}(),s=Ix(),l=s.enforce,c=s.get,d=String,u=Object.defineProperty,p=e("".slice),h=e("".replace),f=e([].join),m=o&&!t(function(){return 8!==u(function(){},"length",{value:8}).length}),g=String(String).split("String"),v=yx.exports=function(e,t,i){"Symbol("===p(d(t),0,7)&&(t="["+h(d(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),i&&i.getter&&(t="get "+t),i&&i.setter&&(t="set "+t),(!n(e,"name")||r&&e.name!==t)&&(o?u(e,"name",{value:t,configurable:!0}):e.name=t),m&&i&&n(i,"arity")&&e.length!==i.arity&&u(e,"length",{value:i.arity});try{i&&n(i,"constructor")&&i.constructor?o&&u(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(s){}var a=l(e);return n(a,"source")||(a.source=f(g,"string"==typeof t?t:"")),e};return Function.prototype.toString=v(function(){return i(this)&&c(this).source||a(this)},"toString"),yx.exports}function Cx(){if(bx)return vx;bx=1;var e=QS(),t=ix(),i=Sx(),n=$C();return vx=function(o,r,a,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:r;if(e(a)&&i(a,c,s),s.global)l?o[r]=a:n(r,a);else{try{s.unsafe?o[r]&&(l=!0):delete o[r]}catch(d){}l?o[r]=a:t.f(o,r,{value:a,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return o}}var xx,Ax,Ox,Ex,_x,kx,Rx,Mx,Dx,$x,Bx,Fx,Lx,Nx,Px,jx,Vx,Ux={};function Hx(){if(Ex)return Ox;Ex=1;var e=function(){if(Ax)return xx;Ax=1;var e=Math.ceil,t=Math.floor;return xx=Math.trunc||function(i){var n=+i;return(n>0?t:e)(n)}}();return Ox=function(t){var i=+t;return i!=i||0===i?0:e(i)}}function Wx(){if(Mx)return Rx;Mx=1;var e=Hx(),t=Math.min;return Rx=function(i){var n=e(i);return n>0?t(n,9007199254740991):0}}function zx(){if(Fx)return Bx;Fx=1;var e=YS(),t=function(){if(kx)return _x;kx=1;var e=Hx(),t=Math.max,i=Math.min;return _x=function(n,o){var r=e(n);return r<0?t(r+o,0):i(r,o)}}(),i=function(){if($x)return Dx;$x=1;var e=Wx();return Dx=function(t){return e(t.length)}}(),n=function(n){return function(o,r,a){var s=e(o),l=i(s);if(0===l)return!n&&-1;var c,d=t(a,l);if(n&&r!=r){for(;l>d;)if((c=s[d++])!=c)return!0}else for(;l>d;d++)if((n||d in s)&&s[d]===r)return n||d||0;return!n&&-1}};return Bx={includes:n(!0),indexOf:n(!1)}}function qx(){if(Nx)return Lx;Nx=1;var e=GS(),t=NC(),i=YS(),n=zx().indexOf,o=wx(),r=e([].push);return Lx=function(e,a){var s,l=i(e),c=0,d=[];for(s in l)!t(o,s)&&t(l,s)&&r(d,s);for(;a.length>c;)t(l,s=a[c++])&&(~n(d,s)||r(d,s));return d}}function Gx(){return jx?Px:(jx=1,Px=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}var Xx,Kx,Zx,Yx,Qx,Jx,eA,tA,iA,nA,oA,rA,aA,sA,lA,cA,dA,uA,pA,hA,fA,mA,gA,vA,bA,yA,TA,wA={};function IA(){if(Zx)return Kx;Zx=1;var e=eC(),t=GS(),i=function(){if(Vx)return Ux;Vx=1;var e=qx(),t=Gx().concat("length","prototype");return Ux.f=Object.getOwnPropertyNames||function(i){return e(i,t)},Ux}(),n=(Xx||(Xx=1,wA.f=Object.getOwnPropertySymbols),wA),o=tx(),r=t([].concat);return Kx=e("Reflect","ownKeys")||function(e){var t=i.f(o(e)),a=n.f;return a?r(t,a(e)):t}}function SA(){if(iA)return tA;iA=1;var e=WI(),t=zC().f,i=nx(),n=Cx(),o=$C(),r=function(){if(Qx)return Yx;Qx=1;var e=NC(),t=IA(),i=zC(),n=ix();return Yx=function(o,r,a){for(var s=t(r),l=n.f,c=i.f,d=0;d<s.length;d++){var u=s[d];e(o,u)||a&&e(a,u)||l(o,u,c(r,u))}}}(),a=function(){if(eA)return Jx;eA=1;var e=eS(),t=QS(),i=/#|\.prototype\./,n=function(i,n){var l=r[o(i)];return l===s||l!==a&&(t(n)?e(n):!!n)},o=n.normalize=function(e){return String(e).replace(i,".").toLowerCase()},r=n.data={},a=n.NATIVE="N",s=n.POLYFILL="P";return Jx=n}();return tA=function(s,l){var c,d,u,p,h,f=s.target,m=s.global,g=s.stat;if(c=m?e:g?e[f]||o(f,{}):e[f]&&e[f].prototype)for(d in l){if(p=l[d],u=s.dontCallGetSet?(h=t(c,d))&&h.value:c[d],!a(m?d:f+(g?".":"#")+d,s.forced)&&void 0!==u){if(typeof p==typeof u)continue;r(p,u)}(s.sham||u&&u.sham)&&i(p,"sham",!0),n(c,d,p,s)}}}function CA(){if(lA)return sA;lA=1;var e=function(){if(aA)return rA;aA=1;var e={};return e[jC()("toStringTag")]="z",rA="[object z]"===String(e)}(),t=QS(),i=XS(),n=jC()("toStringTag"),o=Object,r="Arguments"===i(function(){return arguments}());return sA=e?i:function(e){var a,s,l;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(s=function(e,t){try{return e[t]}catch(i){}}(a=o(e),n))?s:r?i(a):"Object"===(l=i(a))&&t(a.callee)?"Arguments":l}}function xA(){if(dA)return cA;dA=1;var e=CA(),t=String;return cA=function(i){if("Symbol"===e(i))throw new TypeError("Cannot convert a Symbol value to a string");return t(i)}}function AA(){if(fA)return hA;fA=1;var e=tx();return hA=function(){var t=e(this),i="";return t.hasIndices&&(i+="d"),t.global&&(i+="g"),t.ignoreCase&&(i+="i"),t.multiline&&(i+="m"),t.dotAll&&(i+="s"),t.unicode&&(i+="u"),t.unicodeSets&&(i+="v"),t.sticky&&(i+="y"),i}}function OA(){if(gA)return mA;gA=1;var e=nS(),t=NC(),i=tC(),n=function(){if(pA)return uA;pA=1;var e=WI(),t=eS(),i=e.RegExp,n=!t(function(){var e=!0;try{i(".","d")}catch(l){e=!1}var t={},n="",o=e?"dgimsy":"gimsy",r=function(e,i){Object.defineProperty(t,e,{get:function(){return n+=i,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in e&&(a.hasIndices="d"),a)r(s,a[s]);return Object.getOwnPropertyDescriptor(i.prototype,"flags").get.call(t)!==o||n!==o});return uA={correct:n}}(),o=AA(),r=RegExp.prototype;return mA=n.correct?function(e){return e.flags}:function(a){return n.correct||!i(r,a)||t(a,"flags")?a.flags:e(o,a)}}function EA(){if(bA)return vA;bA=1;var e=GS(),t=LC(),i=Math.floor,n=e("".charAt),o=e("".replace),r=e("".slice),a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;return vA=function(e,l,c,d,u,p){var h=c+e.length,f=d.length,m=s;return void 0!==u&&(u=t(u),m=a),o(p,m,function(t,o){var a;switch(n(o,0)){case"$":return"$";case"&":return e;case"`":return r(l,0,c);case"'":return r(l,h);case"<":a=u[r(o,1,-1)];break;default:var s=+o;if(0===s)return t;if(s>f){var p=i(s/10);return 0===p?t:p<=f?void 0===d[p-1]?n(o,1):d[p-1]+n(o,1):t}a=d[s-1]}return void 0===a?"":a})}}function _A(){if(yA)return HI;yA=1;var e=SA(),t=nS(),i=GS(),n=ZS(),o=QS(),r=JS(),a=function(){if(oA)return nA;oA=1;var e=JS(),t=XS(),i=jC()("match");return nA=function(n){var o;return e(n)&&(void 0!==(o=n[i])?!!o:"RegExp"===t(n))}}(),s=xA(),l=sC(),c=OA(),d=EA(),u=jC(),p=DC(),h=u("replace"),f=TypeError,m=i("".indexOf),g=i("".replace),v=i("".slice),b=Math.max;return e({target:"String",proto:!0},{replaceAll:function(e,i){var u,y,T,w,I,S,C,x,A,O,E=n(this),_=0,k="";if(r(e)){if((u=a(e))&&(y=s(n(c(e))),!~m(y,"g")))throw new f("`.replaceAll` does not allow non-global regexes");if(T=l(e,h))return t(T,e,E,i);if(p&&u)return g(s(E),e,i)}for(w=s(E),I=s(e),(S=o(i))||(i=s(i)),C=I.length,x=b(1,C),A=m(w,I);-1!==A;)O=S?s(i(I,A,w)):d(I,w,A,[],void 0,i),k+=v(w,_,A)+O,_=A+C,A=A+x>w.length?-1:m(w,I,A+x);return _<w.length&&(k+=v(w,_)),k}}),HI}var kA,RA,MA={};var DA,$A,BA,FA,LA,NA,PA,jA,VA,UA,HA,WA,zA,qA,GA={};function XA(){if(BA)return GA;BA=1;var e=tS(),t=ex(),i=ix(),n=tx(),o=YS(),r=function(){if($A)return DA;$A=1;var e=qx(),t=Gx();return DA=Object.keys||function(i){return e(i,t)}}();return GA.f=e&&!t?Object.defineProperties:function(e,t){n(e);for(var a,s=o(t),l=r(t),c=l.length,d=0;c>d;)i.f(e,a=l[d++],s[a]);return e},GA}function KA(){if(PA)return NA;PA=1;var e,t=tx(),i=XA(),n=Gx(),o=wx(),r=function(){if(LA)return FA;LA=1;var e=eC();return FA=e("document","documentElement")}(),a=HC(),s=Tx(),l="prototype",c="script",d=s("IE_PROTO"),u=function(){},p=function(e){return"<"+c+">"+e+"</"+c+">"},h=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{e=new ActiveXObject("htmlfile")}catch(d){}var t,i,o;f="undefined"!=typeof document?document.domain&&e?h(e):(i=a("iframe"),o="java"+c+":",i.style.display="none",r.appendChild(i),i.src=String(o),(t=i.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F):h(e);for(var s=n.length;s--;)delete f[l][n[s]];return f()};return o[d]=!0,NA=Object.create||function(e,n){var o;return null!==e?(u[l]=t(e),o=new u,u[l]=null,o[d]=e):o=f(),void 0===n?o:i.f(o,n)}}function ZA(){if(zA)return WA;zA=1;var e,t,i=nS(),n=GS(),o=xA(),r=AA(),a=function(){if(RA)return kA;RA=1;var e=eS(),t=WI().RegExp,i=e(function(){var e=t("a","y");return e.lastIndex=2,null!==e.exec("abcd")}),n=i||e(function(){return!t("a","y").sticky}),o=i||e(function(){var e=t("^r","gy");return e.lastIndex=2,null!==e.exec("str")});return kA={BROKEN_CARET:o,MISSED_STICKY:n,UNSUPPORTED_Y:i}}(),s=FC(),l=KA(),c=Ix().get,d=function(){if(VA)return jA;VA=1;var e=eS(),t=WI().RegExp;return jA=e(function(){var e=t(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)})}(),u=function(){if(HA)return UA;HA=1;var e=eS(),t=WI().RegExp;return UA=e(function(){var e=t("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})}(),p=s("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,f=h,m=n("".charAt),g=n("".indexOf),v=n("".replace),b=n("".slice),y=(t=/b*/g,i(h,e=/a/,"a"),i(h,t,"a"),0!==e.lastIndex||0!==t.lastIndex),T=a.BROKEN_CARET,w=void 0!==/()??/.exec("")[1];return(y||w||T||d||u)&&(f=function(e){var t,n,a,s,d,u,I,S=this,C=c(S),x=o(e),A=C.raw;if(A)return A.lastIndex=S.lastIndex,t=i(f,A,x),S.lastIndex=A.lastIndex,t;var O=C.groups,E=T&&S.sticky,_=i(r,S),k=S.source,R=0,M=x;if(E&&(_=v(_,"y",""),-1===g(_,"g")&&(_+="g"),M=b(x,S.lastIndex),S.lastIndex>0&&(!S.multiline||S.multiline&&"\n"!==m(x,S.lastIndex-1))&&(k="(?: "+k+")",M=" "+M,R++),n=new RegExp("^(?:"+k+")",_)),w&&(n=new RegExp("^"+k+"$(?!\\s)",_)),y&&(a=S.lastIndex),s=i(h,E?n:S,M),E?s?(s.input=b(s.input,R),s[0]=b(s[0],R),s.index=S.lastIndex,S.lastIndex+=s[0].length):S.lastIndex=0:y&&s&&(S.lastIndex=S.global?s.index+s[0].length:a),w&&s&&s.length>1&&i(p,s[0],n,function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(s[d]=void 0)}),s&&O)for(s.groups=u=l(null),d=0;d<O.length;d++)u[(I=O[d])[0]]=s[I[1]];return s}),WA=f}function YA(){if(qA)return MA;qA=1;var e=SA(),t=ZA();return e({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t}),MA}var QA,JA,eO,tO,iO,nO,oO,rO,aO,sO,lO,cO,dO,uO,pO,hO,fO,mO,gO,vO,bO,yO,TO={};function wO(){if(rO)return oO;rO=1;var e=function(){if(nO)return iO;nO=1;var e=GS(),t=Hx(),i=xA(),n=ZS(),o=e("".charAt),r=e("".charCodeAt),a=e("".slice),s=function(e){return function(s,l){var c,d,u=i(n(s)),p=t(l),h=u.length;return p<0||p>=h?e?"":void 0:(c=r(u,p))<55296||c>56319||p+1===h||(d=r(u,p+1))<56320||d>57343?e?o(u,p):c:e?a(u,p,p+2):d-56320+(c-55296<<10)+65536}};return iO={codeAt:s(!1),charAt:s(!0)}}().charAt;return oO=function(t,i,n){return i+(n?e(t,i).length:1)}}function IO(){if(lO)return TO;lO=1;var e=function(){if(JA)return QA;JA=1;var e=iS(),t=Function.prototype,i=t.apply,n=t.call;return QA="object"==typeof Reflect&&Reflect.apply||(e?n.bind(i):function(){return n.apply(i,arguments)}),QA}(),t=nS(),i=GS(),n=function(){if(tO)return eO;tO=1,YA();var e=nS(),t=Cx(),i=ZA(),n=eS(),o=jC(),r=nx(),a=o("species"),s=RegExp.prototype;return eO=function(l,c,d,u){var p=o(l),h=!n(function(){var e={};return e[p]=function(){return 7},7!==""[l](e)}),f=h&&!n(function(){var e=!1,t=/a/;return"split"===l&&((t={}).constructor={},t.constructor[a]=function(){return t},t.flags="",t[p]=/./[p]),t.exec=function(){return e=!0,null},t[p](""),!e});if(!h||!f||d){var m=/./[p],g=c(p,""[l],function(t,n,o,r,a){var l=n.exec;return l===i||l===s.exec?h&&!a?{done:!0,value:e(m,n,o,r)}:{done:!0,value:e(t,o,n,r)}:{done:!1}});t(String.prototype,l,g[0]),t(s,p,g[1])}u&&r(s[p],"sham",!0)}}(),o=eS(),r=tx(),a=QS(),s=JS(),l=Hx(),c=Wx(),d=xA(),u=ZS(),p=wO(),h=sC(),f=EA(),m=OA(),g=function(){if(sO)return aO;sO=1;var e=nS(),t=tx(),i=QS(),n=XS(),o=ZA(),r=TypeError;return aO=function(a,s){var l=a.exec;if(i(l)){var c=e(l,a,s);return null!==c&&t(c),c}if("RegExp"===n(a))return e(o,a,s);throw new r("RegExp#exec called on incompatible receiver")}}(),v=jC()("replace"),b=Math.max,y=Math.min,T=i([].concat),w=i([].push),I=i("".indexOf),S=i("".slice),C=function(e){return void 0===e?e:String(e)},x="$0"==="a".replace(/./,"$0"),A=!!/./[v]&&""===/./[v]("a","$0");return n("replace",function(i,n,o){var x=A?"$":"$0";return[function(e,i){var o=u(this),r=s(e)?h(e,v):void 0;return r?t(r,e,o,i):t(n,d(o),e,i)},function(t,i){var s=r(this),u=d(t);if("string"==typeof i&&-1===I(i,x)&&-1===I(i,"$<")){var h=o(n,s,u,i);if(h.done)return h.value}var v=a(i);v||(i=d(i));var A,O=d(m(s)),E=-1!==I(O,"g");E&&(A=-1!==I(O,"u"),s.lastIndex=0);for(var _,k=[];null!==(_=g(s,u))&&(w(k,_),E);){""===d(_[0])&&(s.lastIndex=p(u,c(s.lastIndex),A))}for(var R="",M=0,D=0;D<k.length;D++){for(var $,B=d((_=k[D])[0]),F=b(y(l(_.index),u.length),0),L=[],N=1;N<_.length;N++)w(L,C(_[N]));var P=_.groups;if(v){var j=T([B],L,F,u);void 0!==P&&w(j,P),$=d(e(i,void 0,j))}else $=f(B,u,F,L,P,i);F>=M&&(R+=S(u,M,F)+$,M=F+B.length)}return R+S(u,M)}]},!!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})||!x||A),TO}function SO(){if(pO)return uO;pO=1,YA(),IO(),_A();var e=function(){if(dO)return cO;dO=1;var e=WI(),t=GS();return cO=function(i,n){return t(e[i].prototype[n])}}();return uO=e("String","replaceAll")}function CO(){if(gO)return mO;gO=1;var e=function(){if(fO)return hO;fO=1;var e=SO();return hO=e}();return mO=e}function xO(){if(bO)return vO;bO=1,TA||(TA=1,_A());var e=CO();return vO=e}yO||(yO=1,xO());var AO=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var i=-1;return e.some(function(e,n){return e[0]===t&&(i=n,!0)}),i}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var i=e(this.__entries__,t),n=this.__entries__[i];return n&&n[1]},t.prototype.set=function(t,i){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=i:this.__entries__.push([t,i])},t.prototype.delete=function(t){var i=this.__entries__,n=e(i,t);~n&&i.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var i=0,n=this.__entries__;i<n.length;i++){var o=n[i];e.call(t,o[1],o[0])}},t}()}(),OO="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,EO="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),_O="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(EO):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)};var kO=["top","right","bottom","left","width","height","size","weight"],RO="undefined"!=typeof MutationObserver,MO=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var i=!1,n=!1,o=0;function r(){i&&(i=!1,e()),n&&s()}function a(){_O(r)}function s(){var e=Date.now();if(i){if(e-o<2)return;n=!0}else i=!0,n=!1,setTimeout(a,t);o=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){OO&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),RO?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){OO&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=void 0===t?"":t;kO.some(function(e){return!!~i.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),DO=function(e,t){for(var i=0,n=Object.keys(t);i<n.length;i++){var o=n[i];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},$O=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||EO},BO=VO(0,0,0,0);function FO(e){return parseFloat(e)||0}function LO(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.reduce(function(t,i){return t+FO(e["border-"+i+"-width"])},0)}function NO(e){var t=e.clientWidth,i=e.clientHeight;if(!t&&!i)return BO;var n=$O(e).getComputedStyle(e),o=function(e){for(var t={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var o=n[i],r=e["padding-"+o];t[o]=FO(r)}return t}(n),r=o.left+o.right,a=o.top+o.bottom,s=FO(n.width),l=FO(n.height);if("border-box"===n.boxSizing&&(Math.round(s+r)!==t&&(s-=LO(n,"left","right")+r),Math.round(l+a)!==i&&(l-=LO(n,"top","bottom")+a)),!function(e){return e===$O(e).document.documentElement}(e)){var c=Math.round(s+r)-t,d=Math.round(l+a)-i;1!==Math.abs(c)&&(s-=c),1!==Math.abs(d)&&(l-=d)}return VO(o.left,o.top,s,l)}var PO="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof $O(e).SVGGraphicsElement}:function(e){return e instanceof $O(e).SVGElement&&"function"==typeof e.getBBox};function jO(e){return OO?PO(e)?function(e){var t=e.getBBox();return VO(0,0,t.width,t.height)}(e):NO(e):BO}function VO(e,t,i,n){return{x:e,y:t,width:i,height:n}}var UO=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=VO(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=jO(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),HO=function(){return function(e,t){var i,n,o,r,a,s,l,c=(n=(i=t).x,o=i.y,r=i.width,a=i.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),DO(l,{x:n,y:o,width:r,height:a,top:o,right:n+r,bottom:a+o,left:n}),l);DO(this,{target:e,contentRect:c})}}(),WO=function(){function e(e,t,i){if(this.activeObservations_=[],this.observations_=new AO,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof $O(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new UO(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof $O(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new HO(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),zO="undefined"!=typeof WeakMap?new WeakMap:new AO,qO=function(){return function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=MO.getInstance(),n=new WO(t,i,this);zO.set(this,n)}}();["observe","unobserve","disconnect"].forEach(function(e){qO.prototype[e]=function(){var t;return(t=zO.get(this))[e].apply(t,arguments)}});var GO=void 0!==EO.ResizeObserver?EO.ResizeObserver:qO;void 0===window.ResizeObserver&&(window.ResizeObserver=GO);const XO=e=>{e.preventDefault(),e.returnValue=""};var KO,ZO;window.addEventListener?window.addEventListener("beforeunload",XO):window.onbeforeunload=XO,KO=function(e,t){let i,n,o;q(t,!0);let r,a="<div>Loading</div>";function s(){let e=localStorage.getItem("theme"),t=document.head.querySelector("#theme-dark"),i=document.head.querySelector("#theme-light"),n=function(){if(!window.matchMedia)return!1;try{return"not all"!==window.matchMedia("(prefers-color-scheme: dark)").media}catch(Pd){return!1}}();"dark"===e?n?(t&&(t.media="screen and (prefers-color-scheme: light)"),i&&(i.media="screen and (prefers-color-scheme: dark)"),Ru.value="dark"):(t&&(t.media="all"),i&&(i.media="not all")):n||(i&&(i.media="all"),t&&(t.media="not all"))}async function l(e){const t=Array.from(e);for(let o=0;o<t.length;o++){const e=t[o];try{await new Promise((t,i)=>{const n=new Image;n.onload=t,n.onerror=i,n.src=e})}catch(i){console.error(i)}finally{n&&(n.innerHTML=`<div>Images</div><div>${o} / ${t.length}</div>`)}}}async function c(){if(Hu.value){const t="Your browser does not support the .avif format.\n Avif images may not be displayed.";try{await new Promise((e,t)=>{const i=new Image;i.onload=e,i.onerror=t,i.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="})}catch(e){console.error(e),Lu.labelText=t,Lu.isOpen=!0}}}nt(()=>{Lu.isOpen&&(r.close(),r.open(),Lu.isOpen=!1)}),En(()=>{window.debugApp=app,s(),async function(){const e=(await Xu()).transaction("buildStore","readonly").objectStore("buildStore"),t=location.pathname.replace(/\/index\.html$/,"/");await new Promise((i,n)=>{const o=e.openCursor();o.onsuccess=e=>{const n=e.target.result;if(!n)return void i();const o=n.key,r=n.value;if("string"==typeof o&&o.startsWith(t)){const e=o.slice(t.length);if("autoSave"===e)Pu.stored=!0,Pu.time=r.time;else{const t=e.match(/^slot-(\d+)$/),i=Number(t?.[1]);ju[i].stored=!0,ju[i].name=void 0!==r.name?r.name:`Slot ${i+1}`,ju[i].time=r.time}}n.continue()},o.onerror=n})}(),async function(){i=document.getElementById("lm"),o=document.getElementById("projectSize"),n=document.getElementById("indicator");const e=o?parseInt(o.innerHTML):0,t=n?n.className:"";if(n&&(a=n.innerHTML),i&&(i.style.pointerEvents="none",i.style.overflow="hidden"),"function"==typeof window.fetch)try{const r=await fetch("project.json");if(r&&r.body){const s=r.body.getReader(),d=new TextDecoder;let u=0,p="";for(;;){const{done:i,value:o}=await s.read();if(i)break;u+=o.length,p+=d.decode(o,{stream:!0}),n&&(n.innerHTML="ind2"===t&&e>0?`${a}<div>${(u/e*100).toFixed(1)} %</div>`:"ind3"===t&&e>0?`${a}<div>${(u/1e6).toFixed(1)}/${(e/1e6).toFixed(1)} MB</div>`:`${a}<div>${(u/1e6).toFixed(1)} MB</div>`)}i&&(i.style.height="0");const h=Ch(JSON.parse(p)),f=Ih.safeParse(h);f.success?(Oh(f.data),app.preloadExternalImages&&Uu.size>0&&await l(Uu),setTimeout(()=>{const e=document.createElement("style");document.head.appendChild(e),setTimeout(()=>{i&&(i.style.height="",i.style.opacity="1",i.style.overflow="",i.style.pointerEvents=""),n&&n.remove(),o&&o.remove(),e.sheet&&e.sheet.insertRule("body::before{opacity:0;transition:opacity 2s}",0)},1e3)},1e3),await c()):(Lu.labelText="Failed to load data.",Lu.isOpen=!0,console.error(f.error))}}catch(r){console.error(r),i&&(i.style.height="0"),Oh(JSON.parse(JSON.stringify(app))),app.preloadExternalImages&&Uu.size>0&&await l(Uu),setTimeout(()=>{const e=document.createElement("style");document.head.appendChild(e),setTimeout(()=>{i&&(i.style.height="",i.style.opacity="1",i.style.overflow="",i.style.pointerEvents=""),n&&n.remove(),o&&o.remove(),e.sheet&&e.sheet.insertRule("body::before{opacity:0;transition:opacity 2s}",0)},1e3)},1e3),await c()}else{const r=new XMLHttpRequest;r.open("GET","project.json",!0),r.onprogress=i=>{n&&(n.innerHTML="ind2"===t&&e>0?`${a}<div>${(i.loaded/e*100).toFixed(1)} %</div>`:"ind3"===t&&e>0?`${a}<div>${(i.loaded/1e6).toFixed(1)}/${(e/1e6).toFixed(1)} MB</div>`:`${a}<div>${(i.loaded/1e6).toFixed(1)} MB</div>`)},r.onload=async()=>{i&&(i.style.height="0"),200===r.status?(Oh(JSON.parse(r.responseText)),app.preloadExternalImages&&app.externalImages.size>0&&await l(app.externalImages)):Oh(JSON.parse(JSON.stringify(app))),setTimeout(()=>{const e=document.createElement("style");document.head.appendChild(e),setTimeout(()=>{i&&(i.style.height="",i.style.opacity="1",i.style.overflow="",i.style.pointerEvents=""),n&&n.remove(),o&&o.remove(),e.sheet&&e.sheet.insertRule("body::before{opacity:0;transition:opacity 2s}",0)},1e3)},1e3),await c()},r.send()}}(),_n(()=>{$u.update(e=>(e?.destroy(),null))})});var d=PI(),u=Ke(Xe(d),2);NI(u,{}),pn(Uo(Ke(u,2),{get labelText(){return Lu.labelText},get timeoutMs(){return Lu.timeoutMs},children:(e,t)=>{Ho(e,{class:"text-center"})},$$slots:{default:!0}}),e=>r=e,()=>r),Ti(e,d),G()},ZO={target:document.getElementById("app")},function(e,{target:t,anchor:i,props:n={},events:r,context:s,intro:l=!0}){!function(){if(void 0===Pe){Pe=window,je=document,Ve=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,i=Text.prototype;Ue=a(t,"firstChild").get,He=a(t,"nextSibling").get,u(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),u(i)&&(i.__t=void 0)}}();var c=new Set,d=e=>{for(var i=0;i<e.length;i++){var n=e[i];if(!c.has(n)){c.add(n);var o=ri(n);t.addEventListener(n,pi,{passive:o});var r=Ii.get(n);void 0===r?(document.addEventListener(n,pi,{passive:o}),Ii.set(n,1)):Ii.set(n,r+1)}}};d(o(ai)),si.add(d);var p=void 0,h=function(e){Ie.ensure();const t=tt(524352,e,!0);return(e={})=>new Promise(i=>{e.outro?mt(t,()=>{pt(t),i(void 0)}):(pt(t),i(void 0))})}(()=>{var o=i??t.appendChild(We());return ct(()=>{s&&(q({}),U.c=s),r&&(n.$$events=r),p=e(o,n)||{},s&&G()}),()=>{for(var e of c){t.removeEventListener(e,pi);var n=Ii.get(e);0===--n?(document.removeEventListener(e,pi),Ii.delete(e)):Ii.set(e,n)}si.delete(d),o!==i&&o.parentNode?.removeChild(o)}});Si.set(p,h)}(KO,ZO)}();
